(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["index"]=e():t["index"]=e()})("undefined"!==typeof self?self:this,(function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s="fb15")}({"00a1":function(t,e){function r(t){return 0===t?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t+1)}t.exports=r},"00ee":function(t,e,r){var n=r("b622"),i=n("toStringTag"),o={};o[i]="z",t.exports="[object z]"===String(o)},"0366":function(t,e,r){var n=r("1c0b");t.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 0:return function(){return t.call(e)};case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}}},"057f":function(t,e,r){var n=r("fc6a"),i=r("241c").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return i(t)}catch(e){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?s(t):i(n(t))}},"06cf":function(t,e,r){var n=r("83ab"),i=r("d1e7"),o=r("5c6c"),a=r("fc6a"),s=r("c04e"),h=r("5135"),l=r("0cfb"),u=Object.getOwnPropertyDescriptor;e.f=n?u:function(t,e){if(t=a(t),e=s(e,!0),l)try{return u(t,e)}catch(r){}if(h(t,e))return o(!i.f.call(t,e),t[e])}},"07f4":function(t,e,r){"use strict";var n=r("be7f"),i=4,o=0,a=1,s=2;function h(t){var e=t.length;while(--e>=0)t[e]=0}var l=0,u=1,c=2,f=3,d=258,g=29,p=256,m=p+1+g,w=30,y=19,b=2*m+1,v=15,x=16,_=7,M=256,k=16,A=17,E=18,S=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],T=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],I=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],D=512,C=new Array(2*(m+2));h(C);var R=new Array(2*w);h(R);var B=new Array(D);h(B);var O=new Array(d-f+1);h(O);var L=new Array(g);h(L);var U,N,z,F=new Array(w);function j(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}function Y(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function V(t){return t<256?B[t]:B[256+(t>>>7)]}function X(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function $(t,e,r){t.bi_valid>x-r?(t.bi_buf|=e<<t.bi_valid&65535,X(t,t.bi_buf),t.bi_buf=e>>x-t.bi_valid,t.bi_valid+=r-x):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)}function G(t,e,r){$(t,r[2*e],r[2*e+1])}function H(t,e){var r=0;do{r|=1&t,t>>>=1,r<<=1}while(--e>0);return r>>>1}function q(t){16===t.bi_valid?(X(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}function W(t,e){var r,n,i,o,a,s,h=e.dyn_tree,l=e.max_code,u=e.stat_desc.static_tree,c=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,g=e.stat_desc.max_length,p=0;for(o=0;o<=v;o++)t.bl_count[o]=0;for(h[2*t.heap[t.heap_max]+1]=0,r=t.heap_max+1;r<b;r++)n=t.heap[r],o=h[2*h[2*n+1]+1]+1,o>g&&(o=g,p++),h[2*n+1]=o,n>l||(t.bl_count[o]++,a=0,n>=d&&(a=f[n-d]),s=h[2*n],t.opt_len+=s*(o+a),c&&(t.static_len+=s*(u[2*n+1]+a)));if(0!==p){do{o=g-1;while(0===t.bl_count[o])o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[g]--,p-=2}while(p>0);for(o=g;0!==o;o--){n=t.bl_count[o];while(0!==n)i=t.heap[--r],i>l||(h[2*i+1]!==o&&(t.opt_len+=(o-h[2*i+1])*h[2*i],h[2*i+1]=o),n--)}}}function Z(t,e,r){var n,i,o=new Array(v+1),a=0;for(n=1;n<=v;n++)o[n]=a=a+r[n-1]<<1;for(i=0;i<=e;i++){var s=t[2*i+1];0!==s&&(t[2*i]=H(o[s]++,s))}}function K(){var t,e,r,n,i,o=new Array(v+1);for(r=0,n=0;n<g-1;n++)for(L[n]=r,t=0;t<1<<S[n];t++)O[r++]=n;for(O[r-1]=n,i=0,n=0;n<16;n++)for(F[n]=i,t=0;t<1<<T[n];t++)B[i++]=n;for(i>>=7;n<w;n++)for(F[n]=i<<7,t=0;t<1<<T[n]-7;t++)B[256+i++]=n;for(e=0;e<=v;e++)o[e]=0;t=0;while(t<=143)C[2*t+1]=8,t++,o[8]++;while(t<=255)C[2*t+1]=9,t++,o[9]++;while(t<=279)C[2*t+1]=7,t++,o[7]++;while(t<=287)C[2*t+1]=8,t++,o[8]++;for(Z(C,m+1,o),t=0;t<w;t++)R[2*t+1]=5,R[2*t]=H(t,5);U=new j(C,S,p+1,m,v),N=new j(R,T,0,w,v),z=new j(new Array(0),P,0,y,_)}function J(t){var e;for(e=0;e<m;e++)t.dyn_ltree[2*e]=0;for(e=0;e<w;e++)t.dyn_dtree[2*e]=0;for(e=0;e<y;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*M]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function Q(t){t.bi_valid>8?X(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function tt(t,e,r,i){Q(t),i&&(X(t,r),X(t,~r)),n.arraySet(t.pending_buf,t.window,e,r,t.pending),t.pending+=r}function et(t,e,r,n){var i=2*e,o=2*r;return t[i]<t[o]||t[i]===t[o]&&n[e]<=n[r]}function rt(t,e,r){var n=t.heap[r],i=r<<1;while(i<=t.heap_len){if(i<t.heap_len&&et(e,t.heap[i+1],t.heap[i],t.depth)&&i++,et(e,n,t.heap[i],t.depth))break;t.heap[r]=t.heap[i],r=i,i<<=1}t.heap[r]=n}function nt(t,e,r){var n,i,o,a,s=0;if(0!==t.last_lit)do{n=t.pending_buf[t.d_buf+2*s]<<8|t.pending_buf[t.d_buf+2*s+1],i=t.pending_buf[t.l_buf+s],s++,0===n?G(t,i,e):(o=O[i],G(t,o+p+1,e),a=S[o],0!==a&&(i-=L[o],$(t,i,a)),n--,o=V(n),G(t,o,r),a=T[o],0!==a&&(n-=F[o],$(t,n,a)))}while(s<t.last_lit);G(t,M,e)}function it(t,e){var r,n,i,o=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,h=e.stat_desc.elems,l=-1;for(t.heap_len=0,t.heap_max=b,r=0;r<h;r++)0!==o[2*r]?(t.heap[++t.heap_len]=l=r,t.depth[r]=0):o[2*r+1]=0;while(t.heap_len<2)i=t.heap[++t.heap_len]=l<2?++l:0,o[2*i]=1,t.depth[i]=0,t.opt_len--,s&&(t.static_len-=a[2*i+1]);for(e.max_code=l,r=t.heap_len>>1;r>=1;r--)rt(t,o,r);i=h;do{r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],rt(t,o,1),n=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=n,o[2*i]=o[2*r]+o[2*n],t.depth[i]=(t.depth[r]>=t.depth[n]?t.depth[r]:t.depth[n])+1,o[2*r+1]=o[2*n+1]=i,t.heap[1]=i++,rt(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],W(t,e),Z(o,l,t.bl_count)}function ot(t,e,r){var n,i,o=-1,a=e[1],s=0,h=7,l=4;for(0===a&&(h=138,l=3),e[2*(r+1)+1]=65535,n=0;n<=r;n++)i=a,a=e[2*(n+1)+1],++s<h&&i===a||(s<l?t.bl_tree[2*i]+=s:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[2*k]++):s<=10?t.bl_tree[2*A]++:t.bl_tree[2*E]++,s=0,o=i,0===a?(h=138,l=3):i===a?(h=6,l=3):(h=7,l=4))}function at(t,e,r){var n,i,o=-1,a=e[1],s=0,h=7,l=4;for(0===a&&(h=138,l=3),n=0;n<=r;n++)if(i=a,a=e[2*(n+1)+1],!(++s<h&&i===a)){if(s<l)do{G(t,i,t.bl_tree)}while(0!==--s);else 0!==i?(i!==o&&(G(t,i,t.bl_tree),s--),G(t,k,t.bl_tree),$(t,s-3,2)):s<=10?(G(t,A,t.bl_tree),$(t,s-3,3)):(G(t,E,t.bl_tree),$(t,s-11,7));s=0,o=i,0===a?(h=138,l=3):i===a?(h=6,l=3):(h=7,l=4)}}function st(t){var e;for(ot(t,t.dyn_ltree,t.l_desc.max_code),ot(t,t.dyn_dtree,t.d_desc.max_code),it(t,t.bl_desc),e=y-1;e>=3;e--)if(0!==t.bl_tree[2*I[e]+1])break;return t.opt_len+=3*(e+1)+5+5+4,e}function ht(t,e,r,n){var i;for($(t,e-257,5),$(t,r-1,5),$(t,n-4,4),i=0;i<n;i++)$(t,t.bl_tree[2*I[i]+1],3);at(t,t.dyn_ltree,e-1),at(t,t.dyn_dtree,r-1)}function lt(t){var e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return o;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return a;for(e=32;e<p;e++)if(0!==t.dyn_ltree[2*e])return a;return o}h(F);var ut=!1;function ct(t){ut||(K(),ut=!0),t.l_desc=new Y(t.dyn_ltree,U),t.d_desc=new Y(t.dyn_dtree,N),t.bl_desc=new Y(t.bl_tree,z),t.bi_buf=0,t.bi_valid=0,J(t)}function ft(t,e,r,n){$(t,(l<<1)+(n?1:0),3),tt(t,e,r,!0)}function dt(t){$(t,u<<1,3),G(t,M,C),q(t)}function gt(t,e,r,n){var o,a,h=0;t.level>0?(t.strm.data_type===s&&(t.strm.data_type=lt(t)),it(t,t.l_desc),it(t,t.d_desc),h=st(t),o=t.opt_len+3+7>>>3,a=t.static_len+3+7>>>3,a<=o&&(o=a)):o=a=r+5,r+4<=o&&-1!==e?ft(t,e,r,n):t.strategy===i||a===o?($(t,(u<<1)+(n?1:0),3),nt(t,C,R)):($(t,(c<<1)+(n?1:0),3),ht(t,t.l_desc.max_code+1,t.d_desc.max_code+1,h+1),nt(t,t.dyn_ltree,t.dyn_dtree)),J(t),n&&Q(t)}function pt(t,e,r){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(O[r]+p+1)]++,t.dyn_dtree[2*V(e)]++),t.last_lit===t.lit_bufsize-1}e._tr_init=ct,e._tr_stored_block=ft,e._tr_flush_block=gt,e._tr_tally=pt,e._tr_align=dt},"0a83":function(t,e,r){"use strict";var n=function(){self.window=self;function t(){this._listeners={}}t.prototype.on=function(t,e){if(this._listeners[t])throw new RangeError("there is already a listener for "+t);if("function"!==typeof e)throw new TypeError("callback argument must be a function");this._listeners[t]=e},t.prototype._send=function(t,e,r){void 0===r?r=[]:Array.isArray(r)||(r=[r]),self.postMessage({id:t,data:e},r)},t.prototype._trigger=function(t,e){if(!this._listeners[t])throw new Error("event "+t+" is not defined");this._listeners[t].apply(null,e)};var e=new t;self.onmessage=function(t){switch(t.data.action){case"exec":t.data.args.unshift((function(r,n){e._send(t.data.id,r,n)})),e._trigger(t.data.event,t.data.args);break;case"ping":e._send(t.data.id,"pong");break;default:throw new Error("unexpected action: "+t.data.action)}}},i=n.toString().split('"CODE";');e.newWorkerURL=function(t,e){var r=new Blob(["(",i[0],"importScripts.apply(self, "+JSON.stringify(e)+");\n","(",t,")();",i[1],")();"],{type:"application/javascript"});return URL.createObjectURL(r)}},"0cfb":function(t,e,r){var n=r("83ab"),i=r("d039"),o=r("cc12");t.exports=!n&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},"0dd1":function(t,e,r){"use strict";var n=r("c01c"),i=r("d1bd");function o(t,e){var r=t.length;if(1===r){var o=n(t[0],e);return o[0]?o:[o[1]]}var a=new Array(2*r),s=[.1,.1],h=[.1,.1],l=0;n(t[0],e,s),s[0]&&(a[l++]=s[0]);for(var u=1;u<r;++u){n(t[u],e,h);var c=s[1];i(c,h[0],s),s[0]&&(a[l++]=s[0]);var f=h[1],d=s[1],g=f+d,p=g-f,m=d-p;s[1]=g,m&&(a[l++]=m)}return s[1]&&(a[l++]=s[1]),0===l&&(a[l++]=0),a.length=l,a}t.exports=o},"0e20":function(t,e,r){var n=Object.prototype.hasOwnProperty;t.exports=e=function(t,e){return n.call(e,t)},e.version=r("3998").version},"14c3":function(t,e,r){var n=r("c6b6"),i=r("9263");t.exports=function(t,e){var r=t.exec;if("function"===typeof r){var o=r.call(t,e);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==n(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},"159b":function(t,e,r){var n=r("da84"),i=r("fdbc"),o=r("17c2"),a=r("9112");for(var s in i){var h=n[s],l=h&&h.prototype;if(l&&l.forEach!==o)try{a(l,"forEach",o)}catch(u){l.forEach=o}}},"167f":function(t,e,r){"use strict";const n=r("374c"),i={sigma:1};class o{constructor(t){t=Object.assign({},i,t),this.sigma=t.sigma,this.divisor=2*t.sigma*t.sigma}compute(t,e){const r=n(t,e);return Math.exp(-r/this.divisor)}}t.exports=o},"17c2":function(t,e,r){"use strict";var n=r("b727").forEach,i=r("a640"),o=r("ae40"),a=i("forEach"),s=o("forEach");t.exports=a&&s?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},"1a5d":function(t,e,r){"use strict";const n=r("374c").squared,i={sigma:1};class o{constructor(t){t=Object.assign({},i,t),this.sigma=t.sigma}compute(t,e){return 1/(1+n(t,e)/(this.sigma*this.sigma))}}t.exports=o},"1be4":function(t,e,r){var n=r("d066");t.exports=n("document","documentElement")},"1c0b":function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},"1d80":function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on "+t);return t}},"1db9":function(t,e,r){"use strict";e.FFTUtils=r("594c"),e.FFT=r("e57f")},"1dde":function(t,e,r){var n=r("d039"),i=r("b622"),o=r("2d00"),a=i("species");t.exports=function(t){return o>=51||!n((function(){var e=[],r=e.constructor={};return r[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"1fb5":function(t,e,r){"use strict";e.byteLength=u,e.toByteArray=f,e.fromByteArray=p;for(var n=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,h=a.length;s<h;++s)n[s]=a[s],i[a.charCodeAt(s)]=s;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");-1===r&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function u(t){var e=l(t),r=e[0],n=e[1];return 3*(r+n)/4-n}function c(t,e,r){return 3*(e+r)/4-r}function f(t){var e,r,n=l(t),a=n[0],s=n[1],h=new o(c(t,a,s)),u=0,f=s>0?a-4:a;for(r=0;r<f;r+=4)e=i[t.charCodeAt(r)]<<18|i[t.charCodeAt(r+1)]<<12|i[t.charCodeAt(r+2)]<<6|i[t.charCodeAt(r+3)],h[u++]=e>>16&255,h[u++]=e>>8&255,h[u++]=255&e;return 2===s&&(e=i[t.charCodeAt(r)]<<2|i[t.charCodeAt(r+1)]>>4,h[u++]=255&e),1===s&&(e=i[t.charCodeAt(r)]<<10|i[t.charCodeAt(r+1)]<<4|i[t.charCodeAt(r+2)]>>2,h[u++]=e>>8&255,h[u++]=255&e),h}function d(t){return n[t>>18&63]+n[t>>12&63]+n[t>>6&63]+n[63&t]}function g(t,e,r){for(var n,i=[],o=e;o<r;o+=3)n=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),i.push(d(n));return i.join("")}function p(t){for(var e,r=t.length,i=r%3,o=[],a=16383,s=0,h=r-i;s<h;s+=a)o.push(g(t,s,s+a>h?h:s+a));return 1===i?(e=t[r-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"=")),o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},"23cb":function(t,e,r){var n=r("a691"),i=Math.max,o=Math.min;t.exports=function(t,e){var r=n(t);return r<0?i(r+e,0):o(r,e)}},"23e7":function(t,e,r){var n=r("da84"),i=r("06cf").f,o=r("9112"),a=r("6eeb"),s=r("ce4e"),h=r("e893"),l=r("94ca");t.exports=function(t,e){var r,u,c,f,d,g,p=t.target,m=t.global,w=t.stat;if(u=m?n:w?n[p]||s(p,{}):(n[p]||{}).prototype,u)for(c in e){if(d=e[c],t.noTargetGet?(g=i(u,c),f=g&&g.value):f=u[c],r=l(m?c:p+(w?".":"#")+c,t.forced),!r&&void 0!==f){if(typeof d===typeof f)continue;h(d,f)}(t.sham||f&&f.sham)&&o(d,"sham",!0),a(u,c,d,t)}}},"241c":function(t,e,r){var n=r("ca84"),i=r("7839"),o=i.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},"25f0":function(t,e,r){"use strict";var n=r("6eeb"),i=r("825a"),o=r("d039"),a=r("ad6d"),s="toString",h=RegExp.prototype,l=h[s],u=o((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),c=l.name!=s;(u||c)&&n(RegExp.prototype,s,(function(){var t=i(this),e=String(t.source),r=t.flags,n=String(void 0===r&&t instanceof RegExp&&!("flags"in h)?a.call(t):r);return"/"+e+"/"+n}),{unsafe:!0})},"26d1":function(t,e,r){"use strict";const{squaredEuclidean:n}=r("e500"),i={sigma:1};class o{constructor(t){t=Object.assign({},i,t),this.sigma=t.sigma,this.divisor=2*t.sigma*t.sigma}compute(t,e){const r=n(t,e);return Math.exp(-r/this.divisor)}}t.exports=o},"2ceb":function(t,e,r){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},"2d00":function(t,e,r){var n,i,o=r("da84"),a=r("342f"),s=o.process,h=s&&s.versions,l=h&&h.v8;l?(n=l.split("."),i=n[0]+n[1]):a&&(n=a.match(/Edge\/(\d+)/),(!n||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/),n&&(i=n[1]))),t.exports=i&&+i},"342f":function(t,e,r){var n=r("d066");t.exports=n("navigator","userAgent")||""},"374c":function(t,e,r){"use strict";function n(t,e){for(var r=0,n=0;n<t.length;n++)r+=(t[n]-e[n])*(t[n]-e[n]);return r}function i(t,e){return Math.sqrt(n(t,e))}t.exports=i,i.squared=n},"37e8":function(t,e,r){var n=r("83ab"),i=r("9bf2"),o=r("825a"),a=r("df75");t.exports=n?Object.defineProperties:function(t,e){o(t);var r,n=a(e),s=n.length,h=0;while(s>h)i.f(t,r=n[h++],e[r]);return t}},3998:function(t){t.exports=JSON.parse('{"_from":"has-own@^1.0.1","_id":"has-own@1.0.1","_inBundle":false,"_integrity":"sha512-RDKhzgQTQfMaLvIFhjahU+2gGnRBK6dYOd5Gd9BzkmnBneOCRYjRC003RIMrdAbH52+l+CnMS4bBCXGer8tEhg==","_location":"/has-own","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"has-own@^1.0.1","name":"has-own","escapedName":"has-own","rawSpec":"^1.0.1","saveSpec":null,"fetchSpec":"^1.0.1"},"_requiredBy":["/image-js"],"_resolved":"https://registry.npmjs.org/has-own/-/has-own-1.0.1.tgz","_shasum":"7cc78a63e5ffde330fa8d0a6ddaca4a70c495579","_spec":"has-own@^1.0.1","_where":"C:\\\\workFolder\\\\VSCodeProjects\\\\t-ui\\\\node_modules\\\\image-js","author":{"name":"Aaron Heckmann","email":"aaron.heckmann+github@gmail.com"},"bugs":{"url":"https://github.com/aheckmann/has-own/issues"},"bundleDependencies":false,"deprecated":false,"description":"A safer .hasOwnProperty() - hasOwn(name, obj)","devDependencies":{"mocha":"^6.2.2"},"homepage":"https://github.com/aheckmann/has-own/","license":"MIT","main":"index.js","name":"has-own","repository":{"type":"git","url":"git://github.com/aheckmann/has-own.git"},"scripts":{"test":"make test"},"version":"1.0.1"}')},"39a9":function(t,e,r){"use strict";const n={alpha:.01,constant:-Math.E};class i{constructor(t){t=Object.assign({},n,t),this.alpha=t.alpha,this.constant=t.constant}compute(t,e){for(var r=0,n=0;n<t.length;n++)r+=t[n]*e[n];return Math.tanh(this.alpha*r+this.constant)}}t.exports=i},"3bbe":function(t,e,r){var n=r("861d");t.exports=function(t){if(!n(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},"3d78":function(module,exports,__webpack_require__){"use strict";(function(Buffer){const toBytes=t=>[...t].map(t=>t.charCodeAt(0)),xpiZipFilename=toBytes("META-INF/mozilla.rsa"),oxmlContentTypes=toBytes("[Content_Types].xml"),oxmlRels=toBytes("_rels/.rels");function readUInt64LE(t,e=0){let r=t[e],n=1,i=0;while(++i<8)n*=256,r+=t[e+i]*n;return r}const fileType=t=>{if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||Buffer.isBuffer(t)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof t}\``);const e=t instanceof Uint8Array?t:new Uint8Array(t);if(!(e&&e.length>1))return null;const r=(t,r)=>{r=Object.assign({offset:0},r);for(let n=0;n<t.length;n++)if(r.mask){if(t[n]!==(r.mask[n]&e[n+r.offset]))return!1}else if(t[n]!==e[n+r.offset])return!1;return!0},n=(t,e)=>r(toBytes(t),e);if(r([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(r([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(r([71,73,70]))return{ext:"gif",mime:"image/gif"};if(r([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(r([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((r([73,73,42,0])||r([77,77,0,42]))&&r([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(r([73,73,42,0])||r([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(r([66,77]))return{ext:"bmp",mime:"image/bmp"};if(r([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(r([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(r([80,75,3,4])){if(r([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(r(xpiZipFilename,{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(n("mimetypeapplication/vnd.oasis.opendocument.text",{offset:30}))return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};if(n("mimetypeapplication/vnd.oasis.opendocument.spreadsheet",{offset:30}))return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};if(n("mimetypeapplication/vnd.oasis.opendocument.presentation",{offset:30}))return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};const t=(t,e=0)=>t.findIndex((t,r,n)=>r>=e&&80===n[r]&&75===n[r+1]&&3===n[r+2]&&4===n[r+3]);let i=0,o=!1,a=null;do{const s=i+30;if(o||(o=r(oxmlContentTypes,{offset:s})||r(oxmlRels,{offset:s})),a||(n("word/",{offset:s})?a={ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}:n("ppt/",{offset:s})?a={ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}:n("xl/",{offset:s})&&(a={ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),o&&a)return a;i=t(e,s)}while(i>=0);if(a)return a}if(r([80,75])&&(3===e[2]||5===e[2]||7===e[2])&&(4===e[3]||6===e[3]||8===e[3]))return{ext:"zip",mime:"application/zip"};if(r([117,115,116,97,114],{offset:257}))return{ext:"tar",mime:"application/x-tar"};if(r([82,97,114,33,26,7])&&(0===e[6]||1===e[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(r([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(r([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(r([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(r([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(r([51,103,112,53])||r([0,0,0])&&r([102,116,121,112],{offset:4})&&(r([109,112,52,49],{offset:8})||r([109,112,52,50],{offset:8})||r([105,115,111,109],{offset:8})||r([105,115,111,50],{offset:8})||r([109,109,112,52],{offset:8})||r([77,52,86],{offset:8})||r([100,97,115,104],{offset:8})))return{ext:"mp4",mime:"video/mp4"};if(r([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(r([26,69,223,163])){const t=e.subarray(4,4100),r=t.findIndex((t,e,r)=>66===r[e]&&130===r[e+1]);if(-1!==r){const e=r+3,n=r=>[...r].every((r,n)=>t[e+n]===r.charCodeAt(0));if(n("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(n("webm"))return{ext:"webm",mime:"video/webm"}}}if(r([0,0,0,20,102,116,121,112,113,116,32,32])||r([102,114,101,101],{offset:4})||r([102,116,121,112,113,116,32,32],{offset:4})||r([109,100,97,116],{offset:4})||r([109,111,111,118],{offset:4})||r([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(r([82,73,70,70])){if(r([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(r([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(r([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(r([48,38,178,117,142,102,207,17,166,217])){let t=30;do{const n=readUInt64LE(e,t+16);if(r([145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101],{offset:t})){if(r([64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43],{offset:t+24}))return{ext:"wma",mime:"audio/x-ms-wma"};if(r([192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43],{offset:t+24}))return{ext:"wmv",mime:"video/x-ms-asf"};break}t+=n}while(t+24<=e.length);return{ext:"asf",mime:"application/vnd.ms-asf"}}if(r([0,0,1,186])||r([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(r([102,116,121,112,51,103],{offset:4}))return{ext:"3gp",mime:"video/3gpp"};for(let i=0;i<2&&i<e.length-16;i++){if(r([73,68,51],{offset:i})||r([255,226],{offset:i,mask:[255,226]}))return{ext:"mp3",mime:"audio/mpeg"};if(r([255,228],{offset:i,mask:[255,228]}))return{ext:"mp2",mime:"audio/mpeg"};if(r([255,248],{offset:i,mask:[255,252]}))return{ext:"mp2",mime:"audio/mpeg"};if(r([255,240],{offset:i,mask:[255,252]}))return{ext:"mp4",mime:"audio/mpeg"}}if(r([102,116,121,112,77,52,65],{offset:4}))return{ext:"m4a",mime:"audio/mp4"};if(r([79,112,117,115,72,101,97,100],{offset:28}))return{ext:"opus",mime:"audio/opus"};if(r([79,103,103,83]))return r([128,116,104,101,111,114,97],{offset:28})?{ext:"ogv",mime:"video/ogg"}:r([1,118,105,100,101,111,0],{offset:28})?{ext:"ogm",mime:"video/ogg"}:r([127,70,76,65,67],{offset:28})?{ext:"oga",mime:"audio/ogg"}:r([83,112,101,101,120,32,32],{offset:28})?{ext:"spx",mime:"audio/ogg"}:r([1,118,111,114,98,105,115],{offset:28})?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"};if(r([102,76,97,67]))return{ext:"flac",mime:"audio/x-flac"};if(r([77,65,67,32]))return{ext:"ape",mime:"audio/ape"};if(r([119,118,112,107]))return{ext:"wv",mime:"audio/wavpack"};if(r([35,33,65,77,82,10]))return{ext:"amr",mime:"audio/amr"};if(r([37,80,68,70]))return{ext:"pdf",mime:"application/pdf"};if(r([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if((67===e[0]||70===e[0])&&r([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(r([123,92,114,116,102]))return{ext:"rtf",mime:"application/rtf"};if(r([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(r([119,79,70,70])&&(r([0,1,0,0],{offset:4})||r([79,84,84,79],{offset:4})))return{ext:"woff",mime:"font/woff"};if(r([119,79,70,50])&&(r([0,1,0,0],{offset:4})||r([79,84,84,79],{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(r([76,80],{offset:34})&&(r([0,0,1],{offset:8})||r([1,0,2],{offset:8})||r([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(r([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(r([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(r([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(r([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(r([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(r([37,33]))return{ext:"ps",mime:"application/postscript"};if(r([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(r([83,81,76,105]))return{ext:"sqlite",mime:"application/x-sqlite3"};if(r([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(r([67,114,50,52]))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(r([77,83,67,70])||r([73,83,99,40]))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(r([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121]))return{ext:"deb",mime:"application/x-deb"};if(r([33,60,97,114,99,104,62]))return{ext:"ar",mime:"application/x-unix-archive"};if(r([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(r([31,160])||r([31,157]))return{ext:"Z",mime:"application/x-compress"};if(r([76,90,73,80]))return{ext:"lz",mime:"application/x-lzip"};if(r([208,207,17,224,161,177,26,225]))return{ext:"msi",mime:"application/x-msi"};if(r([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(r([71],{offset:4})&&(r([71],{offset:192})||r([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(r([66,76,69,78,68,69,82]))return{ext:"blend",mime:"application/x-blender"};if(r([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(r([0,0,0,12,106,80,32,32,13,10,135,10])){if(r([106,112,50,32],{offset:20}))return{ext:"jp2",mime:"image/jp2"};if(r([106,112,120,32],{offset:20}))return{ext:"jpx",mime:"image/jpx"};if(r([106,112,109,32],{offset:20}))return{ext:"jpm",mime:"image/jpm"};if(r([109,106,112,50],{offset:20}))return{ext:"mj2",mime:"image/mj2"}}if(r([70,79,82,77]))return{ext:"aif",mime:"audio/aiff"};if(n("<?xml "))return{ext:"xml",mime:"application/xml"};if(r([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(r([102,116,121,112],{offset:4})){if(r([109,105,102,49],{offset:8}))return{ext:"heic",mime:"image/heif"};if(r([109,115,102,49],{offset:8}))return{ext:"heic",mime:"image/heif-sequence"};if(r([104,101,105,99],{offset:8})||r([104,101,105,120],{offset:8}))return{ext:"heic",mime:"image/heic"};if(r([104,101,118,99],{offset:8})||r([104,101,118,120],{offset:8}))return{ext:"heic",mime:"image/heic-sequence"}}return r([171,75,84,88,32,49,49,187,13,10,26,10])?{ext:"ktx",mime:"image/ktx"}:r([68,73,67,77],{offset:128})?{ext:"dcm",mime:"application/dicom"}:r([77,80,43])||r([77,80,67,75])?{ext:"mpc",mime:"audio/x-musepack"}:r([66,69,71,73,78,58])?{ext:"ics",mime:"text/calendar"}:r([103,108,84,70,2,0,0,0])?{ext:"glb",mime:"model/gltf-binary"}:r([212,195,178,161])||r([161,178,195,212])?{ext:"pcap",mime:"application/vnd.tcpdump.pcap"}:null};module.exports=fileType,module.exports.default=fileType,Object.defineProperty(fileType,"minimumBytes",{value:4100}),module.exports.stream=readableStream=>new Promise((resolve,reject)=>{const stream=eval("require")("stream");readableStream.once("readable",()=>{const t=new stream.PassThrough,e=readableStream.read(module.exports.minimumBytes)||readableStream.read();try{t.fileType=fileType(e)}catch(r){reject(r)}readableStream.unshift(e),stream.pipeline?resolve(stream.pipeline(readableStream,t,()=>{})):resolve(readableStream.pipe(t))})})}).call(this,__webpack_require__("b639").Buffer)},"3f82":function(t,e,r){"use strict";const n={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},i={};for(var o in n)i[n[o]]=o;t.exports={tagsById:n,tagsByName:i}},4126:function(t,e,r){"use strict";var n=r("a177"),i=r("be7f"),o=r("7b27"),a=r("4dc6"),s=r("8936"),h=Object.prototype.toString,l=0,u=4,c=0,f=1,d=2,g=-1,p=0,m=8;function w(t){if(!(this instanceof w))return new w(t);this.options=i.assign({level:g,method:m,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var r=n.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==c)throw new Error(a[r]);if(e.header&&n.deflateSetHeader(this.strm,e.header),e.dictionary){var l;if(l="string"===typeof e.dictionary?o.string2buf(e.dictionary):"[object ArrayBuffer]"===h.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,r=n.deflateSetDictionary(this.strm,l),r!==c)throw new Error(a[r]);this._dict_set=!0}}function y(t,e){var r=new w(e);if(r.push(t,!0),r.err)throw r.msg||a[r.err];return r.result}function b(t,e){return e=e||{},e.raw=!0,y(t,e)}function v(t,e){return e=e||{},e.gzip=!0,y(t,e)}w.prototype.push=function(t,e){var r,a,s=this.strm,g=this.options.chunkSize;if(this.ended)return!1;a=e===~~e?e:!0===e?u:l,"string"===typeof t?s.input=o.string2buf(t):"[object ArrayBuffer]"===h.call(t)?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(g),s.next_out=0,s.avail_out=g),r=n.deflate(s,a),r!==f&&r!==c)return this.onEnd(r),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||a!==u&&a!==d)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&r!==f);return a===u?(r=n.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===c):a!==d||(this.onEnd(c),s.avail_out=0,!0)},w.prototype.onData=function(t){this.chunks.push(t)},w.prototype.onEnd=function(t){t===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=w,e.deflate=y,e.deflateRaw=b,e.gzip=v},4160:function(t,e,r){"use strict";var n=r("23e7"),i=r("17c2");n({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},"41c8":function(t,e){function r(t,e){t=t||0;for(var r=new Array(t),n=0;n<t;n++)r[n]=e;return r}t.exports=r},"428f":function(t,e,r){var n=r("da84");t.exports=n},"44ad":function(t,e,r){var n=r("d039"),i=r("c6b6"),o="".split;t.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},"466d":function(t,e,r){"use strict";var n=r("d784"),i=r("825a"),o=r("50c4"),a=r("1d80"),s=r("8aa5"),h=r("14c3");n("match",1,(function(t,e,r){return[function(e){var r=a(this),n=void 0==e?void 0:e[t];return void 0!==n?n.call(e,r):new RegExp(e)[t](String(r))},function(t){var n=r(e,t,this);if(n.done)return n.value;var a=i(t),l=String(this);if(!a.global)return h(a,l);var u=a.unicode;a.lastIndex=0;var c,f=[],d=0;while(null!==(c=h(a,l))){var g=String(c[0]);f[d]=g,""===g&&(a.lastIndex=s(l,o(a.lastIndex),u)),d++}return 0===d?null:f}]}))},4930:function(t,e,r){var n=r("d039");t.exports=!!Object.getOwnPropertySymbols&&!n((function(){return!String(Symbol())}))},"4d64":function(t,e,r){var n=r("fc6a"),i=r("50c4"),o=r("23cb"),a=function(t){return function(e,r,a){var s,h=n(e),l=i(h.length),u=o(a,l);if(t&&r!=r){while(l>u)if(s=h[u++],s!=s)return!0}else for(;l>u;u++)if((t||u in h)&&h[u]===r)return t||u||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},"4dc6":function(t,e,r){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},"4de4":function(t,e,r){"use strict";var n=r("23e7"),i=r("b727").filter,o=r("1dde"),a=r("ae40"),s=o("filter"),h=a("filter");n({target:"Array",proto:!0,forced:!s||!h},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},5027:function(t,e,r){"use strict";(function(t){if(t["TextEncoder"]&&t["TextDecoder"])return!1;function e(t="utf-8"){if("utf-8"!==t)throw new RangeError(`Failed to construct 'TextEncoder': The encoding label provided ('${t}') is invalid.`)}function r(t="utf-8",e={fatal:!1}){if("utf-8"!==t)throw new RangeError(`Failed to construct 'TextDecoder': The encoding label provided ('${t}') is invalid.`);if(e.fatal)throw new Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}Object.defineProperty(e.prototype,"encoding",{value:"utf-8"}),e.prototype.encode=function(t,e={stream:!1}){if(e.stream)throw new Error("Failed to encode: the 'stream' option is unsupported.");let r=0;const n=t.length;let i=0,o=Math.max(32,n+(n>>1)+7),a=new Uint8Array(o>>3<<3);while(r<n){let e=t.charCodeAt(r++);if(e>=55296&&e<=56319){if(r<n){const n=t.charCodeAt(r);56320===(64512&n)&&(++r,e=((1023&e)<<10)+(1023&n)+65536)}if(e>=55296&&e<=56319)continue}if(i+4>a.length){o+=8,o*=1+r/t.length*2,o=o>>3<<3;const e=new Uint8Array(o);e.set(a),a=e}if(0!==(4294967168&e)){if(0===(4294965248&e))a[i++]=e>>6&31|192;else if(0===(4294901760&e))a[i++]=e>>12&15|224,a[i++]=e>>6&63|128;else{if(0!==(4292870144&e))continue;a[i++]=e>>18&7|240,a[i++]=e>>12&63|128,a[i++]=e>>6&63|128}a[i++]=63&e|128}else a[i++]=e}return a.slice(0,i)},Object.defineProperty(r.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(r.prototype,"fatal",{value:!1}),Object.defineProperty(r.prototype,"ignoreBOM",{value:!1}),r.prototype.decode=function(t,e={stream:!1}){if(e["stream"])throw new Error("Failed to decode: the 'stream' option is unsupported.");const r=new Uint8Array(t);let n=0;const i=r.length,o=[];while(n<i){const t=r[n++];if(0===t)break;if(0===(128&t))o.push(t);else if(192===(224&t)){const e=63&r[n++];o.push((31&t)<<6|e)}else if(224===(240&t)){const e=63&r[n++],i=63&r[n++];o.push((31&t)<<12|e<<6|i)}else if(240===(248&t)){const e=63&r[n++],i=63&r[n++],a=63&r[n++];let s=(7&t)<<18|e<<12|i<<6|a;s>65535&&(s-=65536,o.push(s>>>10&1023|55296),s=56320|1023&s),o.push(s)}}return String.fromCharCode.apply(null,o)},t["TextEncoder"]=e,t["TextDecoder"]=r})("undefined"!==typeof window?window:"undefined"!==typeof self?self:this)},"50c4":function(t,e,r){var n=r("a691"),i=Math.min;t.exports=function(t){return t>0?i(n(t),9007199254740991):0}},5135:function(t,e){var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},5212:function(t,e,r){"use strict";(function(t){if(t["TextEncoder"]&&t["TextDecoder"])return!1;function e(t="utf-8"){if("utf-8"!==t)throw new RangeError(`Failed to construct 'TextEncoder': The encoding label provided ('${t}') is invalid.`)}function r(t="utf-8",e={fatal:!1}){if("utf-8"!==t)throw new RangeError(`Failed to construct 'TextDecoder': The encoding label provided ('${t}') is invalid.`);if(e.fatal)throw new Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}Object.defineProperty(e.prototype,"encoding",{value:"utf-8"}),e.prototype.encode=function(t,e={stream:!1}){if(e.stream)throw new Error("Failed to encode: the 'stream' option is unsupported.");let r=0;const n=t.length;let i=0,o=Math.max(32,n+(n>>1)+7),a=new Uint8Array(o>>3<<3);while(r<n){let e=t.charCodeAt(r++);if(e>=55296&&e<=56319){if(r<n){const n=t.charCodeAt(r);56320===(64512&n)&&(++r,e=((1023&e)<<10)+(1023&n)+65536)}if(e>=55296&&e<=56319)continue}if(i+4>a.length){o+=8,o*=1+r/t.length*2,o=o>>3<<3;const e=new Uint8Array(o);e.set(a),a=e}if(0!==(4294967168&e)){if(0===(4294965248&e))a[i++]=e>>6&31|192;else if(0===(4294901760&e))a[i++]=e>>12&15|224,a[i++]=e>>6&63|128;else{if(0!==(4292870144&e))continue;a[i++]=e>>18&7|240,a[i++]=e>>12&63|128,a[i++]=e>>6&63|128}a[i++]=63&e|128}else a[i++]=e}return a.slice(0,i)},Object.defineProperty(r.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(r.prototype,"fatal",{value:!1}),Object.defineProperty(r.prototype,"ignoreBOM",{value:!1}),r.prototype.decode=function(t,e={stream:!1}){if(e["stream"])throw new Error("Failed to decode: the 'stream' option is unsupported.");const r=new Uint8Array(t);let n=0;const i=r.length,o=[];while(n<i){const t=r[n++];if(0===t)break;if(0===(128&t))o.push(t);else if(192===(224&t)){const e=63&r[n++];o.push((31&t)<<6|e)}else if(224===(240&t)){const e=63&r[n++],i=63&r[n++];o.push((31&t)<<12|e<<6|i)}else if(240===(248&t)){const e=63&r[n++],i=63&r[n++],a=63&r[n++];let s=(7&t)<<18|e<<12|i<<6|a;s>65535&&(s-=65536,o.push(s>>>10&1023|55296),s=56320|1023&s),o.push(s)}}return String.fromCharCode.apply(null,o)},t["TextEncoder"]=e,t["TextDecoder"]=r})("undefined"!==typeof window?window:"undefined"!==typeof self?self:this)},"53e7":function(t,e,r){"use strict";const n=r("b4ae").Matrix,i=r("26d1"),o=r("b245"),a=r("b19b"),s=r("1a5d"),h=r("167f"),l=r("bd5a"),u=r("df0d"),c=r("aae2"),f=r("d3f1"),d=r("39a9"),g={gaussian:i,rbf:i,polynomial:o,poly:o,anova:a,cauchy:s,exponential:h,histogram:l,min:l,laplacian:u,multiquadratic:c,rational:f,sigmoid:d,mlp:d};class p{constructor(t,e){if(this.kernelType=t,"linear"!==t)if("string"===typeof t){t=t.toLowerCase();var r=g[t];if(!r)throw new Error("unsupported kernel type: "+t);this.kernelFunction=new r(e)}else{if("object"!==typeof t||"function"!==typeof t.compute)throw new TypeError("first argument must be a valid kernel type or instance");this.kernelFunction=t}}compute(t,e){if(void 0===e&&(e=t),"linear"===this.kernelType){var r=new n(t);return r.mmul(new n(e).transposeView())}const i=new n(t.length,e.length);var o,a;if(t===e)for(o=0;o<t.length;o++)for(a=o;a<t.length;a++)i[o][a]=i[a][o]=this.kernelFunction.compute(t[o],t[a]);else for(o=0;o<t.length;o++)for(a=0;a<e.length;a++)i[o][a]=this.kernelFunction.compute(t[o],e[a]);return i}}t.exports=p},5692:function(t,e,r){var n=r("c430"),i=r("c6cd");(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:n?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(t,e,r){var n=r("d066"),i=r("241c"),o=r("7418"),a=r("825a");t.exports=n("Reflect","ownKeys")||function(t){var e=i.f(a(t)),r=o.f;return r?e.concat(r(t)):e}},5788:function(t,e,r){"use strict";e.decode=r("7a82")},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,r){var n=r("1d80"),i=r("5899"),o="["+i+"]",a=RegExp("^"+o+o+"*"),s=RegExp(o+o+"*$"),h=function(t){return function(e){var r=String(n(e));return 1&t&&(r=r.replace(a,"")),2&t&&(r=r.replace(s,"")),r}};t.exports={start:h(1),end:h(2),trim:h(3)}},"594c":function(t,e,r){"use strict";var n=r("e57f"),i={DEBUG:!1,ifft2DArray:function(t,e,r){var i=new Array(e*r),o=e/2,a=2*(r-1);n.init(o);for(var s={re:new Array(o),im:new Array(o)},h=0;h<r;h++){for(var l=o-1;l>=0;l--)s.re[l]=t[2*l*r+h],s.im[l]=t[(2*l+1)*r+h];n.bt(s.re,s.im);for(l=o-1;l>=0;l--)i[2*l*r+h]=s.re[l],i[(2*l+1)*r+h]=s.im[l]}var u=new Array(o*a);n.init(a);var c={re:new Array(a),im:new Array(a)},f=a*o;for(l=0;l<e;l+=2){c.re[0]=i[l*r],c.im[0]=i[(l+1)*r];for(h=1;h<r;h++)c.re[h]=i[l*r+h],c.im[h]=i[(l+1)*r+h],c.re[a-h]=i[l*r+h],c.im[a-h]=-i[(l+1)*r+h];n.bt(c.re,c.im);var d=l/2*a;for(h=a-1;h>=0;h--)u[d+h]=c.re[h]/f}return u},fft2DArray:function(t,e,r,i){Object.assign({},{inplace:!0});var o=r/2+1,a=2*e,s=new Array(a*o);n.init(r);for(var h,l,u,c,f,d={re:new Array(r),im:new Array(r)},g={re:new Array(r),im:new Array(r)},p={re:new Array(r),im:new Array(r)},m=0;m<e/2;m++){h=2*m*r,d.re=t.slice(h,h+r),h=(2*m+1)*r,d.im=t.slice(h,h+r),n.fft1d(d.re,d.im),this.reconstructTwoRealFFT(d,g,p),l=4*m*o,u=(4*m+1)*o,c=(4*m+2)*o,f=(4*m+3)*o;for(var w=o-1;w>=0;w--)s[l+w]=g.re[w],s[u+w]=g.im[w],s[c+w]=p.re[w],s[f+w]=p.im[w]}g=null,p=null;var y=new Array(a*o);n.init(e);for(var b={re:new Array(e),im:new Array(e)},v=o-1;v>=0;v--){for(m=e-1;m>=0;m--)b.re[m]=s[2*m*o+v],b.im[m]=s[(2*m+1)*o+v],isNaN(b.re[m])&&(b.re[m]=0),isNaN(b.im[m])&&(b.im[m]=0);n.fft1d(b.re,b.im);for(m=e-1;m>=0;m--)y[2*m*o+v]=b.re[m],y[(2*m+1)*o+v]=b.im[m]}return y},reconstructTwoRealFFT:function(t,e,r){var n,i,o,a,s,h=t.re.length;e.re[0]=t.re[0],e.im[0]=0,r.re[0]=t.im[0],r.im[0]=0;for(var l=h/2;l>0;l--)s=h-l,n=.5*(t.re[l]-t.re[s]),i=.5*(t.re[l]+t.re[s]),o=.5*(t.im[l]-t.im[s]),a=.5*(t.im[l]+t.im[s]),e.re[l]=i,e.im[l]=o,e.re[s]=i,e.im[s]=-o,r.re[l]=a,r.im[l]=-n,r.re[s]=a,r.im[s]=n},convolute2DI:function(t,e,r,n){for(var i,o,a=0;a<r/2;a++)for(var s=0;s<n;s++)i=t[2*a*n+s]*e[2*a*n+s]-t[(2*a+1)*n+s]*e[(2*a+1)*n+s],o=t[2*a*n+s]*e[(2*a+1)*n+s]+t[(2*a+1)*n+s]*e[2*a*n+s],t[2*a*n+s]=i,t[(2*a+1)*n+s]=o},convolute:function(t,e,r,n,i){for(var o=new Array(n*r),a=0;a<r*n;a++)o[a]=t[a];o=this.fft2DArray(o,r,n);var s,h,l=e.length,u=e[0].length,c=new Array(n*r);for(a=0;a<n*r;a++)c[a]=0;for(var f=Math.floor((l-1)/2),d=Math.floor((u-1)/2),g=0;g<l;g++){s=(g-f+r)%r;for(var p=0;p<u;p++)h=(p-d+n)%n,c[s*n+h]=e[g][p]}c=this.fft2DArray(c,r,n);var m=2*r,w=n/2+1;return this.convolute2DI(o,c,m,w),this.ifft2DArray(o,m,w)},toRadix2:function(t,e,r){var n,i,o,a,s=r,h=e;if(0===r||0!==(r&r-1)){s=0;while(r>>++s!=0);s=1<<s,s-r}if(0===e||0!==(e&e-1)){h=0;while(e>>++h!=0);h=1<<h,(h-e)*s}if(h==e&&s==r)return{data:t,rows:e,cols:r};var l=new Array(h*s),u=Math.floor((h-e)/2)-e,c=Math.floor((s-r)/2)-r;for(n=0;n<h;n++)for(o=n*s,a=(n-u)%e*r,i=0;i<s;i++)l[o+i]=t[a+(i-c)%r];return{data:l,rows:h,cols:s}},crop:function(t,e,r,n,i,o){if(e==n&&r==i)return t;Object.assign({},o);var a,s,h,l,u=new Array(i*n),c=Math.floor((e-n)/2),f=Math.floor((r-i)/2);for(h=0;h<n;h++)for(a=h*i,s=(h+c)*r,l=0;l<i;l++)u[a+l]=t[s+(l+f)];return u}};t.exports=i},"5c6c":function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"5eaf":function(t,e,r){"use strict";e.encode=r("7218")},"5f2b":function(t,e,r){"use strict";t.exports={BITMAPV5HEADER:{LogicalColorSpace:{LCS_CALIBRATED_RGB:0,LCS_sRGB:1934772034,LCS_WINDOWS_COLOR_SPACE:1466527264},Compression:{BI_RGB:0,BI_RLE8:1,BI_RLE4:2,BI_BITFIELDS:3,BI_JPEG:4,BI_PNG:5,BI_CMYK:11,BI_CMYKRLE8:12,BI_CMYKRLE4:13},GamutMappingIntent:{LCS_GM_ABS_COLORIMETRIC:8,LCS_GM_BUSINESS:1,LCS_GM_GRAPHICS:2,LCS_GM_IMAGES:4}}}},"62e4":function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},6547:function(t,e,r){var n=r("a691"),i=r("1d80"),o=function(t){return function(e,r){var o,a,s=String(i(e)),h=n(r),l=s.length;return h<0||h>=l?t?"":void 0:(o=s.charCodeAt(h),o<55296||o>56319||h+1===l||(a=s.charCodeAt(h+1))<56320||a>57343?t?s.charAt(h):o:t?s.slice(h,h+2):a-56320+(o-55296<<10)+65536)}};t.exports={codeAt:o(!1),charAt:o(!0)}},"65f0":function(t,e,r){var n=r("861d"),i=r("e8b5"),o=r("b622"),a=o("species");t.exports=function(t,e){var r;return i(t)&&(r=t.constructor,"function"!=typeof r||r!==Array&&!i(r.prototype)?n(r)&&(r=r[a],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===e?0:e)}},6853:function(t,e,r){"use strict";var n=r("be7f"),i=15,o=852,a=592,s=0,h=1,l=2,u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,r,g,p,m,w,y){var b,v,x,_,M,k,A,E,S,T=y.bits,P=0,I=0,D=0,C=0,R=0,B=0,O=0,L=0,U=0,N=0,z=null,F=0,j=new n.Buf16(i+1),Y=new n.Buf16(i+1),V=null,X=0;for(P=0;P<=i;P++)j[P]=0;for(I=0;I<g;I++)j[e[r+I]]++;for(R=T,C=i;C>=1;C--)if(0!==j[C])break;if(R>C&&(R=C),0===C)return p[m++]=20971520,p[m++]=20971520,y.bits=1,0;for(D=1;D<C;D++)if(0!==j[D])break;for(R<D&&(R=D),L=1,P=1;P<=i;P++)if(L<<=1,L-=j[P],L<0)return-1;if(L>0&&(t===s||1!==C))return-1;for(Y[1]=0,P=1;P<i;P++)Y[P+1]=Y[P]+j[P];for(I=0;I<g;I++)0!==e[r+I]&&(w[Y[e[r+I]]++]=I);if(t===s?(z=V=w,k=19):t===h?(z=u,F-=257,V=c,X-=257,k=256):(z=f,V=d,k=-1),N=0,I=0,P=D,M=m,B=R,O=0,x=-1,U=1<<R,_=U-1,t===h&&U>o||t===l&&U>a)return 1;for(;;){A=P-O,w[I]<k?(E=0,S=w[I]):w[I]>k?(E=V[X+w[I]],S=z[F+w[I]]):(E=96,S=0),b=1<<P-O,v=1<<B,D=v;do{v-=b,p[M+(N>>O)+v]=A<<24|E<<16|S|0}while(0!==v);b=1<<P-1;while(N&b)b>>=1;if(0!==b?(N&=b-1,N+=b):N=0,I++,0===--j[P]){if(P===C)break;P=e[r+w[I]]}if(P>R&&(N&_)!==x){0===O&&(O=R),M+=D,B=P-O,L=1<<B;while(B+O<C){if(L-=j[B+O],L<=0)break;B++,L<<=1}if(U+=1<<B,t===h&&U>o||t===l&&U>a)return 1;x=N&_,p[x]=R<<24|B<<16|M-m|0}}return 0!==N&&(p[M+N]=P-O<<24|64<<16|0),y.bits=R,0}},"69f3":function(t,e,r){var n,i,o,a=r("7f9a"),s=r("da84"),h=r("861d"),l=r("9112"),u=r("5135"),c=r("f772"),f=r("d012"),d=s.WeakMap,g=function(t){return o(t)?i(t):n(t,{})},p=function(t){return function(e){var r;if(!h(e)||(r=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return r}};if(a){var m=new d,w=m.get,y=m.has,b=m.set;n=function(t,e){return b.call(m,t,e),e},i=function(t){return w.call(m,t)||{}},o=function(t){return y.call(m,t)}}else{var v=c("state");f[v]=!0,n=function(t,e){return l(t,v,e),e},i=function(t){return u(t,v)?t[v]:{}},o=function(t){return u(t,v)}}t.exports={set:n,get:i,has:o,enforce:g,getterFor:p}},"6a8e":function(t,e,r){(function(e){var r=function(){"use strict";var t=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),e=4017,r=799,n=3406,i=2276,o=1567,a=3784,s=5793,h=2896;function l(){}function u(t,e){var r,n,i=0,o=[],a=16;while(a>0&&!t[a-1])a--;o.push({children:[],index:0});var s,h=o[0];for(r=0;r<a;r++){for(n=0;n<t[r];n++){h=o.pop(),h.children[h.index]=e[i];while(h.index>0){if(0===o.length)throw new Error("Could not recreate Huffman Table");h=o.pop()}h.index++,o.push(h);while(o.length<=r)o.push(s={children:[],index:0}),h.children[h.index]=s.children,h=s;i++}r+1<a&&(o.push(s={children:[],index:0}),h.children[h.index]=s.children,h=s)}return o[0].children}function c(e,r,n,i,o,a,s,h,l){n.precision,n.samplesPerLine,n.scanLines;var u=n.mcusPerLine,c=n.progressive,f=(n.maxH,n.maxV,r),d=0,g=0;function p(){if(g>0)return g--,d>>g&1;if(d=e[r++],255==d){var t=e[r++];if(t)throw new Error("unexpected marker: "+(d<<8|t).toString(16))}return g=7,d>>>7}function m(t){var e,r=t;while(null!==(e=p())){if(r=r[e],"number"===typeof r)return r;if("object"!==typeof r)throw new Error("invalid huffman sequence")}return null}function w(t){var e=0;while(t>0){var r=p();if(null===r)return;e=e<<1|r,t--}return e}function y(t){var e=w(t);return e>=1<<t-1?e:e+(-1<<t)+1}function b(e,r){var n=m(e.huffmanTableDC),i=0===n?0:y(n);r[0]=e.pred+=i;var o=1;while(o<64){var a=m(e.huffmanTableAC),s=15&a,h=a>>4;if(0!==s){o+=h;var l=t[o];r[l]=y(s),o++}else{if(h<15)break;o+=16}}}function v(t,e){var r=m(t.huffmanTableDC),n=0===r?0:y(r)<<l;e[0]=t.pred+=n}function x(t,e){e[0]|=p()<<l}var _=0;function M(e,r){if(_>0)_--;else{var n=a,i=s;while(n<=i){var o=m(e.huffmanTableAC),h=15&o,u=o>>4;if(0!==h){n+=u;var c=t[n];r[c]=y(h)*(1<<l),n++}else{if(u<15){_=w(u)+(1<<u)-1;break}n+=16}}}}var k,A=0;function E(e,r){var n=a,i=s,o=0;while(n<=i){var h=t[n],u=r[h]<0?-1:1;switch(A){case 0:var c=m(e.huffmanTableAC),f=15&c;o=c>>4;if(0===f)o<15?(_=w(o)+(1<<o),A=4):(o=16,A=1);else{if(1!==f)throw new Error("invalid ACn encoding");k=y(f),A=o?2:3}continue;case 1:case 2:r[h]?r[h]+=(p()<<l)*u:(o--,0===o&&(A=2==A?3:0));break;case 3:r[h]?r[h]+=(p()<<l)*u:(r[h]=k<<l,A=0);break;case 4:r[h]&&(r[h]+=(p()<<l)*u);break}n++}4===A&&(_--,0===_&&(A=0))}function S(t,e,r,n,i){var o=r/u|0,a=r%u,s=o*t.v+n,h=a*t.h+i;e(t,t.blocks[s][h])}function T(t,e,r){var n=r/t.blocksPerLine|0,i=r%t.blocksPerLine;e(t,t.blocks[n][i])}var P,I,D,C,R,B,O=i.length;B=c?0===a?0===h?v:x:0===h?M:E:b;var L,U,N,z,F=0;U=1==O?i[0].blocksPerLine*i[0].blocksPerColumn:u*n.mcusPerColumn,o||(o=U);while(F<U){for(I=0;I<O;I++)i[I].pred=0;if(_=0,1==O)for(P=i[0],R=0;R<o;R++)T(P,B,F),F++;else for(R=0;R<o;R++){for(I=0;I<O;I++)for(P=i[I],N=P.h,z=P.v,D=0;D<z;D++)for(C=0;C<N;C++)S(P,B,F,D,C);if(F++,F===U)break}if(g=0,L=e[r]<<8|e[r+1],L<65280)throw new Error("marker was not found");if(!(L>=65488&&L<=65495))break;r+=2}return r-f}function f(t,l){var u,c,f=[],d=l.blocksPerLine,g=l.blocksPerColumn,p=d<<3,m=new Int32Array(64),w=new Uint8Array(64);function y(t,u,c){var f,d,g,p,m,w,y,b,v,x,_=l.quantizationTable,M=c;for(x=0;x<64;x++)M[x]=t[x]*_[x];for(x=0;x<8;++x){var k=8*x;0!=M[1+k]||0!=M[2+k]||0!=M[3+k]||0!=M[4+k]||0!=M[5+k]||0!=M[6+k]||0!=M[7+k]?(f=s*M[0+k]+128>>8,d=s*M[4+k]+128>>8,g=M[2+k],p=M[6+k],m=h*(M[1+k]-M[7+k])+128>>8,b=h*(M[1+k]+M[7+k])+128>>8,w=M[3+k]<<4,y=M[5+k]<<4,v=f-d+1>>1,f=f+d+1>>1,d=v,v=g*a+p*o+128>>8,g=g*o-p*a+128>>8,p=v,v=m-y+1>>1,m=m+y+1>>1,y=v,v=b+w+1>>1,w=b-w+1>>1,b=v,v=f-p+1>>1,f=f+p+1>>1,p=v,v=d-g+1>>1,d=d+g+1>>1,g=v,v=m*i+b*n+2048>>12,m=m*n-b*i+2048>>12,b=v,v=w*r+y*e+2048>>12,w=w*e-y*r+2048>>12,y=v,M[0+k]=f+b,M[7+k]=f-b,M[1+k]=d+y,M[6+k]=d-y,M[2+k]=g+w,M[5+k]=g-w,M[3+k]=p+m,M[4+k]=p-m):(v=s*M[0+k]+512>>10,M[0+k]=v,M[1+k]=v,M[2+k]=v,M[3+k]=v,M[4+k]=v,M[5+k]=v,M[6+k]=v,M[7+k]=v)}for(x=0;x<8;++x){var A=x;0!=M[8+A]||0!=M[16+A]||0!=M[24+A]||0!=M[32+A]||0!=M[40+A]||0!=M[48+A]||0!=M[56+A]?(f=s*M[0+A]+2048>>12,d=s*M[32+A]+2048>>12,g=M[16+A],p=M[48+A],m=h*(M[8+A]-M[56+A])+2048>>12,b=h*(M[8+A]+M[56+A])+2048>>12,w=M[24+A],y=M[40+A],v=f-d+1>>1,f=f+d+1>>1,d=v,v=g*a+p*o+2048>>12,g=g*o-p*a+2048>>12,p=v,v=m-y+1>>1,m=m+y+1>>1,y=v,v=b+w+1>>1,w=b-w+1>>1,b=v,v=f-p+1>>1,f=f+p+1>>1,p=v,v=d-g+1>>1,d=d+g+1>>1,g=v,v=m*i+b*n+2048>>12,m=m*n-b*i+2048>>12,b=v,v=w*r+y*e+2048>>12,w=w*e-y*r+2048>>12,y=v,M[0+A]=f+b,M[56+A]=f-b,M[8+A]=d+y,M[48+A]=d-y,M[16+A]=g+w,M[40+A]=g-w,M[24+A]=p+m,M[32+A]=p-m):(v=s*c[x+0]+8192>>14,M[0+A]=v,M[8+A]=v,M[16+A]=v,M[24+A]=v,M[32+A]=v,M[40+A]=v,M[48+A]=v,M[56+A]=v)}for(x=0;x<64;++x){var E=128+(M[x]+8>>4);u[x]=E<0?0:E>255?255:E}}for(var b=0;b<g;b++){var v=b<<3;for(u=0;u<8;u++)f.push(new Uint8Array(p));for(var x=0;x<d;x++){y(l.blocks[b][x],w,m);var _=0,M=x<<3;for(c=0;c<8;c++){var k=f[v+c];for(u=0;u<8;u++)k[M+u]=w[_++]}}}return f}function d(t){return t<0?0:t>255?255:t}return l.prototype={load:function(t){var e=new XMLHttpRequest;e.open("GET",t,!0),e.responseType="arraybuffer",e.onload=function(){var t=new Uint8Array(e.response||e.mozResponseArrayBuffer);this.parse(t),this.onload&&this.onload()}.bind(this),e.send(null)},parse:function(e){var r=0;e.length;function n(){var t=e[r]<<8|e[r+1];return r+=2,t}function i(){var t=n(),i=e.subarray(r,r+t-2);return r+=i.length,i}function o(t){var e,r,n=0,i=0;for(r in t.components)t.components.hasOwnProperty(r)&&(e=t.components[r],n<e.h&&(n=e.h),i<e.v&&(i=e.v));var o=Math.ceil(t.samplesPerLine/8/n),a=Math.ceil(t.scanLines/8/i);for(r in t.components)if(t.components.hasOwnProperty(r)){e=t.components[r];for(var s=Math.ceil(Math.ceil(t.samplesPerLine/8)*e.h/n),h=Math.ceil(Math.ceil(t.scanLines/8)*e.v/i),l=o*e.h,u=a*e.v,c=[],f=0;f<u;f++){for(var d=[],g=0;g<l;g++)d.push(new Int32Array(64));c.push(d)}e.blocksPerLine=s,e.blocksPerColumn=h,e.blocks=c}t.maxH=n,t.maxV=i,t.mcusPerLine=o,t.mcusPerColumn=a}var a,s,h=null,l=null,d=[],g=[],p=[],m=[],w=n();if(65496!=w)throw new Error("SOI not found");w=n();while(65497!=w){switch(w){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var y=i();65504===w&&74===y[0]&&70===y[1]&&73===y[2]&&70===y[3]&&0===y[4]&&(h={version:{major:y[5],minor:y[6]},densityUnits:y[7],xDensity:y[8]<<8|y[9],yDensity:y[10]<<8|y[11],thumbWidth:y[12],thumbHeight:y[13],thumbData:y.subarray(14,14+3*y[12]*y[13])}),65518===w&&65===y[0]&&100===y[1]&&111===y[2]&&98===y[3]&&101===y[4]&&0===y[5]&&(l={version:y[6],flags0:y[7]<<8|y[8],flags1:y[9]<<8|y[10],transformCode:y[11]});break;case 65499:var b=n(),v=b+r-2;while(r<v){var x=e[r++],_=new Int32Array(64);if(x>>4===0)for(V=0;V<64;V++){var M=t[V];_[M]=e[r++]}else{if(x>>4!==1)throw new Error("DQT: invalid table spec");for(V=0;V<64;V++){M=t[V];_[M]=n()}}d[15&x]=_}break;case 65472:case 65473:case 65474:n(),a={},a.extended=65473===w,a.progressive=65474===w,a.precision=e[r++],a.scanLines=n(),a.samplesPerLine=n(),a.components={},a.componentsOrder=[];var k,A=e[r++];for(j=0;j<A;j++){k=e[r];var E=e[r+1]>>4,S=15&e[r+1],T=e[r+2];a.componentsOrder.push(k),a.components[k]={h:E,v:S,quantizationIdx:T},r+=3}o(a),g.push(a);break;case 65476:var P=n();for(j=2;j<P;){var I=e[r++],D=new Uint8Array(16),C=0;for(V=0;V<16;V++,r++)C+=D[V]=e[r];var R=new Uint8Array(C);for(V=0;V<C;V++,r++)R[V]=e[r];j+=17+C,(I>>4===0?m:p)[15&I]=u(D,R)}break;case 65501:n(),s=n();break;case 65498:n();var B=e[r++],O=[];for(j=0;j<B;j++){X=a.components[e[r++]];var L=e[r++];X.huffmanTableDC=m[L>>4],X.huffmanTableAC=p[15&L],O.push(X)}var U=e[r++],N=e[r++],z=e[r++],F=c(e,r,a,O,s,U,N,z>>4,15&z);r+=F;break;case 65535:255!==e[r]&&r--;break;default:if(255==e[r-3]&&e[r-2]>=192&&e[r-2]<=254){r-=3;break}throw new Error("unknown JPEG marker "+w.toString(16))}w=n()}if(1!=g.length)throw new Error("only single frame JPEGs supported");for(var j=0;j<g.length;j++){var Y=g[j].components;for(var V in Y)Y[V].quantizationTable=d[Y[V].quantizationIdx],delete Y[V].quantizationIdx}this.width=a.samplesPerLine,this.height=a.scanLines,this.jfif=h,this.adobe=l,this.components=[];for(j=0;j<a.componentsOrder.length;j++){var X=a.components[a.componentsOrder[j]];this.components.push({lines:f(a,X),scaleX:X.h/a.maxH,scaleY:X.v/a.maxV})}},getData:function(t,e){var r,n,i,o,a,s,h,l,u,c,f,g,p,m,w,y,b,v,x,_,M,k=this.width/t,A=this.height/e,E=0,S=t*e*this.components.length,T=new Uint8Array(S);switch(this.components.length){case 1:for(r=this.components[0],c=0;c<e;c++)for(a=r.lines[0|c*r.scaleY*A],u=0;u<t;u++)f=a[0|u*r.scaleX*k],T[E++]=f;break;case 2:for(r=this.components[0],n=this.components[1],c=0;c<e;c++)for(a=r.lines[0|c*r.scaleY*A],s=n.lines[0|c*n.scaleY*A],u=0;u<t;u++)f=a[0|u*r.scaleX*k],T[E++]=f,f=s[0|u*n.scaleX*k],T[E++]=f;break;case 3:for(M=!0,this.adobe&&this.adobe.transformCode?M=!0:"undefined"!==typeof this.colorTransform&&(M=!!this.colorTransform),r=this.components[0],n=this.components[1],i=this.components[2],c=0;c<e;c++)for(a=r.lines[0|c*r.scaleY*A],s=n.lines[0|c*n.scaleY*A],h=i.lines[0|c*i.scaleY*A],u=0;u<t;u++)M?(f=a[0|u*r.scaleX*k],g=s[0|u*n.scaleX*k],p=h[0|u*i.scaleX*k],v=d(f+1.402*(p-128)),x=d(f-.3441363*(g-128)-.71413636*(p-128)),_=d(f+1.772*(g-128))):(v=a[0|u*r.scaleX*k],x=s[0|u*n.scaleX*k],_=h[0|u*i.scaleX*k]),T[E++]=v,T[E++]=x,T[E++]=_;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(M=!1,this.adobe&&this.adobe.transformCode?M=!0:"undefined"!==typeof this.colorTransform&&(M=!!this.colorTransform),r=this.components[0],n=this.components[1],i=this.components[2],o=this.components[3],c=0;c<e;c++)for(a=r.lines[0|c*r.scaleY*A],s=n.lines[0|c*n.scaleY*A],h=i.lines[0|c*i.scaleY*A],l=o.lines[0|c*o.scaleY*A],u=0;u<t;u++)M?(f=a[0|u*r.scaleX*k],g=s[0|u*n.scaleX*k],p=h[0|u*i.scaleX*k],m=l[0|u*o.scaleX*k],w=255-d(f+1.402*(p-128)),y=255-d(f-.3441363*(g-128)-.71413636*(p-128)),b=255-d(f+1.772*(g-128))):(w=a[0|u*r.scaleX*k],y=s[0|u*n.scaleX*k],b=h[0|u*i.scaleX*k],m=l[0|u*o.scaleX*k]),T[E++]=255-w,T[E++]=255-y,T[E++]=255-b,T[E++]=255-m;break;default:throw new Error("Unsupported color mode")}return T},copyToImageData:function(t,e){var r,n,i,o,a,s,h,l,u,c=t.width,f=t.height,g=t.data,p=this.getData(c,f),m=0,w=0;switch(this.components.length){case 1:for(n=0;n<f;n++)for(r=0;r<c;r++)i=p[m++],g[w++]=i,g[w++]=i,g[w++]=i,e&&(g[w++]=255);break;case 3:for(n=0;n<f;n++)for(r=0;r<c;r++)h=p[m++],l=p[m++],u=p[m++],g[w++]=h,g[w++]=l,g[w++]=u,e&&(g[w++]=255);break;case 4:for(n=0;n<f;n++)for(r=0;r<c;r++)a=p[m++],s=p[m++],i=p[m++],o=p[m++],h=255-d(a*(1-o/255)+o),l=255-d(s*(1-o/255)+o),u=255-d(i*(1-o/255)+o),g[w++]=h,g[w++]=l,g[w++]=u,e&&(g[w++]=255);break;default:throw new Error("Unsupported color mode")}}},l}();function n(t,n){var i={useTArray:!1,colorTransform:void 0,formatAsRGBA:!0};n?"object"===typeof n?n={useTArray:"undefined"===typeof n.useTArray?i.useTArray:n.useTArray,colorTransform:"undefined"===typeof n.colorTransform?i.colorTransform:n.colorTransform,formatAsRGBA:"undefined"===typeof n.formatAsRGBA?i.formatAsRGBA:n.formatAsRGBA}:(n=i,n.useTArray=!0):n=i;var o=new Uint8Array(t),a=new r;a.parse(o),a.colorTransform=n.colorTransform;var s=n.formatAsRGBA?4:3,h=a.width*a.height*s;try{var l={width:a.width,height:a.height,data:n.useTArray?new Uint8Array(h):new e(h)}}catch(u){throw u instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+h):u}return a.copyToImageData(l,n.formatAsRGBA),l}t.exports=n}).call(this,r("b639").Buffer)},"6b83":function(t,e,r){var n;(function(e){t.exports=e()})((function(){return function t(e,r,i){function o(s,h){if(!r[s]){if(!e[s]){var l="function"==typeof n&&n;if(!h&&l)return n(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[s]={exports:{}};e[s][0].call(c.exports,(function(t){var r=e[s][1][t];return o(r||t)}),c,c.exports,t,e,r,i)}return r[s].exports}for(var a="function"==typeof n&&n,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,e,r){var n,i,o,a,s,h=function(t,e){for(var r in e)l.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l={}.hasOwnProperty;n=t("./PriorityQueue/AbstractPriorityQueue"),i=t("./PriorityQueue/ArrayStrategy"),a=t("./PriorityQueue/BinaryHeapStrategy"),o=t("./PriorityQueue/BHeapStrategy"),s=function(t){function e(t){t||(t={}),t.strategy||(t.strategy=a),t.comparator||(t.comparator=function(t,e){return(t||0)-(e||0)}),e.__super__.constructor.call(this,t)}return h(e,t),e}(n),s.ArrayStrategy=i,s.BinaryHeapStrategy=a,s.BHeapStrategy=o,e.exports=s},{"./PriorityQueue/AbstractPriorityQueue":2,"./PriorityQueue/ArrayStrategy":3,"./PriorityQueue/BHeapStrategy":4,"./PriorityQueue/BinaryHeapStrategy":5}],2:[function(t,e,r){e.exports=function(){function t(t){var e;if(null==(null!=t?t.strategy:void 0))throw"Must pass options.strategy, a strategy";if(null==(null!=t?t.comparator:void 0))throw"Must pass options.comparator, a comparator";this.priv=new t.strategy(t),this.length=(null!=t&&null!=(e=t.initialValues)?e.length:void 0)||0}return t.prototype.queue=function(t){this.length++,this.priv.queue(t)},t.prototype.dequeue=function(t){if(!this.length)throw"Empty queue";return this.length--,this.priv.dequeue()},t.prototype.peek=function(t){if(!this.length)throw"Empty queue";return this.priv.peek()},t.prototype.clear=function(){return this.length=0,this.priv.clear()},t}()},{}],3:[function(t,e,r){var n;n=function(t,e,r){var n,i,o;i=0,n=t.length;while(i<n)o=i+n>>>1,r(t[o],e)>=0?i=o+1:n=o;return i},e.exports=function(){function t(t){var e;this.options=t,this.comparator=this.options.comparator,this.data=(null!=(e=this.options.initialValues)?e.slice(0):void 0)||[],this.data.sort(this.comparator).reverse()}return t.prototype.queue=function(t){var e;e=n(this.data,t,this.comparator),this.data.splice(e,0,t)},t.prototype.dequeue=function(){return this.data.pop()},t.prototype.peek=function(){return this.data[this.data.length-1]},t.prototype.clear=function(){this.data.length=0},t}()},{}],4:[function(t,e,r){e.exports=function(){function t(t){var e,r,n,i,o,a,s,h;this.comparator=(null!=t?t.comparator:void 0)||function(t,e){return t-e},this.pageSize=(null!=t?t.pageSize:void 0)||512,this.length=0,s=0;while(1<<s<this.pageSize)s+=1;if(1<<s!==this.pageSize)throw"pageSize must be a power of two";for(this._shift=s,this._emptyMemoryPageTemplate=e=[],r=0,o=this.pageSize;0<=o?r<o:r>o;0<=o?++r:--r)e.push(null);if(this._memory=[],this._mask=this.pageSize-1,t.initialValues)for(a=t.initialValues,n=0,i=a.length;n<i;n++)h=a[n],this.queue(h)}return t.prototype.queue=function(t){this.length+=1,this._write(this.length,t),this._bubbleUp(this.length,t)},t.prototype.dequeue=function(){var t,e;return t=this._read(1),e=this._read(this.length),this.length-=1,this.length>0&&(this._write(1,e),this._bubbleDown(1,e)),t},t.prototype.peek=function(){return this._read(1)},t.prototype.clear=function(){this.length=0,this._memory.length=0},t.prototype._write=function(t,e){var r;r=t>>this._shift;while(r>=this._memory.length)this._memory.push(this._emptyMemoryPageTemplate.slice(0));return this._memory[r][t&this._mask]=e},t.prototype._read=function(t){return this._memory[t>>this._shift][t&this._mask]},t.prototype._bubbleUp=function(t,e){var r,n,i,o;r=this.comparator;while(t>1){if(n=t&this._mask,t<this.pageSize||n>3?i=t&~this._mask|n>>1:n<2?(i=t-this.pageSize>>this._shift,i+=i&~(this._mask>>1),i|=this.pageSize>>1):i=t-2,o=this._read(i),r(o,e)<0)break;this._write(i,e),this._write(t,o),t=i}},t.prototype._bubbleDown=function(t,e){var r,n,i,o,a;a=this.comparator;while(t<this.length)if(t>this._mask&&!(t&this._mask-1)?r=n=t+2:t&this.pageSize>>1?(r=(t&~this._mask)>>1,r|=t&this._mask>>1,r=r+1<<this._shift,n=r+1):(r=t+(t&this._mask),n=r+1),r!==n&&n<=this.length)if(i=this._read(r),o=this._read(n),a(i,e)<0&&a(i,o)<=0)this._write(r,e),this._write(t,i),t=r;else{if(!(a(o,e)<0))break;this._write(n,e),this._write(t,o),t=n}else{if(!(r<=this.length))break;if(i=this._read(r),!(a(i,e)<0))break;this._write(r,e),this._write(t,i),t=r}},t}()},{}],5:[function(t,e,r){e.exports=function(){function t(t){var e;this.comparator=(null!=t?t.comparator:void 0)||function(t,e){return t-e},this.length=0,this.data=(null!=(e=t.initialValues)?e.slice(0):void 0)||[],this._heapify()}return t.prototype._heapify=function(){var t,e,r;if(this.data.length>0)for(t=e=1,r=this.data.length;1<=r?e<r:e>r;t=1<=r?++e:--e)this._bubbleUp(t)},t.prototype.queue=function(t){this.data.push(t),this._bubbleUp(this.data.length-1)},t.prototype.dequeue=function(){var t,e;return e=this.data[0],t=this.data.pop(),this.data.length>0&&(this.data[0]=t,this._bubbleDown(0)),e},t.prototype.peek=function(){return this.data[0]},t.prototype.clear=function(){this.length=0,this.data.length=0},t.prototype._bubbleUp=function(t){var e,r;while(t>0){if(e=t-1>>>1,!(this.comparator(this.data[t],this.data[e])<0))break;r=this.data[e],this.data[e]=this.data[t],this.data[t]=r,t=e}},t.prototype._bubbleDown=function(t){var e,r,n,i,o;e=this.data.length-1;while(1){if(r=1+(t<<1),i=r+1,n=t,r<=e&&this.comparator(this.data[r],this.data[n])<0&&(n=r),i<=e&&this.comparator(this.data[i],this.data[n])<0&&(n=i),n===t)break;o=this.data[n],this.data[n]=this.data[t],this.data[t]=o,t=n}},t}()},{}]},{},[1])(1)}))},"6eeb":function(t,e,r){var n=r("da84"),i=r("9112"),o=r("5135"),a=r("ce4e"),s=r("8925"),h=r("69f3"),l=h.get,u=h.enforce,c=String(String).split("String");(t.exports=function(t,e,r,s){var h=!!s&&!!s.unsafe,l=!!s&&!!s.enumerable,f=!!s&&!!s.noTargetGet;"function"==typeof r&&("string"!=typeof e||o(r,"name")||i(r,"name",e),u(r).source=c.join("string"==typeof e?e:"")),t!==n?(h?!f&&t[e]&&(l=!0):delete t[e],l?t[e]=r:i(t,e,r)):l?t[e]=r:a(e,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||s(this)}))},"6f21":function(t,e,r){var n=r("1db9").FFTUtils;function i(t,e,r){var i,o,a=s(t),h=a.data,l=Object.assign({normalize:!1,divisor:1,rows:a.rows,cols:a.cols},r);if(!l.rows||!l.cols)throw new Error("Invalid number of rows or columns "+i+" "+o);i=l.rows,o=l.cols;var u,c,f=l.divisor,d=e.length,g=e[0].length;if(l.normalize)for(f=0,u=0;u<d;u++)for(c=0;c<g;c++)f+=e[u][c];if(0===f)throw new RangeError("convolution: The divisor is equal to zero");var p=n.toRadix2(h,i,o),m=n.convolute(p.data,e,p.rows,p.cols);if(m=n.crop(m,p.rows,p.cols,i,o),0!=f&&1!=f)for(u=0;u<m.length;u++)m[u]/=f;return m}function o(t,e,r){var n,i,o=s(t),a=o.data,h=Object.assign({normalize:!1,divisor:1,rows:o.rows,cols:o.cols},r);if(!h.rows||!h.cols)throw new Error("Invalid number of rows or columns "+n+" "+i);n=h.rows,i=h.cols;var l,u,c,f,d,g,p,m,w,y=h.divisor,b=e.length,v=e[0].length;if(h.normalize)for(y=0,l=0;l<b;l++)for(u=0;u<v;u++)y+=e[l][u];if(0===y)throw new RangeError("convolution: The divisor is equal to zero");var x=new Array(n*i),_=Math.floor(b/2),M=Math.floor(v/2);for(f=0;f<n;f++)for(c=0;c<i;c++){for(g=0,u=0;u<b;u++)for(l=0;l<v;l++)p=e[b-u-1][v-l-1],m=(f+u-_+n)%n,w=(c+l-M+i)%i,d=m*i+w,g+=a[d]*p;d=f*i+c,x[d]=g/y}return x}function a(t,e,r){var n=1e3;r&&r.factor&&(n=r.factor);var i,o,a,s,h=new Array(e);n*=-1;var l=(e-1)/2,u=2*t*t;for(i=0;i<e;i++)for(h[i]=new Array(e),s=(i-l)*(i-l),o=0;o<e;o++)a=-((o-l)*(o-l)+s)/u,h[i][o]=Math.round(n*(1+a)*Math.exp(a));return h}function s(t){var e,r,n=t;if("number"!=typeof t[0]){e=t.length,r=t[0].length,n=new Array(e*r);for(var i=0;i<e;i++)for(var o=0;o<r;o++)n[i*r+o]=t[i][o]}else{var a=Math.sqrt(t.length);Number.isInteger(a)&&(e=a,r=a)}return{data:n,rows:e,cols:r}}t.exports={fft:i,direct:o,kernelFactory:{LoG:a},matrix2Array:s}},"705b":function(t,e,r){t.exports=i;var n=r("92ba");function i(t,e){for(var r=e[0],i=e[1],o=t.length,a=1,s=o,h=0,l=o-1;h<s;l=h++){var u=t[h],c=t[l],f=u[1],d=c[1];if(d<f){if(d<i&&i<f){var g=n(u,c,e);if(0===g)return 0;a^=0<g|0}else if(i===f){var p=t[(h+1)%o],m=p[1];if(f<m){g=n(u,c,e);if(0===g)return 0;a^=0<g|0}}}else if(f<d){if(f<i&&i<d){g=n(u,c,e);if(0===g)return 0;a^=g<0|0}else if(i===f){p=t[(h+1)%o],m=p[1];if(m<f){g=n(u,c,e);if(0===g)return 0;a^=g<0|0}}}else if(i===f){var w=Math.min(u[0],c[0]),y=Math.max(u[0],c[0]);if(0===h){while(l>0){var b=(l+o-1)%o,v=t[b];if(v[1]!==i)break;var x=v[0];w=Math.min(w,x),y=Math.max(y,x),l=b}if(0===l)return w<=r&&r<=y?0:1;s=l+1}var _=t[(l+o-1)%o][1];while(h+1<s){v=t[h+1];if(v[1]!==i)break;x=v[0];w=Math.min(w,x),y=Math.max(y,x),h+=1}if(w<=r&&r<=y)return 0;var M=t[(h+1)%o][1];r<w&&_<i!==M<i&&(a^=1)}}return 2*a-1}},7156:function(t,e,r){var n=r("861d"),i=r("d2bb");t.exports=function(t,e,r){var o,a;return i&&"function"==typeof(o=e.constructor)&&o!==r&&n(a=o.prototype)&&a!==r.prototype&&i(t,a),t}},"717e":function(t,e,r){"use strict";var n=r("9e6e"),i=r("be7f"),o=r("7b27"),a=r("2ceb"),s=r("4dc6"),h=r("8936"),l=r("8013"),u=Object.prototype.toString;function c(t){if(!(this instanceof c))return new c(t);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0===(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var r=n.inflateInit2(this.strm,e.windowBits);if(r!==a.Z_OK)throw new Error(s[r]);if(this.header=new l,n.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"===typeof e.dictionary?e.dictionary=o.string2buf(e.dictionary):"[object ArrayBuffer]"===u.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=n.inflateSetDictionary(this.strm,e.dictionary),r!==a.Z_OK)))throw new Error(s[r])}function f(t,e){var r=new c(e);if(r.push(t,!0),r.err)throw r.msg||s[r.err];return r.result}function d(t,e){return e=e||{},e.raw=!0,f(t,e)}c.prototype.push=function(t,e){var r,s,h,l,c,f=this.strm,d=this.options.chunkSize,g=this.options.dictionary,p=!1;if(this.ended)return!1;s=e===~~e?e:!0===e?a.Z_FINISH:a.Z_NO_FLUSH,"string"===typeof t?f.input=o.binstring2buf(t):"[object ArrayBuffer]"===u.call(t)?f.input=new Uint8Array(t):f.input=t,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new i.Buf8(d),f.next_out=0,f.avail_out=d),r=n.inflate(f,a.Z_NO_FLUSH),r===a.Z_NEED_DICT&&g&&(r=n.inflateSetDictionary(this.strm,g)),r===a.Z_BUF_ERROR&&!0===p&&(r=a.Z_OK,p=!1),r!==a.Z_STREAM_END&&r!==a.Z_OK)return this.onEnd(r),this.ended=!0,!1;f.next_out&&(0!==f.avail_out&&r!==a.Z_STREAM_END&&(0!==f.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(h=o.utf8border(f.output,f.next_out),l=f.next_out-h,c=o.buf2string(f.output,h),f.next_out=l,f.avail_out=d-l,l&&i.arraySet(f.output,f.output,h,l,0),this.onData(c)):this.onData(i.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(p=!0)}while((f.avail_in>0||0===f.avail_out)&&r!==a.Z_STREAM_END);return r===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(r=n.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),f.avail_out=0,!0)},c.prototype.onData=function(t){this.chunks.push(t)},c.prototype.onEnd=function(t){t===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=c,e.inflate=f,e.inflateRaw=d,e.ungzip=f},7218:function(t,e,r){"use strict";const n=r("9177"),i=r("5f2b"),o=[];for(var a=0;a<=8;a++)o.push(255<<a);function s(t,e){const r=4*Math.floor((e.bitDepth*e.width+31)/32),i=Math.ceil(e.bitDepth*e.width/8),a=r-i,s=e.bitDepth*e.width%8,h=0===s?0:8-s,l=r*e.height;var u,c;const f=new n(e.data);let d=0,g=0,p=8;t.mark(),c=f.readUint8();for(var m=e.height-1;m>=0;m--){const e=0===m;t.reset(),t.skip(m*r);for(var w=0;w<i;w++){const r=w===i-1;g<=h&&r?(t.writeByte(c<<g),0!==h&&h!==g||e||(u=c,c=f.readByte())):0===g?(u=c,c=f.readUint8(),t.writeByte(u)):(u=c,c=f.readUint8(),t.writeByte(u<<g&o[g]|c>>p)),r?(d+=s||8,t.skip(a),g=d%8,p=8-g):d+=8}}r>i&&(t.reset(),t.skip(l-1),t.writeUint8(0))}function h(t,e){e.bitDepth>8||t.writeUint32(0).writeUint32(16777215)}function l(t,e){t.writeChars("BM"),t.writeInt32(t._lastWrittenByte),t.writeUint16(0),t.writeUint16(0),t.writeUint32(e)}function u(t,e){t.writeUint32(124).writeInt32(e.width).writeInt32(e.height).writeUint16(1).writeUint16(e.bitDepth).writeUint32(i.BITMAPV5HEADER.Compression.BI_RGB).writeUint32(e.width*e.height*e.bitDepth).writeInt32(0).writeInt32(0).writeUint32(Math.pow(2,e.bitDepth)).writeUint32(Math.pow(2,e.bitDepth)).writeUint32(4278190080).writeUint32(16711680).writeUint32(65280).writeUint32(255).writeUint32(i.BITMAPV5HEADER.LogicalColorSpace.LCS_sRGB).skip(36).skip(12).writeUint32(i.BITMAPV5HEADER.GamutMappingIntent.LCS_GM_IMAGES).skip(12)}t.exports=function(t){if(1!==t.bitDepth)throw new Error("Only bitDepth of 1 is supported");if(!t.height||!t.width)throw new Error("ImageData width and height are required");if(1!==t.components)throw new Error("Only 1 component is supported");if(1!==t.channels)throw new Error("Only 1 channel is supported");var e=new n;e.skip(14),u(e,t),h(e,t);const r=e.offset;return s(e,t),e.rewind(),l(e,r),e.getBuffer()}},7418:function(t,e){e.f=Object.getOwnPropertySymbols},"746f":function(t,e,r){var n=r("428f"),i=r("5135"),o=r("e538"),a=r("9bf2").f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});i(e,t)||a(e,t,{value:o.f(t)})}},"77b0":function(t,e,r){"use strict";var n=r("0a83"),i=navigator.hardwareConcurrency||1;Function.prototype;function o(t,e){if("string"!==typeof t&&"function"!==typeof t)throw new TypeError("func argument must be a function");if(void 0===e&&(e={}),"object"!==typeof e||null===e)throw new TypeError("options argument must be an object");this._workerCode=t.toString(),void 0===e.maxWorkers||"auto"===e.maxWorkers?this._numWorkers=Math.min(i-1,1):e.maxWorkers>0?this._numWorkers=Math.min(e.maxWorkers,i):this._numWorkers=i,this._workers=new Map,this._timeout=e.timeout||0,this._terminateOnError=!!e.terminateOnError;var r=e.deps;"string"===typeof r&&(r=[r]),Array.isArray(r)||(r=void 0),this._id=0,this._terminated=!1,this._working=0,this._waiting=[],this._init(r)}o.prototype._init=function(t){for(var e=n.newWorkerURL(this._workerCode,t),r=0;r<this._numWorkers;r++){var i=new Worker(e);i.onmessage=this._onmessage.bind(this,i),i.onerror=this._onerror.bind(this,i),i.running=!1,i.id=r,this._workers.set(i,null)}URL.revokeObjectURL(e)},o.prototype._onerror=function(t,e){if(!this._terminated){this._working--,t.running=!1;var r=this._workers.get(t);r&&r[1](e.message),this._workers.set(t,null),this._terminateOnError?this.terminate():this._exec()}},o.prototype._onmessage=function(t,e){if(!this._terminated){this._working--,t.running=!1;var r=this._workers.get(t);r&&r[0](e.data.data),this._workers.set(t,null),this._exec()}},o.prototype._exec=function(){for(var t of this._workers.keys()){if(this._working===this._numWorkers||0===this._waiting.length)return;if(!t.running)for(var e=0;e<this._waiting.length;e++){var r=this._waiting[e];if("number"!==typeof r[4]||r[4]===t.id){this._waiting.splice(e,1),t.postMessage({action:"exec",event:r[0],args:r[1]},r[2]),t.running=!0,t.time=Date.now(),this._workers.set(t,r[3]),this._working++;break}}}},o.prototype.terminate=function(){if(!this._terminated){for(var t of this._workers)t[0].terminate(),t[1]&&t[1][1](new Error("Terminated"));this._workers.clear(),this._waiting=[],this._working=0,this._terminated=!0}},o.prototype.postAll=function(t,e){if(this._terminated)throw new Error("Cannot post (terminated)");var r=[];for(var n of this._workers.keys())r.push(this.post(t,e,[],n.id));return Promise.all(r)},o.prototype.post=function(t,e,r,n){void 0===e&&(e=[]),void 0===r&&(r=[]),Array.isArray(e)||(e=[e]),Array.isArray(r)||(r=[r]);var i=this;return new Promise((function(o,a){if(i._terminated)throw new Error("Cannot post (terminated)");i._waiting.push([t,e,r,[o,a],n]),i._exec()}))},t.exports=o},7839:function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7a82":function(t,e,r){"use strict";const n=r("a292");t.exports=function(t,e){const r=new n(t,e);return r.decode(e)}},"7b0b":function(t,e,r){var n=r("1d80");t.exports=function(t){return Object(n(t))}},"7b27":function(t,e,r){"use strict";var n=r("be7f"),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(l){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(l){o=!1}for(var a=new n.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function h(t,e){if(e<65534&&(t.subarray&&o||!t.subarray&&i))return String.fromCharCode.apply(null,n.shrinkBuf(t,e));for(var r="",a=0;a<e;a++)r+=String.fromCharCode(t[a]);return r}a[254]=a[254]=1,e.string2buf=function(t){var e,r,i,o,a,s=t.length,h=0;for(o=0;o<s;o++)r=t.charCodeAt(o),55296===(64512&r)&&o+1<s&&(i=t.charCodeAt(o+1),56320===(64512&i)&&(r=65536+(r-55296<<10)+(i-56320),o++)),h+=r<128?1:r<2048?2:r<65536?3:4;for(e=new n.Buf8(h),a=0,o=0;a<h;o++)r=t.charCodeAt(o),55296===(64512&r)&&o+1<s&&(i=t.charCodeAt(o+1),56320===(64512&i)&&(r=65536+(r-55296<<10)+(i-56320),o++)),r<128?e[a++]=r:r<2048?(e[a++]=192|r>>>6,e[a++]=128|63&r):r<65536?(e[a++]=224|r>>>12,e[a++]=128|r>>>6&63,e[a++]=128|63&r):(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63,e[a++]=128|r>>>6&63,e[a++]=128|63&r);return e},e.buf2binstring=function(t){return h(t,t.length)},e.binstring2buf=function(t){for(var e=new n.Buf8(t.length),r=0,i=e.length;r<i;r++)e[r]=t.charCodeAt(r);return e},e.buf2string=function(t,e){var r,n,i,o,s=e||t.length,l=new Array(2*s);for(n=0,r=0;r<s;)if(i=t[r++],i<128)l[n++]=i;else if(o=a[i],o>4)l[n++]=65533,r+=o-1;else{i&=2===o?31:3===o?15:7;while(o>1&&r<s)i=i<<6|63&t[r++],o--;o>1?l[n++]=65533:i<65536?l[n++]=i:(i-=65536,l[n++]=55296|i>>10&1023,l[n++]=56320|1023&i)}return h(l,n)},e.utf8border=function(t,e){var r;e=e||t.length,e>t.length&&(e=t.length),r=e-1;while(r>=0&&128===(192&t[r]))r--;return r<0||0===r?e:r+a[t[r]]>e?r:e}},"7b7b":function(t,e,r){"use strict";const n={33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37396:"SubjectArea",37500:"MakerNote",37510:"UserComment",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42240:"Gamma"},i={};for(var o in n)i[n[o]]=o;t.exports={tagsById:n,tagsByName:i}},"7c73":function(t,e,r){var n,i=r("825a"),o=r("37e8"),a=r("7839"),s=r("d012"),h=r("1be4"),l=r("cc12"),u=r("f772"),c=">",f="<",d="prototype",g="script",p=u("IE_PROTO"),m=function(){},w=function(t){return f+g+c+t+f+"/"+g+c},y=function(t){t.write(w("")),t.close();var e=t.parentWindow.Object;return t=null,e},b=function(){var t,e=l("iframe"),r="java"+g+":";return e.style.display="none",h.appendChild(e),e.src=String(r),t=e.contentWindow.document,t.open(),t.write(w("document.F=Object")),t.close(),t.F},v=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(e){}v=n?y(n):b();var t=a.length;while(t--)delete v[d][a[t]];return v()};s[p]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(m[d]=i(t),r=new m,m[d]=null,r[p]=t):r=v(),void 0===e?r:o(r,e)}},"7de9":function(t,e,r){"use strict";var n=new Map([[1,[1,i]],[2,[1,o]],[3,[2,a]],[4,[4,s]],[5,[8,h]],[6,[1,l]],[7,[1,i]],[8,[2,u]],[9,[4,c]],[10,[8,f]],[11,[4,d]],[12,[8,g]]]);function i(t,e){if(1===e)return t.readUint8();for(var r=new Uint8Array(e),n=0;n<e;n++)r[n]=t.readUint8();return r}function o(t,e){for(var r=[],n="",i=0;i<e;i++){var o=String.fromCharCode(t.readUint8());"\0"===o?(r.push(n),n=""):n+=o}return 1===r.length?r[0]:r}function a(t,e){if(1===e)return t.readUint16();for(var r=new Uint16Array(e),n=0;n<e;n++)r[n]=t.readUint16();return r}function s(t,e){if(1===e)return t.readUint32();for(var r=new Uint32Array(e),n=0;n<e;n++)r[n]=t.readUint32();return r}function h(t,e){if(1===e)return t.readUint32()/t.readUint32();for(var r=new Array(e),n=0;n<e;n++)r[n]=t.readUint32()/t.readUint32();return r}function l(t,e){if(1===e)return t.readInt8();for(var r=new Int8Array(e),n=0;n<e;n++)r[n]=t.readInt8();return r}function u(t,e){if(1===e)return t.readInt16();for(var r=new Int16Array(e),n=0;n<e;n++)r[n]=t.readInt16();return r}function c(t,e){if(1===e)return t.readInt32();for(var r=new Int32Array(e),n=0;n<e;n++)r[n]=t.readInt32();return r}function f(t,e){if(1===e)return t.readInt32()/t.readInt32();for(var r=new Array(e),n=0;n<e;n++)r[n]=t.readInt32()/t.readInt32();return r}function d(t,e){if(1===e)return t.readFloat32();for(var r=new Float32Array(e),n=0;n<e;n++)r[n]=t.readFloat32();return r}function g(t,e){if(1===e)return t.readFloat64();for(var r=new Float64Array(e),n=0;n<e;n++)r[n]=t.readFloat64();return r}e.getByteLength=function(t,e){return n.get(t)[0]*e},e.readData=function(t,e,r){return n.get(e)[1](t,r)}},"7eb1":function(t,e,r){"use strict";var n=30,i=12;t.exports=function(t,e){var r,o,a,s,h,l,u,c,f,d,g,p,m,w,y,b,v,x,_,M,k,A,E,S,T;r=t.state,o=t.next_in,S=t.input,a=o+(t.avail_in-5),s=t.next_out,T=t.output,h=s-(e-t.avail_out),l=s+(t.avail_out-257),u=r.dmax,c=r.wsize,f=r.whave,d=r.wnext,g=r.window,p=r.hold,m=r.bits,w=r.lencode,y=r.distcode,b=(1<<r.lenbits)-1,v=(1<<r.distbits)-1;t:do{m<15&&(p+=S[o++]<<m,m+=8,p+=S[o++]<<m,m+=8),x=w[p&b];e:for(;;){if(_=x>>>24,p>>>=_,m-=_,_=x>>>16&255,0===_)T[s++]=65535&x;else{if(!(16&_)){if(0===(64&_)){x=w[(65535&x)+(p&(1<<_)-1)];continue e}if(32&_){r.mode=i;break t}t.msg="invalid literal/length code",r.mode=n;break t}M=65535&x,_&=15,_&&(m<_&&(p+=S[o++]<<m,m+=8),M+=p&(1<<_)-1,p>>>=_,m-=_),m<15&&(p+=S[o++]<<m,m+=8,p+=S[o++]<<m,m+=8),x=y[p&v];r:for(;;){if(_=x>>>24,p>>>=_,m-=_,_=x>>>16&255,!(16&_)){if(0===(64&_)){x=y[(65535&x)+(p&(1<<_)-1)];continue r}t.msg="invalid distance code",r.mode=n;break t}if(k=65535&x,_&=15,m<_&&(p+=S[o++]<<m,m+=8,m<_&&(p+=S[o++]<<m,m+=8)),k+=p&(1<<_)-1,k>u){t.msg="invalid distance too far back",r.mode=n;break t}if(p>>>=_,m-=_,_=s-h,k>_){if(_=k-_,_>f&&r.sane){t.msg="invalid distance too far back",r.mode=n;break t}if(A=0,E=g,0===d){if(A+=c-_,_<M){M-=_;do{T[s++]=g[A++]}while(--_);A=s-k,E=T}}else if(d<_){if(A+=c+d-_,_-=d,_<M){M-=_;do{T[s++]=g[A++]}while(--_);if(A=0,d<M){_=d,M-=_;do{T[s++]=g[A++]}while(--_);A=s-k,E=T}}}else if(A+=d-_,_<M){M-=_;do{T[s++]=g[A++]}while(--_);A=s-k,E=T}while(M>2)T[s++]=E[A++],T[s++]=E[A++],T[s++]=E[A++],M-=3;M&&(T[s++]=E[A++],M>1&&(T[s++]=E[A++]))}else{A=s-k;do{T[s++]=T[A++],T[s++]=T[A++],T[s++]=T[A++],M-=3}while(M>2);M&&(T[s++]=T[A++],M>1&&(T[s++]=T[A++]))}break}}break}}while(o<a&&s<l);M=m>>3,o-=M,m-=M<<3,p&=(1<<m)-1,t.next_in=o,t.next_out=s,t.avail_in=o<a?a-o+5:5-(o-a),t.avail_out=s<l?l-s+257:257-(s-l),r.hold=p,r.bits=m}},"7f9a":function(t,e,r){var n=r("da84"),i=r("8925"),o=n.WeakMap;t.exports="function"===typeof o&&/native code/.test(i(o))},8013:function(t,e,r){"use strict";function n(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}t.exports=n},"825a":function(t,e,r){var n=r("861d");t.exports=function(t){if(!n(t))throw TypeError(String(t)+" is not an object");return t}},"83ab":function(t,e,r){var n=r("d039");t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8418:function(t,e,r){"use strict";var n=r("c04e"),i=r("9bf2"),o=r("5c6c");t.exports=function(t,e,r){var a=n(e);a in t?i.f(t,a,o(0,r)):t[a]=r}},"861d":function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},"878c":function(t,e,r){"use strict";var n=r("e430");function i(t,e){return t-e}e.max=function(t){for(var e=-1/0,r=0;r<t.length;r++)for(var n=0;n<t[r].length;n++)t[r][n]>e&&(e=t[r][n]);return e},e.min=function(t){for(var e=1/0,r=0;r<t.length;r++)for(var n=0;n<t[r].length;n++)t[r][n]<e&&(e=t[r][n]);return e},e.minMax=function(t){for(var e=1/0,r=-1/0,n=0;n<t.length;n++)for(var i=0;i<t[n].length;i++)t[n][i]<e&&(e=t[n][i]),t[n][i]>r&&(r=t[n][i]);return{min:e,max:r}},e.entropy=function(t,e){"undefined"===typeof e&&(e=0);for(var r=0,n=t.length,i=t[0].length,o=0;o<n;o++)for(var a=0;a<i;a++)r+=t[o][a]*Math.log(t[o][a]+e);return-r},e.mean=function(t,e){"undefined"===typeof e&&(e=0);var r,n,i,o,a=t.length,s=t[0].length;if(-1===e){for(r=[0],n=a*s,i=0;i<a;i++)for(o=0;o<s;o++)r[0]+=t[i][o];r[0]/=n}else if(0===e)for(r=new Array(s),n=a,o=0;o<s;o++){for(r[o]=0,i=0;i<a;i++)r[o]+=t[i][o];r[o]/=n}else{if(1!==e)throw new Error("Invalid dimension");for(r=new Array(a),n=s,o=0;o<a;o++){for(r[o]=0,i=0;i<s;i++)r[o]+=t[o][i];r[o]/=n}}return r},e.sum=function(t,e){"undefined"===typeof e&&(e=0);var r,n,i,o=t.length,a=t[0].length;if(-1===e)for(r=[0],n=0;n<o;n++)for(i=0;i<a;i++)r[0]+=t[n][i];else if(0===e)for(r=new Array(a),i=0;i<a;i++)for(r[i]=0,n=0;n<o;n++)r[i]+=t[n][i];else{if(1!==e)throw new Error("Invalid dimension");for(r=new Array(o),i=0;i<o;i++)for(r[i]=0,n=0;n<a;n++)r[i]+=t[i][n]}return r},e.product=function(t,e){"undefined"===typeof e&&(e=0);var r,n,i,o=t.length,a=t[0].length;if(-1===e)for(r=[1],n=0;n<o;n++)for(i=0;i<a;i++)r[0]*=t[n][i];else if(0===e)for(r=new Array(a),i=0;i<a;i++)for(r[i]=1,n=0;n<o;n++)r[i]*=t[n][i];else{if(1!==e)throw new Error("Invalid dimension");for(r=new Array(o),i=0;i<o;i++)for(r[i]=1,n=0;n<a;n++)r[i]*=t[i][n]}return r},e.standardDeviation=function(t,r,n){for(var i=e.variance(t,r,n),o=i.length,a=0;a<o;a++)i[a]=Math.sqrt(i[a]);return i},e.variance=function(t,r,n){"undefined"===typeof n&&(n=!0),r=r||e.mean(t);var i=t.length;if(0===i)return[];for(var o=t[0].length,a=new Array(o),s=0;s<o;s++){for(var h=0,l=0,u=0,c=0;c<i;c++)u=t[c][s]-r[s],h+=u,l+=u*u;a[s]=n?(l-h*h/i)/(i-1):(l-h*h/i)/i}return a},e.median=function(t){for(var e=t.length,r=t[0].length,n=new Array(r),o=0;o<r;o++){for(var a=new Array(e),s=0;s<e;s++)a[s]=t[s][o];a.sort(i);var h=a.length;n[o]=h%2===0?.5*(a[h/2]+a[h/2-1]):a[Math.floor(h/2)]}return n},e.mode=function(t){var e,r,n=t.length,i=t[0].length,o=new Array(i);for(e=0;e<i;e++){for(var a=new Array(n),s=0;s<n;s++)a[s]=0;var h=new Array(n),l=0;for(r=0;r<n;r++){var u=h.indexOf(t[r][e]);u>=0?a[u]++:(h[l]=t[r][e],a[l]=1,l++)}var c=0,f=0;for(r=0;r<l;r++)a[r]>c&&(c=a[r],f=r);o[e]=h[f]}return o},e.skewness=function(t,r){"undefined"===typeof r&&(r=!0);for(var n=e.mean(t),i=t.length,o=n.length,a=new Array(o),s=0;s<o;s++){for(var h=0,l=0,u=0;u<i;u++){var c=t[u][s]-n[s];h+=c*c,l+=c*c*c}var f=h/i,d=l/i,g=d/Math.pow(f,1.5);if(r){var p=Math.sqrt(i*(i-1)),m=i-2;a[s]=p/m*g}else a[s]=g}return a},e.kurtosis=function(t,r){"undefined"===typeof r&&(r=!0);for(var n=e.mean(t),i=t.length,o=t[0].length,a=new Array(o),s=0;s<o;s++){for(var h=0,l=0,u=0;u<i;u++){var c=t[u][s]-n[s];h+=c*c,l+=c*c*c*c}var f=h/i,d=l/i;if(r){var g=h/(i-1),p=i*(i+1)/((i-1)*(i-2)*(i-3)),m=l/(g*g),w=(i-1)*(i-1)/((i-2)*(i-3));a[s]=p*m-3*w}else a[s]=d/(f*f)-3}return a},e.standardError=function(t){for(var r=t.length,n=e.standardDeviation(t),i=n.length,o=new Array(i),a=Math.sqrt(r),s=0;s<i;s++)o[s]=n[s]/a;return o},e.covariance=function(t,r){return e.scatter(t,void 0,r)},e.scatter=function(t,r,n){"undefined"===typeof n&&(n=0),"undefined"===typeof r&&(0===n?r=t.length-1:1===n&&(r=t[0].length-1));var i=e.mean(t,n),o=t.length;if(0===o)return[[]];var a,s,h,l,u,c=t[0].length;if(0===n){for(a=new Array(c),s=0;s<c;s++)a[s]=new Array(c);for(s=0;s<c;s++)for(h=s;h<c;h++){for(l=0,u=0;u<o;u++)l+=(t[u][h]-i[h])*(t[u][s]-i[s]);l/=r,a[s][h]=l,a[h][s]=l}}else{if(1!==n)throw new Error("Invalid dimension");for(a=new Array(o),s=0;s<o;s++)a[s]=new Array(o);for(s=0;s<o;s++)for(h=s;h<o;h++){for(l=0,u=0;u<c;u++)l+=(t[h][u]-i[h])*(t[s][u]-i[s]);l/=r,a[s][h]=l,a[h][s]=l}}return a},e.correlation=function(t){var r,n,i=e.mean(t),o=e.standardDeviation(t,!0,i),a=e.zScores(t,i,o),s=t.length,h=t[0].length,l=new Array(h);for(r=0;r<h;r++)l[r]=new Array(h);for(r=0;r<h;r++)for(n=r;n<h;n++){for(var u=0,c=0,f=a.length;c<f;c++)u+=a[c][n]*a[c][r];u/=s-1,l[r][n]=u,l[n][r]=u}return l},e.zScores=function(t,r,n){return r=r||e.mean(t),"undefined"===typeof n&&(n=e.standardDeviation(t,!0,r)),e.standardize(e.center(t,r,!1),n,!0)},e.center=function(t,r,n){r=r||e.mean(t);var i,o,a,s=t,h=t.length;if(!n)for(s=new Array(h),i=0;i<h;i++)s[i]=new Array(t[i].length);for(i=0;i<h;i++){var l=s[i];for(o=0,a=l.length;o<a;o++)l[o]=t[i][o]-r[o]}return s},e.standardize=function(t,r,n){"undefined"===typeof r&&(r=e.standardDeviation(t));var i,o,a,s=t,h=t.length;if(!n)for(s=new Array(h),i=0;i<h;i++)s[i]=new Array(t[i].length);for(i=0;i<h;i++){var l=s[i],u=t[i];for(o=0,a=l.length;o<a;o++)0===r[o]||isNaN(r[o])||(l[o]=u[o]/r[o])}return s},e.weightedVariance=function(t,r){var n=e.mean(t),i=t.length;if(0===i)return[];for(var o=t[0].length,a=new Array(o),s=0;s<o;s++){for(var h=0,l=0,u=0,c=0;c<i;c++){var f=t[c][s]-n[s],d=r[c];h+=d*(f*f),u+=d,l+=d*d}a[s]=h*(u/(u*u-l))}return a},e.weightedMean=function(t,e,r){"undefined"===typeof r&&(r=0);var i=t.length;if(0===i)return[];var o,a,s,h,l,u,c=t[0].length;if(0===r){for(o=new Array(c),a=0;a<c;a++)o[a]=0;for(a=0;a<i;a++)for(u=t[a],l=e[a],h=0;h<c;h++)o[h]+=u[h]*l}else{if(1!==r)throw new Error("Invalid dimension");for(o=new Array(i),a=0;a<i;a++)o[a]=0;for(h=0;h<i;h++)for(u=t[h],l=e[h],a=0;a<c;a++)o[h]+=u[a]*l}var f=n.sum(e);if(0!==f)for(a=0,s=o.length;a<s;a++)o[a]/=f;return o},e.weightedCovariance=function(t,r,n,i){i=i||0,n=n||e.weightedMean(t,r,i);for(var o=0,a=0,s=0,h=r.length;s<h;s++)o+=r[s],a+=r[s]*r[s];var l=o/(o*o-a);return e.weightedScatter(t,r,n,l,i)},e.weightedScatter=function(t,r,n,i,o){o=o||0,n=n||e.weightedMean(t,r,o),"undefined"===typeof i&&(i=1);var a=t.length;if(0===a)return[[]];var s,h,l,u,c,f=t[0].length;if(0===o){for(s=new Array(f),h=0;h<f;h++)s[h]=new Array(f);for(h=0;h<f;h++)for(l=h;l<f;l++){for(c=0,u=0;u<a;u++)c+=r[u]*(t[u][l]-n[l])*(t[u][h]-n[h]);s[h][l]=c*i,s[l][h]=c*i}}else{if(1!==o)throw new Error("Invalid dimension");for(s=new Array(a),h=0;h<a;h++)s[h]=new Array(a);for(h=0;h<a;h++)for(l=h;l<a;l++){for(c=0,u=0;u<f;u++)c+=r[u]*(t[l][u]-n[l])*(t[h][u]-n[h]);s[h][l]=c*i,s[l][h]=c*i}}return s}},8875:function(t,e,r){var n,i,o;(function(r,a){i=[],n=a,o="function"===typeof n?n.apply(e,i):n,void 0===o||(t.exports=o)})("undefined"!==typeof self&&self,(function(){function t(){if(document.currentScript)return document.currentScript;try{throw new Error}catch(c){var t,e,r,n=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,i=/@([^@]*):(\d+):(\d+)\s*$/gi,o=n.exec(c.stack)||i.exec(c.stack),a=o&&o[1]||!1,s=o&&o[2]||!1,h=document.location.href.replace(document.location.hash,""),l=document.getElementsByTagName("script");a===h&&(t=document.documentElement.outerHTML,e=new RegExp("(?:[^\\n]+?\\n){0,"+(s-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),r=t.replace(e,"$1").trim());for(var u=0;u<l.length;u++){if("interactive"===l[u].readyState)return l[u];if(l[u].src===a)return l[u];if(a===h&&l[u].innerHTML&&l[u].innerHTML.trim()===r)return l[u]}return null}}return t}))},8925:function(t,e,r){var n=r("c6cd"),i=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(t){return i.call(t)}),t.exports=n.inspectSource},8936:function(t,e,r){"use strict";function n(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=n},"8a58":function(t,e,r){"use strict";e.array=r("e430"),e.matrix=r("878c")},"8aa5":function(t,e,r){"use strict";var n=r("6547").charAt;t.exports=function(t,e,r){return e+(r?n(t,e).length:1)}},"90e3":function(t,e){var r=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++r+n).toString(36)}},9112:function(t,e,r){var n=r("83ab"),i=r("9bf2"),o=r("5c6c");t.exports=n?function(t,e,r){return i.f(t,e,o(1,r))}:function(t,e,r){return t[e]=r,t}},9152:function(t,e){e.read=function(t,e,r,n,i){var o,a,s=8*i-n-1,h=(1<<s)-1,l=h>>1,u=-7,c=r?i-1:0,f=r?-1:1,d=t[e+c];for(c+=f,o=d&(1<<-u)-1,d>>=-u,u+=s;u>0;o=256*o+t[e+c],c+=f,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=n;u>0;a=256*a+t[e+c],c+=f,u-=8);if(0===o)o=1-l;else{if(o===h)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),o-=l}return(d?-1:1)*a*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var a,s,h,l=8*o-i-1,u=(1<<l)-1,c=u>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,g=n?1:-1,p=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-a))<1&&(a--,h*=2),e+=a+c>=1?f/h:f*Math.pow(2,1-c),e*h>=2&&(a++,h/=2),a+c>=u?(s=0,a=u):a+c>=1?(s=(e*h-1)*Math.pow(2,i),a+=c):(s=e*Math.pow(2,c-1)*Math.pow(2,i),a=0));i>=8;t[r+d]=255&s,d+=g,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;t[r+d]=255&a,d+=g,a/=256,l-=8);t[r+d-g]|=128*p}},9177:function(t,e,r){"use strict";(function(e){const n=r("f1dd"),i=8192,o=[];class a{constructor(t,e){e=e||{};var r=!1;void 0===t&&(t=i),"number"===typeof t?t=new ArrayBuffer(t):(r=!0,this._lastWrittenByte=t.byteLength);const n=e.offset?e.offset>>>0:0;let o=t.byteLength-n,a=n;t.buffer&&(t.byteLength!==t.buffer.byteLength&&(a=t.byteOffset+n),t=t.buffer),this._lastWrittenByte=r?o:0,this.buffer=t,this.length=o,this.byteLength=o,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,o),this._mark=0,this._marks=[]}available(t){return void 0===t&&(t=1),this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t){return void 0===t&&(t=1),this.offset+=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(void 0===t)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t){if(void 0===t&&(t=1),!this.available(t)){const e=this.offset+t,r=2*e,n=new Uint8Array(r);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return 0!==this.readUint8()}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t){void 0===t&&(t=1);for(var e=new Uint8Array(t),r=0;r<t;r++)e[r]=this.readByte();return e}readInt16(){var t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){var t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){var t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){var t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){var t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){var t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t){void 0===t&&(t=1),o.length=t;for(var e=0;e<t;e++)o[e]=this.readChar();return o.join("")}readUtf8(t){void 0===t&&(t=1);const e=this.readChars(t);return n.decode(e)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(var e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(var e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e));return this}writeUtf8(t){const e=n.encode(t);return this.writeChars(e)}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this._lastWrittenByte)}getBuffer(){return"undefined"!==typeof e?e.from(this.toArray()):this.toArray()}_updateLastWrittenByte(){this.offset>this._lastWrittenByte&&(this._lastWrittenByte=this.offset)}}t.exports=a}).call(this,r("b639").Buffer)},9263:function(t,e,r){"use strict";var n=r("ad6d"),i=r("9f7f"),o=RegExp.prototype.exec,a=String.prototype.replace,s=o,h=function(){var t=/a/,e=/b*/g;return o.call(t,"a"),o.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),l=i.UNSUPPORTED_Y||i.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],c=h||u||l;c&&(s=function(t){var e,r,i,s,c=this,f=l&&c.sticky,d=n.call(c),g=c.source,p=0,m=t;return f&&(d=d.replace("y",""),-1===d.indexOf("g")&&(d+="g"),m=String(t).slice(c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&"\n"!==t[c.lastIndex-1])&&(g="(?: "+g+")",m=" "+m,p++),r=new RegExp("^(?:"+g+")",d)),u&&(r=new RegExp("^"+g+"$(?!\\s)",d)),h&&(e=c.lastIndex),i=o.call(f?r:c,m),f?i?(i.input=i.input.slice(p),i[0]=i[0].slice(p),i.index=c.lastIndex,c.lastIndex+=i[0].length):c.lastIndex=0:h&&i&&(c.lastIndex=c.global?i.index+i[0].length:e),u&&i&&i.length>1&&a.call(i[0],r,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(i[s]=void 0)})),i}),t.exports=s},"92ba":function(t,e,r){"use strict";var n=r("c01c"),i=r("a026"),o=r("0dd1"),a=r("e100"),s=5,h=11102230246251565e-32,l=(3+16*h)*h,u=(7+56*h)*h;function c(t,e){for(var r=new Array(t.length-1),n=1;n<t.length;++n)for(var i=r[n-1]=new Array(t.length-1),o=0,a=0;o<t.length;++o)o!==e&&(i[a++]=t[n][o]);return r}function f(t){for(var e=new Array(t),r=0;r<t;++r){e[r]=new Array(t);for(var n=0;n<t;++n)e[r][n]=["m",n,"[",t-r-1,"]"].join("")}return e}function d(t){return 1&t?"-":""}function g(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var e=t.length>>1;return["sum(",g(t.slice(0,e)),",",g(t.slice(e)),")"].join("")}function p(t){if(2===t.length)return[["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("")];for(var e=[],r=0;r<t.length;++r)e.push(["scale(",g(p(c(t,r))),",",d(r),t[0][r],")"].join(""));return e}function m(t){for(var e=[],r=[],s=f(t),h=[],l=0;l<t;++l)0===(1&l)?e.push.apply(e,p(c(s,l))):r.push.apply(r,p(c(s,l))),h.push("m"+l);var u=g(e),d=g(r),m="orientation"+t+"Exact",w=["function ",m,"(",h.join(),"){var p=",u,",n=",d,",d=sub(p,n);return d[d.length-1];};return ",m].join(""),y=new Function("sum","prod","scale","sub",w);return y(i,n,o,a)}var w=m(3),y=m(4),b=[function(){return 0},function(){return 0},function(t,e){return e[0]-t[0]},function(t,e,r){var n,i=(t[1]-r[1])*(e[0]-r[0]),o=(t[0]-r[0])*(e[1]-r[1]),a=i-o;if(i>0){if(o<=0)return a;n=i+o}else{if(!(i<0))return a;if(o>=0)return a;n=-(i+o)}var s=l*n;return a>=s||a<=-s?a:w(t,e,r)},function(t,e,r,n){var i=t[0]-n[0],o=e[0]-n[0],a=r[0]-n[0],s=t[1]-n[1],h=e[1]-n[1],l=r[1]-n[1],c=t[2]-n[2],f=e[2]-n[2],d=r[2]-n[2],g=o*l,p=a*h,m=a*s,w=i*l,b=i*h,v=o*s,x=c*(g-p)+f*(m-w)+d*(b-v),_=(Math.abs(g)+Math.abs(p))*Math.abs(c)+(Math.abs(m)+Math.abs(w))*Math.abs(f)+(Math.abs(b)+Math.abs(v))*Math.abs(d),M=u*_;return x>M||-x>M?x:y(t,e,r,n)}];function v(t){var e=b[t.length];return e||(e=b[t.length]=m(t.length)),e.apply(void 0,t)}function x(){while(b.length<=s)b.push(m(b.length));for(var e=[],r=["slow"],n=0;n<=s;++n)e.push("a"+n),r.push("o"+n);var i=["function getOrientation(",e.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(n=2;n<=s;++n)i.push("case ",n,":return o",n,"(",e.slice(0,n).join(),");");i.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),r.push(i.join(""));var o=Function.apply(void 0,r);t.exports=o.apply(void 0,[v].concat(b));for(n=0;n<=s;++n)t.exports[n]=b[n]}x()},"94ca":function(t,e,r){var n=r("d039"),i=/#|\.prototype\./,o=function(t,e){var r=s[a(t)];return r==l||r!=h&&("function"==typeof e?n(e):!!e)},a=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},s=o.data={},h=o.NATIVE="N",l=o.POLYFILL="P";t.exports=o},"99af":function(t,e,r){"use strict";var n=r("23e7"),i=r("d039"),o=r("e8b5"),a=r("861d"),s=r("7b0b"),h=r("50c4"),l=r("8418"),u=r("65f0"),c=r("1dde"),f=r("b622"),d=r("2d00"),g=f("isConcatSpreadable"),p=9007199254740991,m="Maximum allowed index exceeded",w=d>=51||!i((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),y=c("concat"),b=function(t){if(!a(t))return!1;var e=t[g];return void 0!==e?!!e:o(t)},v=!w||!y;n({target:"Array",proto:!0,forced:v},{concat:function(t){var e,r,n,i,o,a=s(this),c=u(a,0),f=0;for(e=-1,n=arguments.length;e<n;e++)if(o=-1===e?a:arguments[e],b(o)){if(i=h(o.length),f+i>p)throw TypeError(m);for(r=0;r<i;r++,f++)r in o&&l(c,f,o[r])}else{if(f>=p)throw TypeError(m);l(c,f++,o)}return c.length=f,c}})},"9bf2":function(t,e,r){var n=r("83ab"),i=r("0cfb"),o=r("825a"),a=r("c04e"),s=Object.defineProperty;e.f=n?s:function(t,e,r){if(o(t),e=a(e,!0),o(r),i)try{return s(t,e,r)}catch(n){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},"9d60":function(t,e,r){"use strict";const n={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Threshholding",264:"CellWidth",265:"CellLength",266:"FillOrder",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",296:"ResolutionUnit",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",320:"ColorMap",338:"ExtraSamples",33432:"Copyright",269:"DocumentName",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",293:"T6Options",297:"PageNumber",301:"TransferFunction",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFDs",332:"InkSet",333:"InkNames",334:"NumberOfInks",336:"DotRange",337:"TargetPrinter",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"XMP",32781:"ImageID",34732:"ImageLayer",32932:"WangAnnotatio",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"ModelPixelScaleTag",33723:"IPTC",33918:"INGRPacketDataTag",33919:"INGRFlagRegisters",33920:"IrasBTransformationMatrix",33922:"ModelTiepointTag",34264:"ModelTransformationTag",34377:"Photoshop",34665:"ExifIFD",34675:"ICCProfile",34735:"GeoKeyDirectoryTag",34736:"GeoDoubleParamsTag",34737:"GeoAsciiParamsTag",34853:"GPSIFD",34908:"HylaFAXFaxRecvParams",34909:"HylaFAXFaxSubAddress",34910:"HylaFAXFaxRecvTime",37724:"ImageSourceData",40965:"InteroperabilityIFD",42112:"GDAL_METADATA",42113:"GDAL_NODATA",50215:"OceScanjobDescription",50216:"OceApplicationSelector",50217:"OceIdentificationNumber",50218:"OceImageLogicCharacteristics",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50784:"AliasLayerMetadata"},i={};for(var o in n)i[n[o]]=o;t.exports={tagsById:n,tagsByName:i}},"9e6e":function(t,e,r){"use strict";var n=r("be7f"),i=r("c834"),o=r("eeda"),a=r("7eb1"),s=r("6853"),h=0,l=1,u=2,c=4,f=5,d=6,g=0,p=1,m=2,w=-2,y=-3,b=-4,v=-5,x=8,_=1,M=2,k=3,A=4,E=5,S=6,T=7,P=8,I=9,D=10,C=11,R=12,B=13,O=14,L=15,U=16,N=17,z=18,F=19,j=20,Y=21,V=22,X=23,$=24,G=25,H=26,q=27,W=28,Z=29,K=30,J=31,Q=32,tt=852,et=592,rt=15,nt=rt;function it(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function ot(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function at(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=_,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new n.Buf32(tt),e.distcode=e.distdyn=new n.Buf32(et),e.sane=1,e.back=-1,g):w}function st(t){var e;return t&&t.state?(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,at(t)):w}function ht(t,e){var r,n;return t&&t.state?(n=t.state,e<0?(r=0,e=-e):(r=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?w:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,st(t))):w}function lt(t,e){var r,n;return t?(n=new ot,t.state=n,n.window=null,r=ht(t,e),r!==g&&(t.state=null),r):w}function ut(t){return lt(t,nt)}var ct,ft,dt=!0;function gt(t){if(dt){var e;ct=new n.Buf32(512),ft=new n.Buf32(32),e=0;while(e<144)t.lens[e++]=8;while(e<256)t.lens[e++]=9;while(e<280)t.lens[e++]=7;while(e<288)t.lens[e++]=8;s(l,t.lens,0,288,ct,0,t.work,{bits:9}),e=0;while(e<32)t.lens[e++]=5;s(u,t.lens,0,32,ft,0,t.work,{bits:5}),dt=!1}t.lencode=ct,t.lenbits=9,t.distcode=ft,t.distbits=5}function pt(t,e,r,i){var o,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new n.Buf8(a.wsize)),i>=a.wsize?(n.arraySet(a.window,e,r-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(o=a.wsize-a.wnext,o>i&&(o=i),n.arraySet(a.window,e,r-i,o,a.wnext),i-=o,i?(n.arraySet(a.window,e,r-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}function mt(t,e){var r,tt,et,rt,nt,ot,at,st,ht,lt,ut,ct,ft,dt,mt,wt,yt,bt,vt,xt,_t,Mt,kt,At,Et=0,St=new n.Buf8(4),Tt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return w;r=t.state,r.mode===R&&(r.mode=B),nt=t.next_out,et=t.output,at=t.avail_out,rt=t.next_in,tt=t.input,ot=t.avail_in,st=r.hold,ht=r.bits,lt=ot,ut=at,Mt=g;t:for(;;)switch(r.mode){case _:if(0===r.wrap){r.mode=B;break}while(ht<16){if(0===ot)break t;ot--,st+=tt[rt++]<<ht,ht+=8}if(2&r.wrap&&35615===st){r.check=0,St[0]=255&st,St[1]=st>>>8&255,r.check=o(r.check,St,2,0),st=0,ht=0,r.mode=M;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&st)<<8)+(st>>8))%31){t.msg="incorrect header check",r.mode=K;break}if((15&st)!==x){t.msg="unknown compression method",r.mode=K;break}if(st>>>=4,ht-=4,_t=8+(15&st),0===r.wbits)r.wbits=_t;else if(_t>r.wbits){t.msg="invalid window size",r.mode=K;break}r.dmax=1<<_t,t.adler=r.check=1,r.mode=512&st?D:R,st=0,ht=0;break;case M:while(ht<16){if(0===ot)break t;ot--,st+=tt[rt++]<<ht,ht+=8}if(r.flags=st,(255&r.flags)!==x){t.msg="unknown compression method",r.mode=K;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=K;break}r.head&&(r.head.text=st>>8&1),512&r.flags&&(St[0]=255&st,St[1]=st>>>8&255,r.check=o(r.check,St,2,0)),st=0,ht=0,r.mode=k;case k:while(ht<32){if(0===ot)break t;ot--,st+=tt[rt++]<<ht,ht+=8}r.head&&(r.head.time=st),512&r.flags&&(St[0]=255&st,St[1]=st>>>8&255,St[2]=st>>>16&255,St[3]=st>>>24&255,r.check=o(r.check,St,4,0)),st=0,ht=0,r.mode=A;case A:while(ht<16){if(0===ot)break t;ot--,st+=tt[rt++]<<ht,ht+=8}r.head&&(r.head.xflags=255&st,r.head.os=st>>8),512&r.flags&&(St[0]=255&st,St[1]=st>>>8&255,r.check=o(r.check,St,2,0)),st=0,ht=0,r.mode=E;case E:if(1024&r.flags){while(ht<16){if(0===ot)break t;ot--,st+=tt[rt++]<<ht,ht+=8}r.length=st,r.head&&(r.head.extra_len=st),512&r.flags&&(St[0]=255&st,St[1]=st>>>8&255,r.check=o(r.check,St,2,0)),st=0,ht=0}else r.head&&(r.head.extra=null);r.mode=S;case S:if(1024&r.flags&&(ct=r.length,ct>ot&&(ct=ot),ct&&(r.head&&(_t=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),n.arraySet(r.head.extra,tt,rt,ct,_t)),512&r.flags&&(r.check=o(r.check,tt,ct,rt)),ot-=ct,rt+=ct,r.length-=ct),r.length))break t;r.length=0,r.mode=T;case T:if(2048&r.flags){if(0===ot)break t;ct=0;do{_t=tt[rt+ct++],r.head&&_t&&r.length<65536&&(r.head.name+=String.fromCharCode(_t))}while(_t&&ct<ot);if(512&r.flags&&(r.check=o(r.check,tt,ct,rt)),ot-=ct,rt+=ct,_t)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=P;case P:if(4096&r.flags){if(0===ot)break t;ct=0;do{_t=tt[rt+ct++],r.head&&_t&&r.length<65536&&(r.head.comment+=String.fromCharCode(_t))}while(_t&&ct<ot);if(512&r.flags&&(r.check=o(r.check,tt,ct,rt)),ot-=ct,rt+=ct,_t)break t}else r.head&&(r.head.comment=null);r.mode=I;case I:if(512&r.flags){while(ht<16){if(0===ot)break t;ot--,st+=tt[rt++]<<ht,ht+=8}if(st!==(65535&r.check)){t.msg="header crc mismatch",r.mode=K;break}st=0,ht=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=R;break;case D:while(ht<32){if(0===ot)break t;ot--,st+=tt[rt++]<<ht,ht+=8}t.adler=r.check=it(st),st=0,ht=0,r.mode=C;case C:if(0===r.havedict)return t.next_out=nt,t.avail_out=at,t.next_in=rt,t.avail_in=ot,r.hold=st,r.bits=ht,m;t.adler=r.check=1,r.mode=R;case R:if(e===f||e===d)break t;case B:if(r.last){st>>>=7&ht,ht-=7&ht,r.mode=q;break}while(ht<3){if(0===ot)break t;ot--,st+=tt[rt++]<<ht,ht+=8}switch(r.last=1&st,st>>>=1,ht-=1,3&st){case 0:r.mode=O;break;case 1:if(gt(r),r.mode=j,e===d){st>>>=2,ht-=2;break t}break;case 2:r.mode=N;break;case 3:t.msg="invalid block type",r.mode=K}st>>>=2,ht-=2;break;case O:st>>>=7&ht,ht-=7&ht;while(ht<32){if(0===ot)break t;ot--,st+=tt[rt++]<<ht,ht+=8}if((65535&st)!==(st>>>16^65535)){t.msg="invalid stored block lengths",r.mode=K;break}if(r.length=65535&st,st=0,ht=0,r.mode=L,e===d)break t;case L:r.mode=U;case U:if(ct=r.length,ct){if(ct>ot&&(ct=ot),ct>at&&(ct=at),0===ct)break t;n.arraySet(et,tt,rt,ct,nt),ot-=ct,rt+=ct,at-=ct,nt+=ct,r.length-=ct;break}r.mode=R;break;case N:while(ht<14){if(0===ot)break t;ot--,st+=tt[rt++]<<ht,ht+=8}if(r.nlen=257+(31&st),st>>>=5,ht-=5,r.ndist=1+(31&st),st>>>=5,ht-=5,r.ncode=4+(15&st),st>>>=4,ht-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=K;break}r.have=0,r.mode=z;case z:while(r.have<r.ncode){while(ht<3){if(0===ot)break t;ot--,st+=tt[rt++]<<ht,ht+=8}r.lens[Tt[r.have++]]=7&st,st>>>=3,ht-=3}while(r.have<19)r.lens[Tt[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,kt={bits:r.lenbits},Mt=s(h,r.lens,0,19,r.lencode,0,r.work,kt),r.lenbits=kt.bits,Mt){t.msg="invalid code lengths set",r.mode=K;break}r.have=0,r.mode=F;case F:while(r.have<r.nlen+r.ndist){for(;;){if(Et=r.lencode[st&(1<<r.lenbits)-1],mt=Et>>>24,wt=Et>>>16&255,yt=65535&Et,mt<=ht)break;if(0===ot)break t;ot--,st+=tt[rt++]<<ht,ht+=8}if(yt<16)st>>>=mt,ht-=mt,r.lens[r.have++]=yt;else{if(16===yt){At=mt+2;while(ht<At){if(0===ot)break t;ot--,st+=tt[rt++]<<ht,ht+=8}if(st>>>=mt,ht-=mt,0===r.have){t.msg="invalid bit length repeat",r.mode=K;break}_t=r.lens[r.have-1],ct=3+(3&st),st>>>=2,ht-=2}else if(17===yt){At=mt+3;while(ht<At){if(0===ot)break t;ot--,st+=tt[rt++]<<ht,ht+=8}st>>>=mt,ht-=mt,_t=0,ct=3+(7&st),st>>>=3,ht-=3}else{At=mt+7;while(ht<At){if(0===ot)break t;ot--,st+=tt[rt++]<<ht,ht+=8}st>>>=mt,ht-=mt,_t=0,ct=11+(127&st),st>>>=7,ht-=7}if(r.have+ct>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=K;break}while(ct--)r.lens[r.have++]=_t}}if(r.mode===K)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=K;break}if(r.lenbits=9,kt={bits:r.lenbits},Mt=s(l,r.lens,0,r.nlen,r.lencode,0,r.work,kt),r.lenbits=kt.bits,Mt){t.msg="invalid literal/lengths set",r.mode=K;break}if(r.distbits=6,r.distcode=r.distdyn,kt={bits:r.distbits},Mt=s(u,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,kt),r.distbits=kt.bits,Mt){t.msg="invalid distances set",r.mode=K;break}if(r.mode=j,e===d)break t;case j:r.mode=Y;case Y:if(ot>=6&&at>=258){t.next_out=nt,t.avail_out=at,t.next_in=rt,t.avail_in=ot,r.hold=st,r.bits=ht,a(t,ut),nt=t.next_out,et=t.output,at=t.avail_out,rt=t.next_in,tt=t.input,ot=t.avail_in,st=r.hold,ht=r.bits,r.mode===R&&(r.back=-1);break}for(r.back=0;;){if(Et=r.lencode[st&(1<<r.lenbits)-1],mt=Et>>>24,wt=Et>>>16&255,yt=65535&Et,mt<=ht)break;if(0===ot)break t;ot--,st+=tt[rt++]<<ht,ht+=8}if(wt&&0===(240&wt)){for(bt=mt,vt=wt,xt=yt;;){if(Et=r.lencode[xt+((st&(1<<bt+vt)-1)>>bt)],mt=Et>>>24,wt=Et>>>16&255,yt=65535&Et,bt+mt<=ht)break;if(0===ot)break t;ot--,st+=tt[rt++]<<ht,ht+=8}st>>>=bt,ht-=bt,r.back+=bt}if(st>>>=mt,ht-=mt,r.back+=mt,r.length=yt,0===wt){r.mode=H;break}if(32&wt){r.back=-1,r.mode=R;break}if(64&wt){t.msg="invalid literal/length code",r.mode=K;break}r.extra=15&wt,r.mode=V;case V:if(r.extra){At=r.extra;while(ht<At){if(0===ot)break t;ot--,st+=tt[rt++]<<ht,ht+=8}r.length+=st&(1<<r.extra)-1,st>>>=r.extra,ht-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=X;case X:for(;;){if(Et=r.distcode[st&(1<<r.distbits)-1],mt=Et>>>24,wt=Et>>>16&255,yt=65535&Et,mt<=ht)break;if(0===ot)break t;ot--,st+=tt[rt++]<<ht,ht+=8}if(0===(240&wt)){for(bt=mt,vt=wt,xt=yt;;){if(Et=r.distcode[xt+((st&(1<<bt+vt)-1)>>bt)],mt=Et>>>24,wt=Et>>>16&255,yt=65535&Et,bt+mt<=ht)break;if(0===ot)break t;ot--,st+=tt[rt++]<<ht,ht+=8}st>>>=bt,ht-=bt,r.back+=bt}if(st>>>=mt,ht-=mt,r.back+=mt,64&wt){t.msg="invalid distance code",r.mode=K;break}r.offset=yt,r.extra=15&wt,r.mode=$;case $:if(r.extra){At=r.extra;while(ht<At){if(0===ot)break t;ot--,st+=tt[rt++]<<ht,ht+=8}r.offset+=st&(1<<r.extra)-1,st>>>=r.extra,ht-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=K;break}r.mode=G;case G:if(0===at)break t;if(ct=ut-at,r.offset>ct){if(ct=r.offset-ct,ct>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=K;break}ct>r.wnext?(ct-=r.wnext,ft=r.wsize-ct):ft=r.wnext-ct,ct>r.length&&(ct=r.length),dt=r.window}else dt=et,ft=nt-r.offset,ct=r.length;ct>at&&(ct=at),at-=ct,r.length-=ct;do{et[nt++]=dt[ft++]}while(--ct);0===r.length&&(r.mode=Y);break;case H:if(0===at)break t;et[nt++]=r.length,at--,r.mode=Y;break;case q:if(r.wrap){while(ht<32){if(0===ot)break t;ot--,st|=tt[rt++]<<ht,ht+=8}if(ut-=at,t.total_out+=ut,r.total+=ut,ut&&(t.adler=r.check=r.flags?o(r.check,et,ut,nt-ut):i(r.check,et,ut,nt-ut)),ut=at,(r.flags?st:it(st))!==r.check){t.msg="incorrect data check",r.mode=K;break}st=0,ht=0}r.mode=W;case W:if(r.wrap&&r.flags){while(ht<32){if(0===ot)break t;ot--,st+=tt[rt++]<<ht,ht+=8}if(st!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=K;break}st=0,ht=0}r.mode=Z;case Z:Mt=p;break t;case K:Mt=y;break t;case J:return b;case Q:default:return w}return t.next_out=nt,t.avail_out=at,t.next_in=rt,t.avail_in=ot,r.hold=st,r.bits=ht,(r.wsize||ut!==t.avail_out&&r.mode<K&&(r.mode<q||e!==c))&&pt(t,t.output,t.next_out,ut-t.avail_out)?(r.mode=J,b):(lt-=t.avail_in,ut-=t.avail_out,t.total_in+=lt,t.total_out+=ut,r.total+=ut,r.wrap&&ut&&(t.adler=r.check=r.flags?o(r.check,et,ut,t.next_out-ut):i(r.check,et,ut,t.next_out-ut)),t.data_type=r.bits+(r.last?64:0)+(r.mode===R?128:0)+(r.mode===j||r.mode===L?256:0),(0===lt&&0===ut||e===c)&&Mt===g&&(Mt=v),Mt)}function wt(t){if(!t||!t.state)return w;var e=t.state;return e.window&&(e.window=null),t.state=null,g}function yt(t,e){var r;return t&&t.state?(r=t.state,0===(2&r.wrap)?w:(r.head=e,e.done=!1,g)):w}function bt(t,e){var r,n,o,a=e.length;return t&&t.state?(r=t.state,0!==r.wrap&&r.mode!==C?w:r.mode===C&&(n=1,n=i(n,e,a,0),n!==r.check)?y:(o=pt(t,e,a,a),o?(r.mode=J,b):(r.havedict=1,g))):w}e.inflateReset=st,e.inflateReset2=ht,e.inflateResetKeep=at,e.inflateInit=ut,e.inflateInit2=lt,e.inflate=mt,e.inflateEnd=wt,e.inflateGetHeader=yt,e.inflateSetDictionary=bt,e.inflateInfo="pako inflate (from Nodeca project)"},"9f7f":function(t,e,r){"use strict";var n=r("d039");function i(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=n((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=n((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a026:function(t,e,r){"use strict";function n(t,e){var r=t+e,n=r-t,i=r-n,o=e-n,a=t-i,s=a+o;return s?[s,r]:[r]}function i(t,e){var r=0|t.length,i=0|e.length;if(1===r&&1===i)return n(t[0],e[0]);var o,a,s=r+i,h=new Array(s),l=0,u=0,c=0,f=Math.abs,d=t[u],g=f(d),p=e[c],m=f(p);g<m?(a=d,u+=1,u<r&&(d=t[u],g=f(d))):(a=p,c+=1,c<i&&(p=e[c],m=f(p))),u<r&&g<m||c>=i?(o=d,u+=1,u<r&&(d=t[u],g=f(d))):(o=p,c+=1,c<i&&(p=e[c],m=f(p)));var w,y,b,v,x,_=o+a,M=_-o,k=a-M,A=k,E=_;while(u<r&&c<i)g<m?(o=d,u+=1,u<r&&(d=t[u],g=f(d))):(o=p,c+=1,c<i&&(p=e[c],m=f(p))),a=A,_=o+a,M=_-o,k=a-M,k&&(h[l++]=k),w=E+_,y=w-E,b=w-y,v=_-y,x=E-b,A=x+v,E=w;while(u<r)o=d,a=A,_=o+a,M=_-o,k=a-M,k&&(h[l++]=k),w=E+_,y=w-E,b=w-y,v=_-y,x=E-b,A=x+v,E=w,u+=1,u<r&&(d=t[u]);while(c<i)o=p,a=A,_=o+a,M=_-o,k=a-M,k&&(h[l++]=k),w=E+_,y=w-E,b=w-y,v=_-y,x=E-b,A=x+v,E=w,c+=1,c<i&&(p=e[c]);return A&&(h[l++]=A),E&&(h[l++]=E),l||(h[l++]=0),h.length=l,h}t.exports=i},a177:function(t,e,r){"use strict";var n,i=r("be7f"),o=r("07f4"),a=r("c834"),s=r("eeda"),h=r("4dc6"),l=0,u=1,c=3,f=4,d=5,g=0,p=1,m=-2,w=-3,y=-5,b=-1,v=1,x=2,_=3,M=4,k=0,A=2,E=8,S=9,T=15,P=8,I=29,D=256,C=D+1+I,R=30,B=19,O=2*C+1,L=15,U=3,N=258,z=N+U+1,F=32,j=42,Y=69,V=73,X=91,$=103,G=113,H=666,q=1,W=2,Z=3,K=4,J=3;function Q(t,e){return t.msg=h[e],e}function tt(t){return(t<<1)-(t>4?9:0)}function et(t){var e=t.length;while(--e>=0)t[e]=0}function rt(t){var e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(i.arraySet(t.output,e.pending_buf,e.pending_out,r,t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))}function nt(t,e){o._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,rt(t.strm)}function it(t,e){t.pending_buf[t.pending++]=e}function ot(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function at(t,e,r,n){var o=t.avail_in;return o>n&&(o=n),0===o?0:(t.avail_in-=o,i.arraySet(e,t.input,t.next_in,o,r),1===t.state.wrap?t.adler=a(t.adler,e,o,r):2===t.state.wrap&&(t.adler=s(t.adler,e,o,r)),t.next_in+=o,t.total_in+=o,o)}function st(t,e){var r,n,i=t.max_chain_length,o=t.strstart,a=t.prev_length,s=t.nice_match,h=t.strstart>t.w_size-z?t.strstart-(t.w_size-z):0,l=t.window,u=t.w_mask,c=t.prev,f=t.strstart+N,d=l[o+a-1],g=l[o+a];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do{if(r=e,l[r+a]===g&&l[r+a-1]===d&&l[r]===l[o]&&l[++r]===l[o+1]){o+=2,r++;do{}while(l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&o<f);if(n=N-(f-o),o=f-N,n>a){if(t.match_start=e,a=n,n>=s)break;d=l[o+a-1],g=l[o+a]}}}while((e=c[e&u])>h&&0!==--i);return a<=t.lookahead?a:t.lookahead}function ht(t){var e,r,n,o,a,s=t.w_size;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=s+(s-z)){i.arraySet(t.window,t.window,s,s,0),t.match_start-=s,t.strstart-=s,t.block_start-=s,r=t.hash_size,e=r;do{n=t.head[--e],t.head[e]=n>=s?n-s:0}while(--r);r=s,e=r;do{n=t.prev[--e],t.prev[e]=n>=s?n-s:0}while(--r);o+=s}if(0===t.strm.avail_in)break;if(r=at(t.strm,t.window,t.strstart+t.lookahead,o),t.lookahead+=r,t.lookahead+t.insert>=U){a=t.strstart-t.insert,t.ins_h=t.window[a],t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+1])&t.hash_mask;while(t.insert)if(t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+U-1])&t.hash_mask,t.prev[a&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=a,a++,t.insert--,t.lookahead+t.insert<U)break}}while(t.lookahead<z&&0!==t.strm.avail_in)}function lt(t,e){var r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(ht(t),0===t.lookahead&&e===l)return q;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+r;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,nt(t,!1),0===t.strm.avail_out))return q;if(t.strstart-t.block_start>=t.w_size-z&&(nt(t,!1),0===t.strm.avail_out))return q}return t.insert=0,e===f?(nt(t,!0),0===t.strm.avail_out?Z:K):(t.strstart>t.block_start&&(nt(t,!1),t.strm.avail_out),q)}function ut(t,e){for(var r,n;;){if(t.lookahead<z){if(ht(t),t.lookahead<z&&e===l)return q;if(0===t.lookahead)break}if(r=0,t.lookahead>=U&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+U-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-z&&(t.match_length=st(t,r)),t.match_length>=U)if(n=o._tr_tally(t,t.strstart-t.match_start,t.match_length-U),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=U){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+U-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!==--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(nt(t,!1),0===t.strm.avail_out))return q}return t.insert=t.strstart<U-1?t.strstart:U-1,e===f?(nt(t,!0),0===t.strm.avail_out?Z:K):t.last_lit&&(nt(t,!1),0===t.strm.avail_out)?q:W}function ct(t,e){for(var r,n,i;;){if(t.lookahead<z){if(ht(t),t.lookahead<z&&e===l)return q;if(0===t.lookahead)break}if(r=0,t.lookahead>=U&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+U-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=U-1,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-z&&(t.match_length=st(t,r),t.match_length<=5&&(t.strategy===v||t.match_length===U&&t.strstart-t.match_start>4096)&&(t.match_length=U-1)),t.prev_length>=U&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-U,n=o._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-U),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+U-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!==--t.prev_length);if(t.match_available=0,t.match_length=U-1,t.strstart++,n&&(nt(t,!1),0===t.strm.avail_out))return q}else if(t.match_available){if(n=o._tr_tally(t,0,t.window[t.strstart-1]),n&&nt(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return q}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=o._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<U-1?t.strstart:U-1,e===f?(nt(t,!0),0===t.strm.avail_out?Z:K):t.last_lit&&(nt(t,!1),0===t.strm.avail_out)?q:W}function ft(t,e){for(var r,n,i,a,s=t.window;;){if(t.lookahead<=N){if(ht(t),t.lookahead<=N&&e===l)return q;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=U&&t.strstart>0&&(i=t.strstart-1,n=s[i],n===s[++i]&&n===s[++i]&&n===s[++i])){a=t.strstart+N;do{}while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<a);t.match_length=N-(a-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=U?(r=o._tr_tally(t,1,t.match_length-U),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(nt(t,!1),0===t.strm.avail_out))return q}return t.insert=0,e===f?(nt(t,!0),0===t.strm.avail_out?Z:K):t.last_lit&&(nt(t,!1),0===t.strm.avail_out)?q:W}function dt(t,e){for(var r;;){if(0===t.lookahead&&(ht(t),0===t.lookahead)){if(e===l)return q;break}if(t.match_length=0,r=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(nt(t,!1),0===t.strm.avail_out))return q}return t.insert=0,e===f?(nt(t,!0),0===t.strm.avail_out?Z:K):t.last_lit&&(nt(t,!1),0===t.strm.avail_out)?q:W}function gt(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}function pt(t){t.window_size=2*t.w_size,et(t.head),t.max_lazy_match=n[t.level].max_lazy,t.good_match=n[t.level].good_length,t.nice_match=n[t.level].nice_length,t.max_chain_length=n[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=U-1,t.match_available=0,t.ins_h=0}function mt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=E,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*O),this.dyn_dtree=new i.Buf16(2*(2*R+1)),this.bl_tree=new i.Buf16(2*(2*B+1)),et(this.dyn_ltree),et(this.dyn_dtree),et(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(L+1),this.heap=new i.Buf16(2*C+1),et(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*C+1),et(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function wt(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=A,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?j:G,t.adler=2===e.wrap?0:1,e.last_flush=l,o._tr_init(e),g):Q(t,m)}function yt(t){var e=wt(t);return e===g&&pt(t.state),e}function bt(t,e){return t&&t.state?2!==t.state.wrap?m:(t.state.gzhead=e,g):m}function vt(t,e,r,n,o,a){if(!t)return m;var s=1;if(e===b&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),o<1||o>S||r!==E||n<8||n>15||e<0||e>9||a<0||a>M)return Q(t,m);8===n&&(n=9);var h=new mt;return t.state=h,h.strm=t,h.wrap=s,h.gzhead=null,h.w_bits=n,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=o+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+U-1)/U),h.window=new i.Buf8(2*h.w_size),h.head=new i.Buf16(h.hash_size),h.prev=new i.Buf16(h.w_size),h.lit_bufsize=1<<o+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new i.Buf8(h.pending_buf_size),h.d_buf=1*h.lit_bufsize,h.l_buf=3*h.lit_bufsize,h.level=e,h.strategy=a,h.method=r,yt(t)}function xt(t,e){return vt(t,e,E,T,P,k)}function _t(t,e){var r,i,a,h;if(!t||!t.state||e>d||e<0)return t?Q(t,m):m;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||i.status===H&&e!==f)return Q(t,0===t.avail_out?y:m);if(i.strm=t,r=i.last_flush,i.last_flush=e,i.status===j)if(2===i.wrap)t.adler=0,it(i,31),it(i,139),it(i,8),i.gzhead?(it(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),it(i,255&i.gzhead.time),it(i,i.gzhead.time>>8&255),it(i,i.gzhead.time>>16&255),it(i,i.gzhead.time>>24&255),it(i,9===i.level?2:i.strategy>=x||i.level<2?4:0),it(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(it(i,255&i.gzhead.extra.length),it(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=s(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=Y):(it(i,0),it(i,0),it(i,0),it(i,0),it(i,0),it(i,9===i.level?2:i.strategy>=x||i.level<2?4:0),it(i,J),i.status=G);else{var w=E+(i.w_bits-8<<4)<<8,b=-1;b=i.strategy>=x||i.level<2?0:i.level<6?1:6===i.level?2:3,w|=b<<6,0!==i.strstart&&(w|=F),w+=31-w%31,i.status=G,ot(i,w),0!==i.strstart&&(ot(i,t.adler>>>16),ot(i,65535&t.adler)),t.adler=1}if(i.status===Y)if(i.gzhead.extra){a=i.pending;while(i.gzindex<(65535&i.gzhead.extra.length)){if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),rt(t),a=i.pending,i.pending===i.pending_buf_size))break;it(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++}i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=V)}else i.status=V;if(i.status===V)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),rt(t),a=i.pending,i.pending===i.pending_buf_size)){h=1;break}h=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,it(i,h)}while(0!==h);i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),0===h&&(i.gzindex=0,i.status=X)}else i.status=X;if(i.status===X)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),rt(t),a=i.pending,i.pending===i.pending_buf_size)){h=1;break}h=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,it(i,h)}while(0!==h);i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),0===h&&(i.status=$)}else i.status=$;if(i.status===$&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&rt(t),i.pending+2<=i.pending_buf_size&&(it(i,255&t.adler),it(i,t.adler>>8&255),t.adler=0,i.status=G)):i.status=G),0!==i.pending){if(rt(t),0===t.avail_out)return i.last_flush=-1,g}else if(0===t.avail_in&&tt(e)<=tt(r)&&e!==f)return Q(t,y);if(i.status===H&&0!==t.avail_in)return Q(t,y);if(0!==t.avail_in||0!==i.lookahead||e!==l&&i.status!==H){var v=i.strategy===x?dt(i,e):i.strategy===_?ft(i,e):n[i.level].func(i,e);if(v!==Z&&v!==K||(i.status=H),v===q||v===Z)return 0===t.avail_out&&(i.last_flush=-1),g;if(v===W&&(e===u?o._tr_align(i):e!==d&&(o._tr_stored_block(i,0,0,!1),e===c&&(et(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),rt(t),0===t.avail_out))return i.last_flush=-1,g}return e!==f?g:i.wrap<=0?p:(2===i.wrap?(it(i,255&t.adler),it(i,t.adler>>8&255),it(i,t.adler>>16&255),it(i,t.adler>>24&255),it(i,255&t.total_in),it(i,t.total_in>>8&255),it(i,t.total_in>>16&255),it(i,t.total_in>>24&255)):(ot(i,t.adler>>>16),ot(i,65535&t.adler)),rt(t),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?g:p)}function Mt(t){var e;return t&&t.state?(e=t.state.status,e!==j&&e!==Y&&e!==V&&e!==X&&e!==$&&e!==G&&e!==H?Q(t,m):(t.state=null,e===G?Q(t,w):g)):m}function kt(t,e){var r,n,o,s,h,l,u,c,f=e.length;if(!t||!t.state)return m;if(r=t.state,s=r.wrap,2===s||1===s&&r.status!==j||r.lookahead)return m;1===s&&(t.adler=a(t.adler,e,f,0)),r.wrap=0,f>=r.w_size&&(0===s&&(et(r.head),r.strstart=0,r.block_start=0,r.insert=0),c=new i.Buf8(r.w_size),i.arraySet(c,e,f-r.w_size,r.w_size,0),e=c,f=r.w_size),h=t.avail_in,l=t.next_in,u=t.input,t.avail_in=f,t.next_in=0,t.input=e,ht(r);while(r.lookahead>=U){n=r.strstart,o=r.lookahead-(U-1);do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+U-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++}while(--o);r.strstart=n,r.lookahead=U-1,ht(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=U-1,r.match_available=0,t.next_in=l,t.input=u,t.avail_in=h,r.wrap=s,g}n=[new gt(0,0,0,0,lt),new gt(4,4,8,4,ut),new gt(4,5,16,8,ut),new gt(4,6,32,32,ut),new gt(4,4,16,16,ct),new gt(8,16,32,32,ct),new gt(8,16,128,128,ct),new gt(8,32,128,256,ct),new gt(32,128,258,1024,ct),new gt(32,258,258,4096,ct)],e.deflateInit=xt,e.deflateInit2=vt,e.deflateReset=yt,e.deflateResetKeep=wt,e.deflateSetHeader=bt,e.deflate=_t,e.deflateEnd=Mt,e.deflateSetDictionary=kt,e.deflateInfo="pako deflate (from Nodeca project)"},a1d9:function(t,e,r){"use strict";t.exports=Number.isFinite||function(t){return!("number"!==typeof t||t!==t||t===1/0||t===-1/0)}},a292:function(t,e,r){"use strict";const n=r("9177"),i=r("c7a8"),o=r("a596"),a=r("7de9"),s={ignoreImageData:!1,onlyFirst:!1};class h extends n{constructor(t,e){super(t,e),this._nextIFD=0}decode(t){t=Object.assign({},s,t);const e=[];this.decodeHeader();while(this._nextIFD)if(e.push(this.decodeIFD(t)),t.onlyFirst)return e[0];return e}decodeHeader(){let t=this.readUint16();if(18761===t)this.setLittleEndian();else{if(19789!==t)throw new Error("invalid byte order: 0x"+t.toString(16));this.setBigEndian()}if(t=this.readUint16(),42!==t)throw new Error("not a TIFF file");this._nextIFD=this.readUint32()}decodeIFD(t){var e;this.seek(this._nextIFD),e=t.kind?new i(t.kind):new o;const r=this.readUint16();for(var n=0;n<r;n++)this.decodeIFDEntry(e);return t.ignoreImageData||this.decodeImageData(e),this._nextIFD=this.readUint32(),e}decodeIFDEntry(t){const e=this.offset,r=this.readUint16(),n=this.readUint16(),i=this.readUint32();if(n<1||n>12)return void this.skip(4);const o=a.getByteLength(n,i);o>4&&this.seek(this.readUint32());const s=a.readData(this,n,i);if(t.fields.set(r,s),34665===r||34853===r){let e,n=this.offset;34665===r?e="exif":34853===r&&(e="gps"),this._nextIFD=s,t[e]=this.decodeIFD({kind:e,ignoreImageData:!0}),this.offset=n}this.seek(e),this.skip(12)}decodeImageData(t){const e=t.orientation;switch(e&&1!==e&&d("orientation",e),t.type){case 1:case 2:this.readStripData(t);break;default:d("image type",t.type);break}}readStripData(t){const e=t.width,r=t.height,n=g(t.bitsPerSample),i=t.sampleFormat;let o=e*r;const a=l(o,1,n,i),s=t.compression,h=t.rowsPerStrip,p=h*e,m=t.stripOffsets,w=t.stripByteCounts;for(var y=0,b=0;b<m.length;b++){var v=this.getStripData(s,m[b],w[b]),x=o>p?p:o;o-=x,8===n?y=u(a,v,y,x):16===n?y=c(a,v,y,x,this.isLittleEndian()):32===n&&3===i?y=f(a,v,y,x,this.isLittleEndian()):d("bitDepth",n)}t.data=a}getStripData(t,e,r){switch(t){case 1:return new DataView(this.buffer,e,r);case 2:case 32773:return d("Compression",t);default:throw new Error("invalid compression: "+t)}}}function l(t,e,r,n){return 8===r?new Uint8Array(t*e):16===r?new Uint16Array(t*e):32===r&&3===n?new Float32Array(t*e):d("bit depth / sample format",r+" / "+n)}function u(t,e,r,n){for(var i=0;i<n;i++)t[r++]=e.getUint8(i);return r}function c(t,e,r,n,i){for(var o=0;o<2*n;o+=2)t[r++]=e.getUint16(o,i);return r}function f(t,e,r,n,i){for(var o=0;o<4*n;o+=4)t[r++]=e.getFloat32(o,i);return r}function d(t,e){throw new Error("Unsupported "+t+": "+e)}function g(t){if(t.length){const r=t;t=r[0];for(var e=0;e<r.length;e++)r[e]!==t&&d("bit depth",r)}return t}t.exports=h},a4d3:function(t,e,r){"use strict";var n=r("23e7"),i=r("da84"),o=r("d066"),a=r("c430"),s=r("83ab"),h=r("4930"),l=r("fdbf"),u=r("d039"),c=r("5135"),f=r("e8b5"),d=r("861d"),g=r("825a"),p=r("7b0b"),m=r("fc6a"),w=r("c04e"),y=r("5c6c"),b=r("7c73"),v=r("df75"),x=r("241c"),_=r("057f"),M=r("7418"),k=r("06cf"),A=r("9bf2"),E=r("d1e7"),S=r("9112"),T=r("6eeb"),P=r("5692"),I=r("f772"),D=r("d012"),C=r("90e3"),R=r("b622"),B=r("e538"),O=r("746f"),L=r("d44e"),U=r("69f3"),N=r("b727").forEach,z=I("hidden"),F="Symbol",j="prototype",Y=R("toPrimitive"),V=U.set,X=U.getterFor(F),$=Object[j],G=i.Symbol,H=o("JSON","stringify"),q=k.f,W=A.f,Z=_.f,K=E.f,J=P("symbols"),Q=P("op-symbols"),tt=P("string-to-symbol-registry"),et=P("symbol-to-string-registry"),rt=P("wks"),nt=i.QObject,it=!nt||!nt[j]||!nt[j].findChild,ot=s&&u((function(){return 7!=b(W({},"a",{get:function(){return W(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=q($,e);n&&delete $[e],W(t,e,r),n&&t!==$&&W($,e,n)}:W,at=function(t,e){var r=J[t]=b(G[j]);return V(r,{type:F,tag:t,description:e}),s||(r.description=e),r},st=l?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof G},ht=function(t,e,r){t===$&&ht(Q,e,r),g(t);var n=w(e,!0);return g(r),c(J,n)?(r.enumerable?(c(t,z)&&t[z][n]&&(t[z][n]=!1),r=b(r,{enumerable:y(0,!1)})):(c(t,z)||W(t,z,y(1,{})),t[z][n]=!0),ot(t,n,r)):W(t,n,r)},lt=function(t,e){g(t);var r=m(e),n=v(r).concat(gt(r));return N(n,(function(e){s&&!ct.call(r,e)||ht(t,e,r[e])})),t},ut=function(t,e){return void 0===e?b(t):lt(b(t),e)},ct=function(t){var e=w(t,!0),r=K.call(this,e);return!(this===$&&c(J,e)&&!c(Q,e))&&(!(r||!c(this,e)||!c(J,e)||c(this,z)&&this[z][e])||r)},ft=function(t,e){var r=m(t),n=w(e,!0);if(r!==$||!c(J,n)||c(Q,n)){var i=q(r,n);return!i||!c(J,n)||c(r,z)&&r[z][n]||(i.enumerable=!0),i}},dt=function(t){var e=Z(m(t)),r=[];return N(e,(function(t){c(J,t)||c(D,t)||r.push(t)})),r},gt=function(t){var e=t===$,r=Z(e?Q:m(t)),n=[];return N(r,(function(t){!c(J,t)||e&&!c($,t)||n.push(J[t])})),n};if(h||(G=function(){if(this instanceof G)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=C(t),r=function(t){this===$&&r.call(Q,t),c(this,z)&&c(this[z],e)&&(this[z][e]=!1),ot(this,e,y(1,t))};return s&&it&&ot($,e,{configurable:!0,set:r}),at(e,t)},T(G[j],"toString",(function(){return X(this).tag})),T(G,"withoutSetter",(function(t){return at(C(t),t)})),E.f=ct,A.f=ht,k.f=ft,x.f=_.f=dt,M.f=gt,B.f=function(t){return at(R(t),t)},s&&(W(G[j],"description",{configurable:!0,get:function(){return X(this).description}}),a||T($,"propertyIsEnumerable",ct,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!h,sham:!h},{Symbol:G}),N(v(rt),(function(t){O(t)})),n({target:F,stat:!0,forced:!h},{for:function(t){var e=String(t);if(c(tt,e))return tt[e];var r=G(e);return tt[e]=r,et[r]=e,r},keyFor:function(t){if(!st(t))throw TypeError(t+" is not a symbol");if(c(et,t))return et[t]},useSetter:function(){it=!0},useSimple:function(){it=!1}}),n({target:"Object",stat:!0,forced:!h,sham:!s},{create:ut,defineProperty:ht,defineProperties:lt,getOwnPropertyDescriptor:ft}),n({target:"Object",stat:!0,forced:!h},{getOwnPropertyNames:dt,getOwnPropertySymbols:gt}),n({target:"Object",stat:!0,forced:u((function(){M.f(1)}))},{getOwnPropertySymbols:function(t){return M.f(p(t))}}),H){var pt=!h||u((function(){var t=G();return"[null]"!=H([t])||"{}"!=H({a:t})||"{}"!=H(Object(t))}));n({target:"JSON",stat:!0,forced:pt},{stringify:function(t,e,r){var n,i=[t],o=1;while(arguments.length>o)i.push(arguments[o++]);if(n=e,(d(e)||void 0!==t)&&!st(t))return f(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!st(e))return e}),i[1]=e,H.apply(null,i)}})}G[j][Y]||S(G[j],Y,G[j].valueOf),L(G,F),D[z]=!0},a596:function(t,e,r){"use strict";const n=r("c7a8"),i=/^(\d{4}):(\d{2}):(\d{2}) (\d{2}):(\d{2}):(\d{2})$/;class o extends n{constructor(){super("standard")}get size(){return this.width*this.height}get width(){return this.imageWidth}get height(){return this.imageLength}get components(){return this.samplesPerPixel}get date(){var t=new Date,e=i.exec(this.dateTime);return t.setFullYear(e[1],e[2]-1,e[3]),t.setHours(e[4],e[5],e[6]),t}get newSubfileType(){return this.get(254)}get imageWidth(){return this.get(256)}get imageLength(){return this.get(257)}get bitsPerSample(){return this.get(258)}get compression(){return this.get(259)||1}get type(){return this.get(262)}get fillOrder(){return this.get(266)||1}get documentName(){return this.get(269)}get imageDescription(){return this.get(270)}get stripOffsets(){return a(this.get(273))}get orientation(){return this.get(274)}get samplesPerPixel(){return this.get(277)}get rowsPerStrip(){return this.get(278)}get stripByteCounts(){return a(this.get(279))}get minSampleValue(){return this.get(280)||0}get maxSampleValue(){return this.get(281)||Math.pow(2,this.bitsPerSample)-1}get xResolution(){return this.get(282)}get yResolution(){return this.get(283)}get planarConfiguration(){return this.get(284)||1}get resolutionUnit(){return this.get(296)||2}get dateTime(){return this.get(306)}get predictor(){return this.get(317)||1}get sampleFormat(){return this.get(339)||1}get sMinSampleValue(){return this.get(340)||this.minSampleValue}get sMaxSampleValue(){return this.get(341)||this.maxSampleValue}}function a(t){return"number"===typeof t?[t]:t}t.exports=o},a640:function(t,e,r){"use strict";var n=r("d039");t.exports=function(t,e){var r=[][t];return!!r&&n((function(){r.call(null,e||function(){throw 1},1)}))}},a691:function(t,e){var r=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:r)(t)}},a9e3:function(t,e,r){"use strict";var n=r("83ab"),i=r("da84"),o=r("94ca"),a=r("6eeb"),s=r("5135"),h=r("c6b6"),l=r("7156"),u=r("c04e"),c=r("d039"),f=r("7c73"),d=r("241c").f,g=r("06cf").f,p=r("9bf2").f,m=r("58a8").trim,w="Number",y=i[w],b=y.prototype,v=h(f(b))==w,x=function(t){var e,r,n,i,o,a,s,h,l=u(t,!1);if("string"==typeof l&&l.length>2)if(l=m(l),e=l.charCodeAt(0),43===e||45===e){if(r=l.charCodeAt(2),88===r||120===r)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+l}for(o=l.slice(2),a=o.length,s=0;s<a;s++)if(h=o.charCodeAt(s),h<48||h>i)return NaN;return parseInt(o,n)}return+l};if(o(w,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var _,M=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof M&&(v?c((function(){b.valueOf.call(r)})):h(r)!=w)?l(new y(x(e)),r,M):x(e)},k=n?d(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),A=0;k.length>A;A++)s(y,_=k[A])&&!s(M,_)&&p(M,_,g(y,_));M.prototype=b,b.constructor=M,a(i,w,M)}},aae2:function(t,e,r){"use strict";const n=r("374c").squared,i={constant:1};class o{constructor(t){t=Object.assign({},i,t),this.constant=t.constant}compute(t,e){return Math.sqrt(n(t,e)+this.constant*this.constant)}}t.exports=o},abc2:function(t,e,r){(function(){function e(t,e,r){this.next=r,r&&(r.prev=this),this.prev=e,e&&(e.next=this),this.data=t}function r(){if(!(this instanceof r))return new r;this._head=null,this._tail=null,this.length=0}r.prototype={push:function(t){this._tail=new e(t,this._tail,null),this._head||(this._head=this._tail),this.length++},pop:function(){if(0!==this.length){var t=this._tail;return this._tail=t.prev,t.prev&&(t.prev=this._tail.next=null),this.length--,1===this.length?this._head=this._tail:0===this.length&&(this._head=this._tail=null),t.data}},unshift:function(t){this._head=new e(t,null,this._head),this._tail||(this._tail=this._head),this.length++},shift:function(){if(0!==this.length){var t=this._head;return this._head=t.next,t.next&&(t.next=this._head.prev=null),this.length--,1===this.length?this._tail=this._head:0===this.length&&(this._head=this._tail=null),t.data}},item:function(t){t<0&&(t=this.length+t);var e=this._head;while(t-- >0&&e)e=e.next;return e?e.data:void 0},slice:function(t,e){if(t||(t=0),e||(e=this.length),e<0&&(e=this.length+e),t<0&&(t=this.length+t),e===t)return[];if(e<t)throw new Error("invalid offset: "+t+","+e+" (length="+this.length+")");var r=e-t,n=new Array(r),i=0,o=this._head;while(t-- >0&&o)o=o.next;while(i<r&&o)n[i++]=o.data,o=o.next;return n},drop:function(){r.call(this)},forEach:function(t,e){var r=this._head,n=0,i=this.length;while(n<i&&r)t.call(e||this,r.data,n,this),r=r.next,n++},map:function(t,e){var n=new r;return this.forEach((function(r,i,o){n.push(t.call(e||o,r,i,o))})),n},filter:function(t,e){var n=new r;return this.forEach((function(r,i,o){t.call(e||o,r,i,o)&&n.push(r)})),n},reduce:function(t,e,r){var n=0,i=this._head,o=this.length;e||(n=1,e=i&&i.data,i=i&&i.next);while(n<o&&i)e=t.call(r||this,e,i.data,this),n++,i=i.next;return e}},t.exports=r})()},ac1f:function(t,e,r){"use strict";var n=r("23e7"),i=r("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ad6d:function(t,e,r){"use strict";var n=r("825a");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},ae40:function(t,e,r){var n=r("83ab"),i=r("d039"),o=r("5135"),a=Object.defineProperty,s={},h=function(t){throw t};t.exports=function(t,e){if(o(s,t))return s[t];e||(e={});var r=[][t],l=!!o(e,"ACCESSORS")&&e.ACCESSORS,u=o(e,0)?e[0]:h,c=o(e,1)?e[1]:void 0;return s[t]=!!r&&!i((function(){if(l&&!n)return!0;var t={length:-1};l?a(t,1,{enumerable:!0,get:h}):t[1]=1,r.call(t,u,c)}))}},b041:function(t,e,r){"use strict";var n=r("00ee"),i=r("f5df");t.exports=n?{}.toString:function(){return"[object "+i(this)+"]"}},b0c0:function(t,e,r){var n=r("83ab"),i=r("9bf2").f,o=Function.prototype,a=o.toString,s=/^\s*function ([^ (]*)/,h="name";n&&!(h in o)&&i(o,h,{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(t){return""}}})},b19b:function(t,e,r){"use strict";const n={sigma:1,degree:1};class i{constructor(t){t=Object.assign({},n,t),this.sigma=t.sigma,this.degree=t.degree}compute(t,e){for(var r=0,n=Math.min(t.length,e.length),i=1;i<=n;++i)r+=Math.pow(Math.exp(-this.sigma*Math.pow(Math.pow(t[i-1],i)-Math.pow(e[i-1],i),2)),this.degree);return r}}t.exports=i},b245:function(t,e,r){"use strict";const n={degree:1,constant:1,scale:1};class i{constructor(t){t=Object.assign({},n,t),this.degree=t.degree,this.constant=t.constant,this.scale=t.scale}compute(t,e){for(var r=0,n=0;n<t.length;n++)r+=t[n]*e[n];return Math.pow(this.scale*r+this.constant,this.degree)}}t.exports=i},b4ae:function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return N})),r.d(e,"Matrix",(function(){return N})),r.d(e,"abstractMatrix",(function(){return U})),r.d(e,"wrap",(function(){return j})),r.d(e,"WrapperMatrix2D",(function(){return F})),r.d(e,"WrapperMatrix1D",(function(){return z})),r.d(e,"solve",(function(){return X})),r.d(e,"inverse",(function(){return V})),r.d(e,"linearDependencies",(function(){return H})),r.d(e,"SingularValueDecomposition",(function(){return g})),r.d(e,"SVD",(function(){return g})),r.d(e,"EigenvalueDecomposition",(function(){return q})),r.d(e,"EVD",(function(){return q})),r.d(e,"CholeskyDecomposition",(function(){return tt})),r.d(e,"CHO",(function(){return tt})),r.d(e,"LuDecomposition",(function(){return c})),r.d(e,"LU",(function(){return c})),r.d(e,"QrDecomposition",(function(){return Y})),r.d(e,"QR",(function(){return Y}));var n=r("eb55"),i=r.n(n);function o(t){if(!i()(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");for(var e=t[0],r=1;r<t.length;r++)t[r]>e&&(e=t[r]);return e}var a=o;function s(t){if(!i()(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");for(var e=t[0],r=1;r<t.length;r++)t[r]<e&&(e=t[r]);return e}var h=s;function l(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!i()(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");if(void 0!==r.output){if(!i()(r.output))throw new TypeError("output option must be an array if specified");e=r.output}else e=new Array(t.length);var n=h(t),o=a(t);if(n===o)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var s=r.min,l=void 0===s?r.autoMinMax?n:0:s,u=r.max,c=void 0===u?r.autoMinMax?o:1:u;if(l>=c)throw new RangeError("min option must be smaller than max option");for(var f=(c-l)/(o-n),d=0;d<t.length;d++)e[d]=(t[d]-n)*f+l;return e}var u=l;class c{constructor(t){t=F.checkMatrix(t);var e,r,n,i,o,a,s,h,l,u=t.clone(),c=u.rows,f=u.columns,d=new Array(c),g=1;for(e=0;e<c;e++)d[e]=e;for(h=new Array(c),r=0;r<f;r++){for(e=0;e<c;e++)h[e]=u.get(e,r);for(e=0;e<c;e++){for(l=Math.min(e,r),o=0,n=0;n<l;n++)o+=u.get(e,n)*h[n];h[e]-=o,u.set(e,r,h[e])}for(i=r,e=r+1;e<c;e++)Math.abs(h[e])>Math.abs(h[i])&&(i=e);if(i!==r){for(n=0;n<f;n++)a=u.get(i,n),u.set(i,n,u.get(r,n)),u.set(r,n,a);s=d[i],d[i]=d[r],d[r]=s,g=-g}if(r<c&&0!==u.get(r,r))for(e=r+1;e<c;e++)u.set(e,r,u.get(e,r)/u.get(r,r))}this.LU=u,this.pivotVector=d,this.pivotSign=g}isSingular(){for(var t=this.LU,e=t.columns,r=0;r<e;r++)if(0===t[r][r])return!0;return!1}solve(t){t=N.checkMatrix(t);var e=this.LU,r=e.rows;if(r!==t.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");var n,i,o,a=t.columns,s=t.subMatrixRow(this.pivotVector,0,a-1),h=e.columns;for(o=0;o<h;o++)for(n=o+1;n<h;n++)for(i=0;i<a;i++)s[n][i]-=s[o][i]*e[n][o];for(o=h-1;o>=0;o--){for(i=0;i<a;i++)s[o][i]/=e[o][o];for(n=0;n<o;n++)for(i=0;i<a;i++)s[n][i]-=s[o][i]*e[n][o]}return s}get determinant(){var t=this.LU;if(!t.isSquare())throw new Error("Matrix must be square");for(var e=this.pivotSign,r=t.columns,n=0;n<r;n++)e*=t[n][n];return e}get lowerTriangularMatrix(){for(var t=this.LU,e=t.rows,r=t.columns,n=new N(e,r),i=0;i<e;i++)for(var o=0;o<r;o++)n[i][o]=i>o?t[i][o]:i===o?1:0;return n}get upperTriangularMatrix(){for(var t=this.LU,e=t.rows,r=t.columns,n=new N(e,r),i=0;i<e;i++)for(var o=0;o<r;o++)n[i][o]=i<=o?t[i][o]:0;return n}get pivotPermutationVector(){return this.pivotVector.slice()}}function f(t,e){var r=0;return Math.abs(t)>Math.abs(e)?(r=e/t,Math.abs(t)*Math.sqrt(1+r*r)):0!==e?(r=t/e,Math.abs(e)*Math.sqrt(1+r*r)):0}function d(t,e,r){for(var n=new Array(t),i=0;i<t;i++){n[i]=new Array(e);for(var o=0;o<e;o++)n[i][o]=r}return n}class g{constructor(t,e={}){t=F.checkMatrix(t);var r=t.rows,n=t.columns;const{computeLeftSingularVectors:i=!0,computeRightSingularVectors:o=!0,autoTranspose:a=!1}=e;var s,h=Boolean(i),l=Boolean(o),u=!1;if(r<n)if(a){s=t.transpose(),r=s.rows,n=s.columns,u=!0;var c=h;h=l,l=c}else s=t.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else s=t.clone();var g=Math.min(r,n),p=Math.min(r+1,n),m=new Array(p),w=d(r,g,0),y=d(n,n,0),b=new Array(n),v=new Array(r),x=new Array(p);for(let f=0;f<p;f++)x[f]=f;var _=Math.min(r-1,n),M=Math.max(0,Math.min(n-2,r)),k=Math.max(_,M);for(let d=0;d<k;d++){if(d<_){m[d]=0;for(let t=d;t<r;t++)m[d]=f(m[d],s[t][d]);if(0!==m[d]){s[d][d]<0&&(m[d]=-m[d]);for(let t=d;t<r;t++)s[t][d]/=m[d];s[d][d]+=1}m[d]=-m[d]}for(let t=d+1;t<n;t++){if(d<_&&0!==m[d]){let e=0;for(let n=d;n<r;n++)e+=s[n][d]*s[n][t];e=-e/s[d][d];for(let n=d;n<r;n++)s[n][t]+=e*s[n][d]}b[t]=s[d][t]}if(h&&d<_)for(let t=d;t<r;t++)w[t][d]=s[t][d];if(d<M){b[d]=0;for(let t=d+1;t<n;t++)b[d]=f(b[d],b[t]);if(0!==b[d]){b[d+1]<0&&(b[d]=0-b[d]);for(let t=d+1;t<n;t++)b[t]/=b[d];b[d+1]+=1}if(b[d]=-b[d],d+1<r&&0!==b[d]){for(let t=d+1;t<r;t++)v[t]=0;for(let t=d+1;t<r;t++)for(let e=d+1;e<n;e++)v[t]+=b[e]*s[t][e];for(let t=d+1;t<n;t++){let e=-b[t]/b[d+1];for(let n=d+1;n<r;n++)s[n][t]+=e*v[n]}}if(l)for(let t=d+1;t<n;t++)y[t][d]=b[t]}}let A=Math.min(n,r+1);if(_<n&&(m[_]=s[_][_]),r<A&&(m[A-1]=0),M+1<A&&(b[M]=s[M][A-1]),b[A-1]=0,h){for(let t=_;t<g;t++){for(let e=0;e<r;e++)w[e][t]=0;w[t][t]=1}for(let t=_-1;t>=0;t--)if(0!==m[t]){for(let e=t+1;e<g;e++){let n=0;for(let i=t;i<r;i++)n+=w[i][t]*w[i][e];n=-n/w[t][t];for(let i=t;i<r;i++)w[i][e]+=n*w[i][t]}for(let e=t;e<r;e++)w[e][t]=-w[e][t];w[t][t]=1+w[t][t];for(let e=0;e<t-1;e++)w[e][t]=0}else{for(let e=0;e<r;e++)w[e][t]=0;w[t][t]=1}}if(l)for(let f=n-1;f>=0;f--){if(f<M&&0!==b[f])for(let t=f+1;t<n;t++){let e=0;for(let r=f+1;r<n;r++)e+=y[r][f]*y[r][t];e=-e/y[f+1][f];for(let r=f+1;r<n;r++)y[r][t]+=e*y[r][f]}for(let t=0;t<n;t++)y[t][f]=0;y[f][f]=1}var E=A-1,S=Number.EPSILON;while(A>0){let t,e;for(t=A-2;t>=-1;t--){if(-1===t)break;const e=Number.MIN_VALUE+S*Math.abs(m[t]+Math.abs(m[t+1]));if(Math.abs(b[t])<=e||Number.isNaN(b[t])){b[t]=0;break}}if(t===A-2)e=4;else{let r;for(r=A-1;r>=t;r--){if(r===t)break;let e=(r!==A?Math.abs(b[r]):0)+(r!==t+1?Math.abs(b[r-1]):0);if(Math.abs(m[r])<=S*e){m[r]=0;break}}r===t?e=3:r===A-1?e=1:(e=2,t=r)}switch(t++,e){case 1:{let e=b[A-2];b[A-2]=0;for(let r=A-2;r>=t;r--){let i=f(m[r],e),o=m[r]/i,a=e/i;if(m[r]=i,r!==t&&(e=-a*b[r-1],b[r-1]=o*b[r-1]),l)for(let t=0;t<n;t++)i=o*y[t][r]+a*y[t][A-1],y[t][A-1]=-a*y[t][r]+o*y[t][A-1],y[t][r]=i}break}case 2:{let e=b[t-1];b[t-1]=0;for(let n=t;n<A;n++){let i=f(m[n],e),o=m[n]/i,a=e/i;if(m[n]=i,e=-a*b[n],b[n]=o*b[n],h)for(let e=0;e<r;e++)i=o*w[e][n]+a*w[e][t-1],w[e][t-1]=-a*w[e][n]+o*w[e][t-1],w[e][n]=i}break}case 3:{const e=Math.max(Math.abs(m[A-1]),Math.abs(m[A-2]),Math.abs(b[A-2]),Math.abs(m[t]),Math.abs(b[t])),i=m[A-1]/e,o=m[A-2]/e,a=b[A-2]/e,s=m[t]/e,u=b[t]/e,c=((o+i)*(o-i)+a*a)/2,d=i*a*(i*a);let g=0;0===c&&0===d||(g=c<0?0-Math.sqrt(c*c+d):Math.sqrt(c*c+d),g=d/(c+g));let p=(s+i)*(s-i)+g,v=s*u;for(let x=t;x<A-1;x++){let e=f(p,v);0===e&&(e=Number.MIN_VALUE);let i=p/e,o=v/e;if(x!==t&&(b[x-1]=e),p=i*m[x]+o*b[x],b[x]=i*b[x]-o*m[x],v=o*m[x+1],m[x+1]=i*m[x+1],l)for(let t=0;t<n;t++)e=i*y[t][x]+o*y[t][x+1],y[t][x+1]=-o*y[t][x]+i*y[t][x+1],y[t][x]=e;if(e=f(p,v),0===e&&(e=Number.MIN_VALUE),i=p/e,o=v/e,m[x]=e,p=i*b[x]+o*m[x+1],m[x+1]=-o*b[x]+i*m[x+1],v=o*b[x+1],b[x+1]=i*b[x+1],h&&x<r-1)for(let t=0;t<r;t++)e=i*w[t][x]+o*w[t][x+1],w[t][x+1]=-o*w[t][x]+i*w[t][x+1],w[t][x]=e}b[A-2]=p,1;break}case 4:if(m[t]<=0&&(m[t]=m[t]<0?-m[t]:0,l))for(let e=0;e<=E;e++)y[e][t]=-y[e][t];while(t<E){if(m[t]>=m[t+1])break;let e=m[t];if(m[t]=m[t+1],m[t+1]=e,l&&t<n-1)for(let r=0;r<n;r++)e=y[r][t+1],y[r][t+1]=y[r][t],y[r][t]=e;if(h&&t<r-1)for(let n=0;n<r;n++)e=w[n][t+1],w[n][t+1]=w[n][t],w[n][t]=e;t++}0,A--;break}}if(u){var T=y;y=w,w=T}this.m=r,this.n=n,this.s=m,this.U=w,this.V=y}solve(t){var e=t,r=this.threshold,n=this.s.length,i=N.zeros(n,n);for(let c=0;c<n;c++)Math.abs(this.s[c])<=r?i[c][c]=0:i[c][c]=1/this.s[c];var o=this.U,a=this.rightSingularVectors,s=a.mmul(i),h=a.rows,l=o.length,u=N.zeros(h,l);for(let c=0;c<h;c++)for(let t=0;t<l;t++){let e=0;for(let r=0;r<n;r++)e+=s[c][r]*o[t][r];u[c][t]=e}return u.mmul(e)}solveForDiagonal(t){return this.solve(N.diag(t))}inverse(){var t=this.V,e=this.threshold,r=t.length,n=t[0].length,i=new N(r,this.s.length);for(let l=0;l<r;l++)for(let r=0;r<n;r++)Math.abs(this.s[r])>e?i[l][r]=t[l][r]/this.s[r]:i[l][r]=0;var o=this.U,a=o.length,s=o[0].length,h=new N(r,a);for(let l=0;l<r;l++)for(let t=0;t<a;t++){let e=0;for(let r=0;r<s;r++)e+=i[l][r]*o[t][r];h[l][t]=e}return h}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){for(var t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,r=this.s,n=0,i=r.length;n<i;n++)r[n]>t&&e++;return e}get diagonal(){return this.s}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return N.isMatrix(this.U)||(this.U=new N(this.U)),this.U}get rightSingularVectors(){return N.isMatrix(this.V)||(this.V=new N(this.V)),this.V}get diagonalMatrix(){return N.diag(this.s)}}function p(t,e,r){var n=r?t.rows:t.rows-1;if(e<0||e>n)throw new RangeError("Row index out of range")}function m(t,e,r){var n=r?t.columns:t.columns-1;if(e<0||e>n)throw new RangeError("Column index out of range")}function w(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.columns)throw new RangeError("vector size must be the same as the number of columns");return e}function y(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.rows)throw new RangeError("vector size must be the same as the number of rows");return e}function b(t,e,r){return{row:v(t,e),column:x(t,r)}}function v(t,e){if("object"!==typeof e)throw new TypeError("unexpected type for row indices");var r=e.some(e=>e<0||e>=t.rows);if(r)throw new RangeError("row indices are out of range");return Array.isArray(e)||(e=Array.from(e)),e}function x(t,e){if("object"!==typeof e)throw new TypeError("unexpected type for column indices");var r=e.some(e=>e<0||e>=t.columns);if(r)throw new RangeError("column indices are out of range");return Array.isArray(e)||(e=Array.from(e)),e}function _(t,e,r,n,i){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(E("startRow",e),E("endRow",r),E("startColumn",n),E("endColumn",i),e>r||n>i||e<0||e>=t.rows||r<0||r>=t.rows||n<0||n>=t.columns||i<0||i>=t.columns)throw new RangeError("Submatrix indices are out of range")}function M(t){for(var e=N.zeros(t.rows,1),r=0;r<t.rows;++r)for(var n=0;n<t.columns;++n)e.set(r,0,e.get(r,0)+t.get(r,n));return e}function k(t){for(var e=N.zeros(1,t.columns),r=0;r<t.rows;++r)for(var n=0;n<t.columns;++n)e.set(0,n,e.get(0,n)+t.get(r,n));return e}function A(t){for(var e=0,r=0;r<t.rows;r++)for(var n=0;n<t.columns;n++)e+=t.get(r,n);return e}function E(t,e){if("number"!==typeof e)throw new TypeError(t+" must be a number")}class S extends(U()){constructor(t,e,r){super(),this.matrix=t,this.rows=e,this.columns=r}static get[Symbol.species](){return N}}class T extends S{constructor(t){super(t,t.columns,t.rows)}set(t,e,r){return this.matrix.set(e,t,r),this}get(t,e){return this.matrix.get(e,t)}}class P extends S{constructor(t,e){super(t,1,t.columns),this.row=e}set(t,e,r){return this.matrix.set(this.row,e,r),this}get(t,e){return this.matrix.get(this.row,e)}}class I extends S{constructor(t,e,r,n,i){_(t,e,r,n,i),super(t,r-e+1,i-n+1),this.startRow=e,this.startColumn=n}set(t,e,r){return this.matrix.set(this.startRow+t,this.startColumn+e,r),this}get(t,e){return this.matrix.get(this.startRow+t,this.startColumn+e)}}class D extends S{constructor(t,e,r){var n=b(t,e,r);super(t,n.row.length,n.column.length),this.rowIndices=n.row,this.columnIndices=n.column}set(t,e,r){return this.matrix.set(this.rowIndices[t],this.columnIndices[e],r),this}get(t,e){return this.matrix.get(this.rowIndices[t],this.columnIndices[e])}}class C extends S{constructor(t,e){e=v(t,e),super(t,e.length,t.columns),this.rowIndices=e}set(t,e,r){return this.matrix.set(this.rowIndices[t],e,r),this}get(t,e){return this.matrix.get(this.rowIndices[t],e)}}class R extends S{constructor(t,e){e=x(t,e),super(t,t.rows,e.length),this.columnIndices=e}set(t,e,r){return this.matrix.set(t,this.columnIndices[e],r),this}get(t,e){return this.matrix.get(t,this.columnIndices[e])}}class B extends S{constructor(t,e){super(t,t.rows,1),this.column=e}set(t,e,r){return this.matrix.set(t,this.column,r),this}get(t){return this.matrix.get(t,this.column)}}class O extends S{constructor(t){super(t,t.rows,t.columns)}set(t,e,r){return this.matrix.set(this.rows-t-1,e,r),this}get(t,e){return this.matrix.get(this.rows-t-1,e)}}class L extends S{constructor(t){super(t,t.rows,t.columns)}set(t,e,r){return this.matrix.set(t,this.columns-e-1,r),this}get(t,e){return this.matrix.get(t,this.columns-e-1)}}function U(t){void 0===t&&(t=Object);class e extends t{static get[Symbol.species](){return this}static from1DArray(t,e,r){var n=t*e;if(n!==r.length)throw new RangeError("Data length does not match given dimensions");for(var i=new this(t,e),o=0;o<t;o++)for(var a=0;a<e;a++)i.set(o,a,r[o*e+a]);return i}static rowVector(t){for(var e=new this(1,t.length),r=0;r<t.length;r++)e.set(0,r,t[r]);return e}static columnVector(t){for(var e=new this(t.length,1),r=0;r<t.length;r++)e.set(r,0,t[r]);return e}static empty(t,e){return new this(t,e)}static zeros(t,e){return this.empty(t,e).fill(0)}static ones(t,e){return this.empty(t,e).fill(1)}static rand(t,e,r){void 0===r&&(r=Math.random);for(var n=this.empty(t,e),i=0;i<t;i++)for(var o=0;o<e;o++)n.set(i,o,r());return n}static randInt(t,e,r,n){void 0===r&&(r=1e3),void 0===n&&(n=Math.random);for(var i=this.empty(t,e),o=0;o<t;o++)for(var a=0;a<e;a++){var s=Math.floor(n()*r);i.set(o,a,s)}return i}static eye(t,e,r){void 0===e&&(e=t),void 0===r&&(r=1);for(var n=Math.min(t,e),i=this.zeros(t,e),o=0;o<n;o++)i.set(o,o,r);return i}static diag(t,e,r){var n=t.length;void 0===e&&(e=n),void 0===r&&(r=e);for(var i=Math.min(n,e,r),o=this.zeros(e,r),a=0;a<i;a++)o.set(a,a,t[a]);return o}static min(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var r=t.rows,n=t.columns,i=new this(r,n),o=0;o<r;o++)for(var a=0;a<n;a++)i.set(o,a,Math.min(t.get(o,a),e.get(o,a)));return i}static max(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var r=t.rows,n=t.columns,i=new this(r,n),o=0;o<r;o++)for(var a=0;a<n;a++)i.set(o,a,Math.max(t.get(o,a),e.get(o,a)));return i}static checkMatrix(t){return e.isMatrix(t)?t:new this(t)}static isMatrix(t){return null!=t&&"Matrix"===t.klass}get size(){return this.rows*this.columns}apply(t){if("function"!==typeof t)throw new TypeError("callback must be a function");for(var e=this.rows,r=this.columns,n=0;n<e;n++)for(var i=0;i<r;i++)t.call(this,n,i);return this}to1DArray(){for(var t=new Array(this.size),e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t[e*this.columns+r]=this.get(e,r);return t}to2DArray(){for(var t=new Array(this.rows),e=0;e<this.rows;e++){t[e]=new Array(this.columns);for(var r=0;r<this.columns;r++)t[e][r]=this.get(e,r)}return t}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isSymmetric(){if(this.isSquare()){for(var t=0;t<this.rows;t++)for(var e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}isEchelonForm(){let t=0,e=0,r=-1,n=!0,i=!1;while(t<this.rows&&n){e=0,i=!1;while(e<this.columns&&!1===i)0===this.get(t,e)?e++:1===this.get(t,e)&&e>r?(i=!0,r=e):(n=!1,i=!0);t++}return n}isReducedEchelonForm(){let t=0,e=0,r=-1,n=!0,i=!1;while(t<this.rows&&n){e=0,i=!1;while(e<this.columns&&!1===i)0===this.get(t,e)?e++:1===this.get(t,e)&&e>r?(i=!0,r=e):(n=!1,i=!0);for(let r=e+1;r<this.rows;r++)0!==this.get(t,r)&&(n=!1);t++}return n}set(t,e,r){throw new Error("set method is unimplemented")}get(t,e){throw new Error("get method is unimplemented")}repeat(t,e){t=t||1,e=e||1;for(var r=new this.constructor[Symbol.species](this.rows*t,this.columns*e),n=0;n<t;n++)for(var i=0;i<e;i++)r.setSubMatrix(this,this.rows*n,this.columns*i);return r}fill(t){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,t);return this}neg(){return this.mulS(-1)}getRow(t){p(this,t);for(var e=new Array(this.columns),r=0;r<this.columns;r++)e[r]=this.get(t,r);return e}getRowVector(t){return this.constructor.rowVector(this.getRow(t))}setRow(t,e){p(this,t),e=w(this,e);for(var r=0;r<this.columns;r++)this.set(t,r,e[r]);return this}swapRows(t,e){p(this,t),p(this,e);for(var r=0;r<this.columns;r++){var n=this.get(t,r);this.set(t,r,this.get(e,r)),this.set(e,r,n)}return this}getColumn(t){m(this,t);for(var e=new Array(this.rows),r=0;r<this.rows;r++)e[r]=this.get(r,t);return e}getColumnVector(t){return this.constructor.columnVector(this.getColumn(t))}setColumn(t,e){m(this,t),e=y(this,e);for(var r=0;r<this.rows;r++)this.set(r,t,e[r]);return this}swapColumns(t,e){m(this,t),m(this,e);for(var r=0;r<this.rows;r++){var n=this.get(r,t);this.set(r,t,this.get(r,e)),this.set(r,e,n)}return this}addRowVector(t){t=w(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t[r]);return this}subRowVector(t){t=w(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t[r]);return this}mulRowVector(t){t=w(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t[r]);return this}divRowVector(t){t=w(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t[r]);return this}addColumnVector(t){t=y(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t[e]);return this}subColumnVector(t){t=y(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t[e]);return this}mulColumnVector(t){t=y(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t[e]);return this}divColumnVector(t){t=y(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t[e]);return this}mulRow(t,e){p(this,t);for(var r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)*e);return this}mulColumn(t,e){m(this,t);for(var r=0;r<this.rows;r++)this.set(r,t,this.get(r,t)*e);return this}max(){for(var t=this.get(0,0),e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.get(e,r)>t&&(t=this.get(e,r));return t}maxIndex(){for(var t=this.get(0,0),e=[0,0],r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.get(r,n)>t&&(t=this.get(r,n),e[0]=r,e[1]=n);return e}min(){for(var t=this.get(0,0),e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.get(e,r)<t&&(t=this.get(e,r));return t}minIndex(){for(var t=this.get(0,0),e=[0,0],r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.get(r,n)<t&&(t=this.get(r,n),e[0]=r,e[1]=n);return e}maxRow(t){p(this,t);for(var e=this.get(t,0),r=1;r<this.columns;r++)this.get(t,r)>e&&(e=this.get(t,r));return e}maxRowIndex(t){p(this,t);for(var e=this.get(t,0),r=[t,0],n=1;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n),r[1]=n);return r}minRow(t){p(this,t);for(var e=this.get(t,0),r=1;r<this.columns;r++)this.get(t,r)<e&&(e=this.get(t,r));return e}minRowIndex(t){p(this,t);for(var e=this.get(t,0),r=[t,0],n=1;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n),r[1]=n);return r}maxColumn(t){m(this,t);for(var e=this.get(0,t),r=1;r<this.rows;r++)this.get(r,t)>e&&(e=this.get(r,t));return e}maxColumnIndex(t){m(this,t);for(var e=this.get(0,t),r=[0,t],n=1;n<this.rows;n++)this.get(n,t)>e&&(e=this.get(n,t),r[0]=n);return r}minColumn(t){m(this,t);for(var e=this.get(0,t),r=1;r<this.rows;r++)this.get(r,t)<e&&(e=this.get(r,t));return e}minColumnIndex(t){m(this,t);for(var e=this.get(0,t),r=[0,t],n=1;n<this.rows;n++)this.get(n,t)<e&&(e=this.get(n,t),r[0]=n);return r}diag(){for(var t=Math.min(this.rows,this.columns),e=new Array(t),r=0;r<t;r++)e[r]=this.get(r,r);return e}sum(t){switch(t){case"row":return M(this);case"column":return k(this);default:return A(this)}}mean(){return this.sum()/this.size}prod(){for(var t=1,e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t*=this.get(e,r);return t}norm(t="frobenius"){var e=0;if("max"===t)return this.max();if("frobenius"===t){for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)e+=this.get(r,n)*this.get(r,n);return Math.sqrt(e)}throw new RangeError("unknown norm type: "+t)}cumulativeSum(){for(var t=0,e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t+=this.get(e,r),this.set(e,r,t);return this}dot(t){e.isMatrix(t)&&(t=t.to1DArray());var r=this.to1DArray();if(r.length!==t.length)throw new RangeError("vectors do not have the same size");for(var n=0,i=0;i<r.length;i++)n+=r[i]*t[i];return n}mmul(t){t=this.constructor.checkMatrix(t),this.columns!==t.rows&&console.warn("Number of columns of left matrix are not equal to number of rows of right matrix.");for(var e=this.rows,r=this.columns,n=t.columns,i=new this.constructor[Symbol.species](e,n),o=new Array(r),a=0;a<n;a++){for(var s=0;s<r;s++)o[s]=t.get(s,a);for(var h=0;h<e;h++){var l=0;for(s=0;s<r;s++)l+=this.get(h,s)*o[s];i.set(h,a,l)}}return i}strassen2x2(t){var e=new this.constructor[Symbol.species](2,2);const r=this.get(0,0),n=t.get(0,0),i=this.get(0,1),o=t.get(0,1),a=this.get(1,0),s=t.get(1,0),h=this.get(1,1),l=t.get(1,1),u=(r+h)*(n+l),c=(a+h)*n,f=r*(o-l),d=h*(s-n),g=(r+i)*l,p=(a-r)*(n+o),m=(i-h)*(s+l),w=u+d-g+m,y=f+g,b=c+d,v=u-c+f+p;return e.set(0,0,w),e.set(0,1,y),e.set(1,0,b),e.set(1,1,v),e}strassen3x3(t){var e=new this.constructor[Symbol.species](3,3);const r=this.get(0,0),n=this.get(0,1),i=this.get(0,2),o=this.get(1,0),a=this.get(1,1),s=this.get(1,2),h=this.get(2,0),l=this.get(2,1),u=this.get(2,2),c=t.get(0,0),f=t.get(0,1),d=t.get(0,2),g=t.get(1,0),p=t.get(1,1),m=t.get(1,2),w=t.get(2,0),y=t.get(2,1),b=t.get(2,2),v=(r+n+i-o-a-l-u)*p,x=(r-o)*(-f+p),_=a*(-c+f+g-p-m-w+b),M=(-r+o+a)*(c-f+p),k=(o+a)*(-c+f),A=r*c,E=(-r+h+l)*(c-d+m),S=(-r+h)*(d-m),T=(h+l)*(-c+d),P=(r+n+i-a-s-h-l)*m,I=l*(-c+d+g-p-m-w+y),D=(-i+l+u)*(p+w-y),C=(i-u)*(p-y),R=i*w,B=(l+u)*(-w+y),O=(-i+a+s)*(m+w-b),L=(i-s)*(m-b),U=(a+s)*(-w+b),N=n*g,z=s*y,F=o*d,j=h*f,Y=u*b,V=A+R+N,X=v+M+k+A+D+R+B,$=A+E+T+P+R+O+U,G=x+_+M+A+R+O+L,H=x+M+k+A+z,q=R+O+L+U+F,W=A+E+S+I+D+C+R,Z=D+C+R+B+j,K=A+E+S+T+Y;return e.set(0,0,V),e.set(0,1,X),e.set(0,2,$),e.set(1,0,G),e.set(1,1,H),e.set(1,2,q),e.set(2,0,W),e.set(2,1,Z),e.set(2,2,K),e}mmulStrassen(t){var r=this.clone(),n=r.rows,i=r.columns,o=t.rows,a=t.columns;function s(t,r,n){var i=t.rows,o=t.columns;if(i===r&&o===n)return t;var a=e.zeros(r,n);return a=a.setSubMatrix(t,0,0),a}i!==o&&console.warn(`Multiplying ${n} x ${i} and ${o} x ${a} matrix: dimensions do not match.`);var h=Math.max(n,o),l=Math.max(i,a);function u(t,r,n,i){if(n<=512||i<=512)return t.mmul(r);n%2===1&&i%2===1?(t=s(t,n+1,i+1),r=s(r,n+1,i+1)):n%2===1?(t=s(t,n+1,i),r=s(r,n+1,i)):i%2===1&&(t=s(t,n,i+1),r=s(r,n,i+1));var o=parseInt(t.rows/2,10),a=parseInt(t.columns/2,10),h=t.subMatrix(0,o-1,0,a-1),l=r.subMatrix(0,o-1,0,a-1),c=t.subMatrix(0,o-1,a,t.columns-1),f=r.subMatrix(0,o-1,a,r.columns-1),d=t.subMatrix(o,t.rows-1,0,a-1),g=r.subMatrix(o,r.rows-1,0,a-1),p=t.subMatrix(o,t.rows-1,a,t.columns-1),m=r.subMatrix(o,r.rows-1,a,r.columns-1),w=u(e.add(h,p),e.add(l,m),o,a),y=u(e.add(d,p),l,o,a),b=u(h,e.sub(f,m),o,a),v=u(p,e.sub(g,l),o,a),x=u(e.add(h,c),m,o,a),_=u(e.sub(d,h),e.add(l,f),o,a),M=u(e.sub(c,p),e.add(g,m),o,a),k=e.add(w,v);k.sub(x),k.add(M);var A=e.add(b,x),E=e.add(y,v),S=e.sub(w,y);S.add(b),S.add(_);var T=e.zeros(2*k.rows,2*k.columns);return T=T.setSubMatrix(k,0,0),T=T.setSubMatrix(A,k.rows,0),T=T.setSubMatrix(E,0,k.columns),T=T.setSubMatrix(S,k.rows,k.columns),T.subMatrix(0,n-1,0,i-1)}return r=s(r,h,l),t=s(t,h,l),u(r,t,h,l)}scaleRows(t,e){if(t=void 0===t?0:t,e=void 0===e?1:e,t>=e)throw new RangeError("min should be strictly smaller than max");for(var r=this.constructor.empty(this.rows,this.columns),n=0;n<this.rows;n++){var i=u(this.getRow(n),{min:t,max:e});r.setRow(n,i)}return r}scaleColumns(t,e){if(t=void 0===t?0:t,e=void 0===e?1:e,t>=e)throw new RangeError("min should be strictly smaller than max");for(var r=this.constructor.empty(this.rows,this.columns),n=0;n<this.columns;n++){var i=u(this.getColumn(n),{min:t,max:e});r.setColumn(n,i)}return r}kroneckerProduct(t){t=this.constructor.checkMatrix(t);for(var e=this.rows,r=this.columns,n=t.rows,i=t.columns,o=new this.constructor[Symbol.species](e*n,r*i),a=0;a<e;a++)for(var s=0;s<r;s++)for(var h=0;h<n;h++)for(var l=0;l<i;l++)o[n*a+h][i*s+l]=this.get(a,s)*t.get(h,l);return o}transpose(){for(var t=new this.constructor[Symbol.species](this.columns,this.rows),e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t.set(r,e,this.get(e,r));return t}sortRows(t){void 0===t&&(t=r);for(var e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}sortColumns(t){void 0===t&&(t=r);for(var e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}subMatrix(t,e,r,n){_(this,t,e,r,n);for(var i=new this.constructor[Symbol.species](e-t+1,n-r+1),o=t;o<=e;o++)for(var a=r;a<=n;a++)i[o-t][a-r]=this.get(o,a);return i}subMatrixRow(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=this.columns-1),e>r||e<0||e>=this.columns||r<0||r>=this.columns)throw new RangeError("Argument out of range");for(var n=new this.constructor[Symbol.species](t.length,r-e+1),i=0;i<t.length;i++)for(var o=e;o<=r;o++){if(t[i]<0||t[i]>=this.rows)throw new RangeError("Row index out of range: "+t[i]);n.set(i,o-e,this.get(t[i],o))}return n}subMatrixColumn(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=this.rows-1),e>r||e<0||e>=this.rows||r<0||r>=this.rows)throw new RangeError("Argument out of range");for(var n=new this.constructor[Symbol.species](r-e+1,t.length),i=0;i<t.length;i++)for(var o=e;o<=r;o++){if(t[i]<0||t[i]>=this.columns)throw new RangeError("Column index out of range: "+t[i]);n.set(o-e,i,this.get(o,t[i]))}return n}setSubMatrix(t,e,r){t=this.constructor.checkMatrix(t);var n=e+t.rows-1,i=r+t.columns-1;_(this,e,n,r,i);for(var o=0;o<t.rows;o++)for(var a=0;a<t.columns;a++)this[e+o][r+a]=t.get(o,a);return this}selection(t,e){for(var r=b(this,t,e),n=new this.constructor[Symbol.species](t.length,e.length),i=0;i<r.row.length;i++)for(var o=r.row[i],a=0;a<r.column.length;a++){var s=r.column[a];n[i][a]=this.get(o,s)}return n}trace(){for(var t=Math.min(this.rows,this.columns),e=0,r=0;r<t;r++)e+=this.get(r,r);return e}transposeView(){return new T(this)}rowView(t){return p(this,t),new P(this,t)}columnView(t){return m(this,t),new B(this,t)}flipRowView(){return new O(this)}flipColumnView(){return new L(this)}subMatrixView(t,e,r,n){return new I(this,t,e,r,n)}selectionView(t,e){return new D(this,t,e)}rowSelectionView(t){return new C(this,t)}columnSelectionView(t){return new R(this,t)}det(){var t,e,r,n,i,o,a;if(this.isSquare())return 2===this.columns?(t=this.get(0,0),e=this.get(0,1),r=this.get(1,0),n=this.get(1,1),t*n-e*r):3===this.columns?(i=this.selectionView([1,2],[1,2]),o=this.selectionView([1,2],[0,2]),a=this.selectionView([1,2],[0,1]),t=this.get(0,0),e=this.get(0,1),r=this.get(0,2),t*i.det()-e*o.det()+r*a.det()):new c(this).determinant;throw Error("Determinant can only be calculated for a square matrix.")}pseudoInverse(t){void 0===t&&(t=Number.EPSILON);for(var e=new g(this,{autoTranspose:!0}),r=e.leftSingularVectors,n=e.rightSingularVectors,i=e.diagonal,o=0;o<i.length;o++)Math.abs(i[o])>t?i[o]=1/i[o]:i[o]=0;return i=this.constructor[Symbol.species].diag(i),n.mmul(i.mmul(r.transposeView()))}clone(){for(var t=new this.constructor[Symbol.species](this.rows,this.columns),e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t.set(e,r,this.get(e,r));return t}}function r(t,e){return t-e}e.prototype.klass="Matrix",e.random=e.rand,e.diagonal=e.diag,e.prototype.diagonal=e.prototype.diag,e.identity=e.eye,e.prototype.negate=e.prototype.neg,e.prototype.tensorProduct=e.prototype.kroneckerProduct,e.prototype.determinant=e.prototype.det;var n,i="\n(function %name%(value) {\n    if (typeof value === 'number') return this.%name%S(value);\n    return this.%name%M(value);\n})\n",o="\n(function %name%S(value) {\n    for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n            this.set(i, j, this.get(i, j) %op% value);\n        }\n    }\n    return this;\n})\n",a="\n(function %name%M(matrix) {\n    matrix = this.constructor.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n        this.columns !== matrix.columns) {\n        throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n            this.set(i, j, this.get(i, j) %op% matrix.get(i, j));\n        }\n    }\n    return this;\n})\n",s="\n(function %name%(matrix, value) {\n    var newMatrix = new this[Symbol.species](matrix);\n    return newMatrix.%name%(value);\n})\n",h="\n(function %name%() {\n    for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n            this.set(i, j, %method%(this.get(i, j)));\n        }\n    }\n    return this;\n})\n",l="\n(function %name%(matrix) {\n    var newMatrix = new this[Symbol.species](matrix);\n    return newMatrix.%name%();\n})\n",f="\n(function %name%(%args%) {\n    for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n            this.set(i, j, %method%(this.get(i, j), %args%));\n        }\n    }\n    return this;\n})\n",d="\n(function %name%(matrix, %args%) {\n    var newMatrix = new this[Symbol.species](matrix);\n    return newMatrix.%name%(%args%);\n})\n",v="\n(function %name%S(value) {\n    for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n            this.set(i, j, %method%(this.get(i, j), value));\n        }\n    }\n    return this;\n})\n",x="\n(function %name%M(matrix) {\n    matrix = this.constructor.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n        this.columns !== matrix.columns) {\n        throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n            this.set(i, j, %method%(this.get(i, j), matrix.get(i, j)));\n        }\n    }\n    return this;\n})\n",E="\n(function %name%(value) {\n    if (typeof value === 'number') return this.%name%S(value);\n    return this.%name%M(value);\n})\n",S=d,U=[["+","add"],["-","sub","subtract"],["*","mul","multiply"],["/","div","divide"],["%","mod","modulus"],["&","and"],["|","or"],["^","xor"],["<<","leftShift"],[">>","signPropagatingRightShift"],[">>>","rightShift","zeroFillRightShift"]],N=eval;for(var z of U){var F=N(it(i,{name:z[1],op:z[0]})),j=N(it(o,{name:z[1]+"S",op:z[0]})),Y=N(it(a,{name:z[1]+"M",op:z[0]})),V=N(it(s,{name:z[1]}));for(n=1;n<z.length;n++)e.prototype[z[n]]=F,e.prototype[z[n]+"S"]=j,e.prototype[z[n]+"M"]=Y,e[z[n]]=V}var X=[["~","not"]];for(var $ of(["abs","acos","acosh","asin","asinh","atan","atanh","cbrt","ceil","clz32","cos","cosh","exp","expm1","floor","fround","log","log1p","log10","log2","round","sign","sin","sinh","sqrt","tan","tanh","trunc"].forEach((function(t){X.push(["Math."+t,t])})),X)){var G=N(it(h,{name:$[1],method:$[0]})),H=N(it(l,{name:$[1]}));for(n=1;n<$.length;n++)e.prototype[$[n]]=G,e[$[n]]=H}var q=[["Math.pow",1,"pow"]];for(var W of q){var Z="arg0";for(n=1;n<W[1];n++)Z+=", arg"+n;if(1!==W[1]){var K=N(it(f,{name:W[2],method:W[0],args:Z})),J=N(it(d,{name:W[2],args:Z}));for(n=2;n<W.length;n++)e.prototype[W[n]]=K,e[W[n]]=J}else{var Q={name:W[2],args:Z,method:W[0]},tt=N(it(E,Q)),et=N(it(v,Q)),rt=N(it(x,Q)),nt=N(it(S,Q));for(n=2;n<W.length;n++)e.prototype[W[n]]=tt,e.prototype[W[n]+"M"]=rt,e.prototype[W[n]+"S"]=et,e[W[n]]=nt}}function it(t,e){for(var r in e)t=t.replace(new RegExp(`%${r}%`,"g"),e[r]);return t}return e}class N extends(U(Array)){constructor(t,e){var r;if(1===arguments.length&&"number"===typeof t)return new Array(t);if(N.isMatrix(t))return t.clone();if(Number.isInteger(t)&&t>0){if(super(t),!(Number.isInteger(e)&&e>0))throw new TypeError("nColumns must be a positive integer");for(r=0;r<t;r++)this[r]=new Array(e)}else{if(!Array.isArray(t))throw new TypeError("First argument must be a positive number or an array");{const n=t;if(t=n.length,e=n[0].length,"number"!==typeof e||0===e)throw new TypeError("Data must be a 2D array with at least one element");for(super(t),r=0;r<t;r++){if(n[r].length!==e)throw new RangeError("Inconsistent array dimensions");this[r]=[].concat(n[r])}}}return this.rows=t,this.columns=e,this}set(t,e,r){return this[t][e]=r,this}get(t,e){return this[t][e]}removeRow(t){if(p(this,t),1===this.rows)throw new RangeError("A matrix cannot have less than one row");return this.splice(t,1),this.rows-=1,this}addRow(t,e){return void 0===e&&(e=t,t=this.rows),p(this,t,!0),e=w(this,e,!0),this.splice(t,0,e),this.rows+=1,this}removeColumn(t){if(m(this,t),1===this.columns)throw new RangeError("A matrix cannot have less than one column");for(var e=0;e<this.rows;e++)this[e].splice(t,1);return this.columns-=1,this}addColumn(t,e){"undefined"===typeof e&&(e=t,t=this.columns),m(this,t,!0),e=y(this,e);for(var r=0;r<this.rows;r++)this[r].splice(t,0,e[r]);return this.columns+=1,this}}class z extends(U()){constructor(t,e={}){const{rows:r=1}=e;if(t.length%r!==0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=r,this.columns=t.length/r,this.data=t}set(t,e,r){var n=this._calculateIndex(t,e);return this.data[n]=r,this}get(t,e){var r=this._calculateIndex(t,e);return this.data[r]}_calculateIndex(t,e){return t*this.columns+e}static get[Symbol.species](){return N}}class F extends(U()){constructor(t){super(),this.data=t,this.rows=t.length,this.columns=t[0].length}set(t,e,r){return this.data[t][e]=r,this}get(t,e){return this.data[t][e]}static get[Symbol.species](){return N}}function j(t,e){if(Array.isArray(t))return t[0]&&Array.isArray(t[0])?new F(t):new z(t,e);throw new Error("the argument is not an array")}class Y{constructor(t){t=F.checkMatrix(t);var e,r,n,i,o=t.clone(),a=t.rows,s=t.columns,h=new Array(s);for(n=0;n<s;n++){var l=0;for(e=n;e<a;e++)l=f(l,o.get(e,n));if(0!==l){for(o.get(n,n)<0&&(l=-l),e=n;e<a;e++)o.set(e,n,o.get(e,n)/l);for(o.set(n,n,o.get(n,n)+1),r=n+1;r<s;r++){for(i=0,e=n;e<a;e++)i+=o.get(e,n)*o.get(e,r);for(i=-i/o.get(n,n),e=n;e<a;e++)o.set(e,r,o.get(e,r)+i*o.get(e,n))}}h[n]=-l}this.QR=o,this.Rdiag=h}solve(t){t=N.checkMatrix(t);var e=this.QR,r=e.rows;if(t.rows!==r)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");var n,i,o,a,s=t.columns,h=t.clone(),l=e.columns;for(o=0;o<l;o++)for(i=0;i<s;i++){for(a=0,n=o;n<r;n++)a+=e[n][o]*h[n][i];for(a=-a/e[o][o],n=o;n<r;n++)h[n][i]+=a*e[n][o]}for(o=l-1;o>=0;o--){for(i=0;i<s;i++)h[o][i]/=this.Rdiag[o];for(n=0;n<o;n++)for(i=0;i<s;i++)h[n][i]-=h[o][i]*e[n][o]}return h.subMatrix(0,l-1,0,s-1)}isFullRank(){for(var t=this.QR.columns,e=0;e<t;e++)if(0===this.Rdiag[e])return!1;return!0}get upperTriangularMatrix(){var t,e,r=this.QR,n=r.columns,i=new N(n,n);for(t=0;t<n;t++)for(e=0;e<n;e++)i[t][e]=t<e?r[t][e]:t===e?this.Rdiag[t]:0;return i}get orthogonalMatrix(){var t,e,r,n,i=this.QR,o=i.rows,a=i.columns,s=new N(o,a);for(r=a-1;r>=0;r--){for(t=0;t<o;t++)s[t][r]=0;for(s[r][r]=1,e=r;e<a;e++)if(0!==i[r][r]){for(n=0,t=r;t<o;t++)n+=i[t][r]*s[t][e];for(n=-n/i[r][r],t=r;t<o;t++)s[t][e]+=n*i[t][r]}}return s}}function V(t,e=!1){return t=F.checkMatrix(t),e?new g(t).inverse():X(t,N.eye(t.rows))}function X(t,e,r=!1){return t=F.checkMatrix(t),e=F.checkMatrix(e),r?new g(t).solve(e):t.isSquare()?new c(t).solve(e):new Y(t).solve(e)}function $(t,e){for(var r=[],n=0;n<t;n++)n!==e&&r.push(n);return r}function G(t,e,r,n=1e-9,i=1e-9){if(t>i)return new Array(e.rows+1).fill(0);for(var o=e.addRow(r,[0]),a=0;a<o.rows;a++)Math.abs(o.get(a,0))<n&&o.set(a,0,0);return o.to1DArray()}function H(t,e={}){const{thresholdValue:r=1e-9,thresholdError:n=1e-9}=e;for(var i=t.rows,o=new N(i,i),s=0;s<i;s++){var h=N.columnVector(t.getRow(s)),l=t.subMatrixRow($(i,s)).transposeView(),u=new g(l),c=u.solve(h),f=a(N.sub(h,l.mmul(c)).abs().to1DArray());o.setRow(s,G(f,c,s,r,n))}return o}class q{constructor(t,e={}){const{assumeSymmetric:r=!1}=e;if(t=F.checkMatrix(t),!t.isSquare())throw new Error("Matrix is not a square matrix");var n,i,o=t.columns,a=d(o,o,0),s=new Array(o),h=new Array(o),l=t,u=!1;if(u=!!r||t.isSymmetric(),u){for(n=0;n<o;n++)for(i=0;i<o;i++)a[n][i]=l.get(n,i);W(o,h,s,a),Z(o,h,s,a)}else{var c=d(o,o,0),f=new Array(o);for(i=0;i<o;i++)for(n=0;n<o;n++)c[n][i]=l.get(n,i);K(o,c,f,a),J(o,h,s,a,c)}this.n=o,this.e=h,this.d=s,this.V=a}get realEigenvalues(){return this.d}get imaginaryEigenvalues(){return this.e}get eigenvectorMatrix(){return N.isMatrix(this.V)||(this.V=new N(this.V)),this.V}get diagonalMatrix(){var t,e,r=this.n,n=this.e,i=this.d,o=new N(r,r);for(t=0;t<r;t++){for(e=0;e<r;e++)o[t][e]=0;o[t][t]=i[t],n[t]>0?o[t][t+1]=n[t]:n[t]<0&&(o[t][t-1]=n[t])}return o}}function W(t,e,r,n){var i,o,a,s,h,l,u,c;for(h=0;h<t;h++)r[h]=n[t-1][h];for(s=t-1;s>0;s--){for(c=0,a=0,l=0;l<s;l++)c+=Math.abs(r[l]);if(0===c)for(e[s]=r[s-1],h=0;h<s;h++)r[h]=n[s-1][h],n[s][h]=0,n[h][s]=0;else{for(l=0;l<s;l++)r[l]/=c,a+=r[l]*r[l];for(i=r[s-1],o=Math.sqrt(a),i>0&&(o=-o),e[s]=c*o,a-=i*o,r[s-1]=i-o,h=0;h<s;h++)e[h]=0;for(h=0;h<s;h++){for(i=r[h],n[h][s]=i,o=e[h]+n[h][h]*i,l=h+1;l<=s-1;l++)o+=n[l][h]*r[l],e[l]+=n[l][h]*i;e[h]=o}for(i=0,h=0;h<s;h++)e[h]/=a,i+=e[h]*r[h];for(u=i/(a+a),h=0;h<s;h++)e[h]-=u*r[h];for(h=0;h<s;h++){for(i=r[h],o=e[h],l=h;l<=s-1;l++)n[l][h]-=i*e[l]+o*r[l];r[h]=n[s-1][h],n[s][h]=0}}r[s]=a}for(s=0;s<t-1;s++){if(n[t-1][s]=n[s][s],n[s][s]=1,a=r[s+1],0!==a){for(l=0;l<=s;l++)r[l]=n[l][s+1]/a;for(h=0;h<=s;h++){for(o=0,l=0;l<=s;l++)o+=n[l][s+1]*n[l][h];for(l=0;l<=s;l++)n[l][h]-=o*r[l]}}for(l=0;l<=s;l++)n[l][s+1]=0}for(h=0;h<t;h++)r[h]=n[t-1][h],n[t-1][h]=0;n[t-1][t-1]=1,e[0]=0}function Z(t,e,r,n){var i,o,a,s,h,l,u,c,d,g,p,m,w,y,b,v;for(a=1;a<t;a++)e[a-1]=e[a];e[t-1]=0;var x=0,_=0,M=Number.EPSILON;for(l=0;l<t;l++){_=Math.max(_,Math.abs(r[l])+Math.abs(e[l])),u=l;while(u<t){if(Math.abs(e[u])<=M*_)break;u++}if(u>l){0;do{for(1,i=r[l],c=(r[l+1]-i)/(2*e[l]),d=f(c,1),c<0&&(d=-d),r[l]=e[l]/(c+d),r[l+1]=e[l]*(c+d),g=r[l+1],o=i-r[l],a=l+2;a<t;a++)r[a]-=o;for(x+=o,c=r[u],p=1,m=p,w=p,y=e[l+1],b=0,v=0,a=u-1;a>=l;a--)for(w=m,m=p,v=b,i=p*e[a],o=p*c,d=f(c,e[a]),e[a+1]=b*d,b=e[a]/d,p=c/d,c=p*r[a]-b*i,r[a+1]=o+b*(p*i+b*r[a]),h=0;h<t;h++)o=n[h][a+1],n[h][a+1]=b*n[h][a]+p*o,n[h][a]=p*n[h][a]-b*o;c=-b*v*w*y*e[l]/g,e[l]=b*c,r[l]=p*c}while(Math.abs(e[l])>M*_)}r[l]=r[l]+x,e[l]=0}for(a=0;a<t-1;a++){for(h=a,c=r[a],s=a+1;s<t;s++)r[s]<c&&(h=s,c=r[s]);if(h!==a)for(r[h]=r[a],r[a]=c,s=0;s<t;s++)c=n[s][a],n[s][a]=n[s][h],n[s][h]=c}}function K(t,e,r,n){var i,o,a,s,h,l,u,c=0,f=t-1;for(l=c+1;l<=f-1;l++){for(u=0,s=l;s<=f;s++)u+=Math.abs(e[s][l-1]);if(0!==u){for(a=0,s=f;s>=l;s--)r[s]=e[s][l-1]/u,a+=r[s]*r[s];for(o=Math.sqrt(a),r[l]>0&&(o=-o),a-=r[l]*o,r[l]=r[l]-o,h=l;h<t;h++){for(i=0,s=f;s>=l;s--)i+=r[s]*e[s][h];for(i/=a,s=l;s<=f;s++)e[s][h]-=i*r[s]}for(s=0;s<=f;s++){for(i=0,h=f;h>=l;h--)i+=r[h]*e[s][h];for(i/=a,h=l;h<=f;h++)e[s][h]-=i*r[h]}r[l]=u*r[l],e[l][l-1]=u*o}}for(s=0;s<t;s++)for(h=0;h<t;h++)n[s][h]=s===h?1:0;for(l=f-1;l>=c+1;l--)if(0!==e[l][l-1]){for(s=l+1;s<=f;s++)r[s]=e[s][l-1];for(h=l;h<=f;h++){for(o=0,s=l;s<=f;s++)o+=r[s]*n[s][h];for(o=o/r[l]/e[l][l-1],s=l;s<=f;s++)n[s][h]+=o*r[s]}}}function J(t,e,r,n,i){var o,a,s,h,l,u,c,f,d,g,p,m,w,y,b,v=t-1,x=0,_=t-1,M=Number.EPSILON,k=0,A=0,E=0,S=0,T=0,P=0,I=0,D=0;for(o=0;o<t;o++)for((o<x||o>_)&&(r[o]=i[o][o],e[o]=0),a=Math.max(o-1,0);a<t;a++)A+=Math.abs(i[o][a]);while(v>=x){h=v;while(h>x){if(P=Math.abs(i[h-1][h-1])+Math.abs(i[h][h]),0===P&&(P=A),Math.abs(i[h][h-1])<M*P)break;h--}if(h===v)i[v][v]=i[v][v]+k,r[v]=i[v][v],e[v]=0,v--,D=0;else if(h===v-1){if(c=i[v][v-1]*i[v-1][v],E=(i[v-1][v-1]-i[v][v])/2,S=E*E+c,I=Math.sqrt(Math.abs(S)),i[v][v]=i[v][v]+k,i[v-1][v-1]=i[v-1][v-1]+k,f=i[v][v],S>=0){for(I=E>=0?E+I:E-I,r[v-1]=f+I,r[v]=r[v-1],0!==I&&(r[v]=f-c/I),e[v-1]=0,e[v]=0,f=i[v][v-1],P=Math.abs(f)+Math.abs(I),E=f/P,S=I/P,T=Math.sqrt(E*E+S*S),E/=T,S/=T,a=v-1;a<t;a++)I=i[v-1][a],i[v-1][a]=S*I+E*i[v][a],i[v][a]=S*i[v][a]-E*I;for(o=0;o<=v;o++)I=i[o][v-1],i[o][v-1]=S*I+E*i[o][v],i[o][v]=S*i[o][v]-E*I;for(o=x;o<=_;o++)I=n[o][v-1],n[o][v-1]=S*I+E*n[o][v],n[o][v]=S*n[o][v]-E*I}else r[v-1]=f+E,r[v]=f+E,e[v-1]=I,e[v]=-I;v-=2,D=0}else{if(f=i[v][v],d=0,c=0,h<v&&(d=i[v-1][v-1],c=i[v][v-1]*i[v-1][v]),10===D){for(k+=f,o=x;o<=v;o++)i[o][o]-=f;P=Math.abs(i[v][v-1])+Math.abs(i[v-1][v-2]),f=d=.75*P,c=-.4375*P*P}if(30===D&&(P=(d-f)/2,P=P*P+c,P>0)){for(P=Math.sqrt(P),d<f&&(P=-P),P=f-c/((d-f)/2+P),o=x;o<=v;o++)i[o][o]-=P;k+=P,f=d=c=.964}D+=1,l=v-2;while(l>=h){if(I=i[l][l],T=f-I,P=d-I,E=(T*P-c)/i[l+1][l]+i[l][l+1],S=i[l+1][l+1]-I-T-P,T=i[l+2][l+1],P=Math.abs(E)+Math.abs(S)+Math.abs(T),E/=P,S/=P,T/=P,l===h)break;if(Math.abs(i[l][l-1])*(Math.abs(S)+Math.abs(T))<M*(Math.abs(E)*(Math.abs(i[l-1][l-1])+Math.abs(I)+Math.abs(i[l+1][l+1]))))break;l--}for(o=l+2;o<=v;o++)i[o][o-2]=0,o>l+2&&(i[o][o-3]=0);for(s=l;s<=v-1;s++){if(y=s!==v-1,s!==l&&(E=i[s][s-1],S=i[s+1][s-1],T=y?i[s+2][s-1]:0,f=Math.abs(E)+Math.abs(S)+Math.abs(T),0!==f&&(E/=f,S/=f,T/=f)),0===f)break;if(P=Math.sqrt(E*E+S*S+T*T),E<0&&(P=-P),0!==P){for(s!==l?i[s][s-1]=-P*f:h!==l&&(i[s][s-1]=-i[s][s-1]),E+=P,f=E/P,d=S/P,I=T/P,S/=E,T/=E,a=s;a<t;a++)E=i[s][a]+S*i[s+1][a],y&&(E+=T*i[s+2][a],i[s+2][a]=i[s+2][a]-E*I),i[s][a]=i[s][a]-E*f,i[s+1][a]=i[s+1][a]-E*d;for(o=0;o<=Math.min(v,s+3);o++)E=f*i[o][s]+d*i[o][s+1],y&&(E+=I*i[o][s+2],i[o][s+2]=i[o][s+2]-E*T),i[o][s]=i[o][s]-E,i[o][s+1]=i[o][s+1]-E*S;for(o=x;o<=_;o++)E=f*n[o][s]+d*n[o][s+1],y&&(E+=I*n[o][s+2],n[o][s+2]=n[o][s+2]-E*T),n[o][s]=n[o][s]-E,n[o][s+1]=n[o][s+1]-E*S}}}}if(0!==A){for(v=t-1;v>=0;v--)if(E=r[v],S=e[v],0===S)for(h=v,i[v][v]=1,o=v-1;o>=0;o--){for(c=i[o][o]-E,T=0,a=h;a<=v;a++)T+=i[o][a]*i[a][v];if(e[o]<0)I=c,P=T;else if(h=o,0===e[o]?i[o][v]=0!==c?-T/c:-T/(M*A):(f=i[o][o+1],d=i[o+1][o],S=(r[o]-E)*(r[o]-E)+e[o]*e[o],u=(f*P-I*T)/S,i[o][v]=u,i[o+1][v]=Math.abs(f)>Math.abs(I)?(-T-c*u)/f:(-P-d*u)/I),u=Math.abs(i[o][v]),M*u*u>1)for(a=o;a<=v;a++)i[a][v]=i[a][v]/u}else if(S<0)for(h=v-1,Math.abs(i[v][v-1])>Math.abs(i[v-1][v])?(i[v-1][v-1]=S/i[v][v-1],i[v-1][v]=-(i[v][v]-E)/i[v][v-1]):(b=Q(0,-i[v-1][v],i[v-1][v-1]-E,S),i[v-1][v-1]=b[0],i[v-1][v]=b[1]),i[v][v-1]=0,i[v][v]=1,o=v-2;o>=0;o--){for(g=0,p=0,a=h;a<=v;a++)g+=i[o][a]*i[a][v-1],p+=i[o][a]*i[a][v];if(c=i[o][o]-E,e[o]<0)I=c,T=g,P=p;else if(h=o,0===e[o]?(b=Q(-g,-p,c,S),i[o][v-1]=b[0],i[o][v]=b[1]):(f=i[o][o+1],d=i[o+1][o],m=(r[o]-E)*(r[o]-E)+e[o]*e[o]-S*S,w=2*(r[o]-E)*S,0===m&&0===w&&(m=M*A*(Math.abs(c)+Math.abs(S)+Math.abs(f)+Math.abs(d)+Math.abs(I))),b=Q(f*T-I*g+S*p,f*P-I*p-S*g,m,w),i[o][v-1]=b[0],i[o][v]=b[1],Math.abs(f)>Math.abs(I)+Math.abs(S)?(i[o+1][v-1]=(-g-c*i[o][v-1]+S*i[o][v])/f,i[o+1][v]=(-p-c*i[o][v]-S*i[o][v-1])/f):(b=Q(-T-d*i[o][v-1],-P-d*i[o][v],I,S),i[o+1][v-1]=b[0],i[o+1][v]=b[1])),u=Math.max(Math.abs(i[o][v-1]),Math.abs(i[o][v])),M*u*u>1)for(a=o;a<=v;a++)i[a][v-1]=i[a][v-1]/u,i[a][v]=i[a][v]/u}for(o=0;o<t;o++)if(o<x||o>_)for(a=o;a<t;a++)n[o][a]=i[o][a];for(a=t-1;a>=x;a--)for(o=x;o<=_;o++){for(I=0,s=x;s<=Math.min(a,_);s++)I+=n[o][s]*i[s][a];n[o][a]=I}}}function Q(t,e,r,n){var i,o;return Math.abs(r)>Math.abs(n)?(i=n/r,o=r+i*n,[(t+i*e)/o,(e-i*t)/o]):(i=r/n,o=n+i*r,[(i*t+e)/o,(i*e-t)/o])}class tt{constructor(t){if(t=F.checkMatrix(t),!t.isSymmetric())throw new Error("Matrix is not symmetric");var e,r,n,i=t,o=i.rows,a=new N(o,o),s=!0;for(r=0;r<o;r++){var h=a[r],l=0;for(n=0;n<r;n++){var u=a[n],c=0;for(e=0;e<n;e++)c+=u[e]*h[e];h[n]=c=(i.get(r,n)-c)/a[n][n],l+=c*c}for(l=i.get(r,r)-l,s&=l>0,a[r][r]=Math.sqrt(Math.max(l,0)),n=r+1;n<o;n++)a[r][n]=0}if(!s)throw new Error("Matrix is not positive definite");this.L=a}solve(t){t=F.checkMatrix(t);var e=this.L,r=e.rows;if(t.rows!==r)throw new Error("Matrix dimensions do not match");var n,i,o,a=t.columns,s=t.clone();for(o=0;o<r;o++)for(i=0;i<a;i++){for(n=0;n<o;n++)s[o][i]-=s[n][i]*e[o][n];s[o][i]/=e[o][o]}for(o=r-1;o>=0;o--)for(i=0;i<a;i++){for(n=o+1;n<r;n++)s[o][i]-=s[n][i]*e[n][o];s[o][i]/=e[o][o]}return s}get lowerTriangularMatrix(){return this.L}}},b4ec:function(t,e,r){var n=r("a1d9");t.exports=Number.isInteger||function(t){return"number"===typeof t&&n(t)&&Math.floor(t)===t}},b622:function(t,e,r){var n=r("da84"),i=r("5692"),o=r("5135"),a=r("90e3"),s=r("4930"),h=r("fdbf"),l=i("wks"),u=n.Symbol,c=h?u:u&&u.withoutSetter||a;t.exports=function(t){return o(l,t)||(s&&o(u,t)?l[t]=u[t]:l[t]=c("Symbol."+t)),l[t]}},b639:function(t,e,r){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=r("1fb5"),i=r("9152"),o=r("e3db");function a(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}function s(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function h(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=l.prototype):(null===t&&(t=new l(e)),t.length=e),t}function l(t,e,r){if(!l.TYPED_ARRAY_SUPPORT&&!(this instanceof l))return new l(t,e,r);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return d(this,t)}return u(this,t,e,r)}function u(t,e,r,n){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?m(t,e,r,n):"string"===typeof e?g(t,e,r):w(t,e)}function c(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,e,r,n){return c(e),e<=0?h(t,e):void 0!==r?"string"===typeof n?h(t,e).fill(r,n):h(t,e).fill(r):h(t,e)}function d(t,e){if(c(e),t=h(t,e<0?0:0|y(e)),!l.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function g(t,e,r){if("string"===typeof r&&""!==r||(r="utf8"),!l.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|v(e,r);t=h(t,n);var i=t.write(e,r);return i!==n&&(t=t.slice(0,i)),t}function p(t,e){var r=e.length<0?0:0|y(e.length);t=h(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function m(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n),l.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=l.prototype):t=p(t,e),t}function w(t,e){if(l.isBuffer(e)){var r=0|y(e.length);return t=h(t,r),0===t.length?t:(e.copy(t,0,0,r),t)}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||et(e.length)?h(t,0):p(t,e);if("Buffer"===e.type&&o(e.data))return p(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function y(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function b(t){return+t!=t&&(t=0),l.alloc(+t)}function v(t,e){if(l.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return Z(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Q(t).length;default:if(n)return Z(t).length;e=(""+e).toLowerCase(),n=!0}}function x(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,e>>>=0,r<=e)return"";t||(t="utf8");while(1)switch(t){case"hex":return U(this,e,r);case"utf8":case"utf-8":return C(this,e,r);case"ascii":return O(this,e,r);case"latin1":case"binary":return L(this,e,r);case"base64":return D(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function _(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function M(t,e,r,n,i){if(0===t.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"===typeof e&&(e=l.from(e,n)),l.isBuffer(e))return 0===e.length?-1:k(t,e,r,n,i);if("number"===typeof e)return e&=255,l.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):k(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function k(t,e,r,n,i){var o,a=1,s=t.length,h=e.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,s/=2,h/=2,r/=2}function l(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var u=-1;for(o=r;o<s;o++)if(l(t,o)===l(e,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===h)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(r+h>s&&(r=s-h),o=r;o>=0;o--){for(var c=!0,f=0;f<h;f++)if(l(t,o+f)!==l(e,f)){c=!1;break}if(c)return o}return-1}function A(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[r+a]=s}return a}function E(t,e,r,n){return tt(Z(e,t.length-r),t,r,n)}function S(t,e,r,n){return tt(K(e),t,r,n)}function T(t,e,r,n){return S(t,e,r,n)}function P(t,e,r,n){return tt(Q(e),t,r,n)}function I(t,e,r,n){return tt(J(e,t.length-r),t,r,n)}function D(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function C(t,e,r){r=Math.min(t.length,r);var n=[],i=e;while(i<r){var o,a,s,h,l=t[i],u=null,c=l>239?4:l>223?3:l>191?2:1;if(i+c<=r)switch(c){case 1:l<128&&(u=l);break;case 2:o=t[i+1],128===(192&o)&&(h=(31&l)<<6|63&o,h>127&&(u=h));break;case 3:o=t[i+1],a=t[i+2],128===(192&o)&&128===(192&a)&&(h=(15&l)<<12|(63&o)<<6|63&a,h>2047&&(h<55296||h>57343)&&(u=h));break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(h=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s,h>65535&&h<1114112&&(u=h))}null===u?(u=65533,c=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),i+=c}return B(n)}e.Buffer=l,e.SlowBuffer=b,e.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:a(),e.kMaxLength=s(),l.poolSize=8192,l._augment=function(t){return t.__proto__=l.prototype,t},l.from=function(t,e,r){return u(null,t,e,r)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(t,e,r){return f(null,t,e,r)},l.allocUnsafe=function(t){return d(null,t)},l.allocUnsafeSlow=function(t){return d(null,t)},l.isBuffer=function(t){return!(null==t||!t._isBuffer)},l.compare=function(t,e){if(!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=l.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var a=t[r];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},l.byteLength=v,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)_(this,e,e+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)_(this,e,e+3),_(this,e+1,e+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)_(this,e,e+7),_(this,e+1,e+6),_(this,e+2,e+5),_(this,e+3,e+4);return this},l.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?C(this,0,t):x.apply(this,arguments)},l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},l.prototype.compare=function(t,e,r,n,i){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,i>>>=0,this===t)return 0;for(var o=i-n,a=r-e,s=Math.min(o,a),h=this.slice(n,i),u=t.slice(e,r),c=0;c<s;++c)if(h[c]!==u[c]){o=h[c],a=u[c];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},l.prototype.indexOf=function(t,e,r){return M(this,t,e,r,!0)},l.prototype.lastIndexOf=function(t,e,r){return M(this,t,e,r,!1)},l.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"===typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return A(this,t,e,r);case"utf8":case"utf-8":return E(this,t,e,r);case"ascii":return S(this,t,e,r);case"latin1":case"binary":return T(this,t,e,r);case"base64":return P(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;function B(t){var e=t.length;if(e<=R)return String.fromCharCode.apply(String,t);var r="",n=0;while(n<e)r+=String.fromCharCode.apply(String,t.slice(n,n+=R));return r}function O(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function L(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function U(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=W(t[o]);return i}function N(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function z(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function F(t,e,r,n,i,o){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function j(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function Y(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function V(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function X(t,e,r,n,o){return o||V(t,e,r,4,34028234663852886e22,-34028234663852886e22),i.write(t,e,r,n,23,4),r+4}function $(t,e,r,n,o){return o||V(t,e,r,8,17976931348623157e292,-17976931348623157e292),i.write(t,e,r,n,52,8),r+8}l.prototype.slice=function(t,e){var r,n=this.length;if(t=~~t,e=void 0===e?n:~~e,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),e<t&&(e=t),l.TYPED_ARRAY_SUPPORT)r=this.subarray(t,e),r.__proto__=l.prototype;else{var i=e-t;r=new l(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+t]}return r},l.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||z(t,e,this.length);var n=this[t],i=1,o=0;while(++o<e&&(i*=256))n+=this[t+o]*i;return n},l.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||z(t,e,this.length);var n=this[t+--e],i=1;while(e>0&&(i*=256))n+=this[t+--e]*i;return n},l.prototype.readUInt8=function(t,e){return e||z(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,e){return e||z(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,e){return e||z(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,e){return e||z(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,e){return e||z(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||z(t,e,this.length);var n=this[t],i=1,o=0;while(++o<e&&(i*=256))n+=this[t+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},l.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||z(t,e,this.length);var n=e,i=1,o=this[t+--n];while(n>0&&(i*=256))o+=this[t+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},l.prototype.readInt8=function(t,e){return e||z(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){e||z(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt16BE=function(t,e){e||z(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt32LE=function(t,e){return e||z(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return e||z(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,e){return e||z(t,4,this.length),i.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return e||z(t,4,this.length),i.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return e||z(t,8,this.length),i.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return e||z(t,8,this.length),i.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,e,r,n){if(t=+t,e|=0,r|=0,!n){var i=Math.pow(2,8*r)-1;F(this,t,e,r,i,0)}var o=1,a=0;this[e]=255&t;while(++a<r&&(o*=256))this[e+a]=t/o&255;return e+r},l.prototype.writeUIntBE=function(t,e,r,n){if(t=+t,e|=0,r|=0,!n){var i=Math.pow(2,8*r)-1;F(this,t,e,r,i,0)}var o=r-1,a=1;this[e+o]=255&t;while(--o>=0&&(a*=256))this[e+o]=t/a&255;return e+r},l.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,1,255,0),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},l.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):j(this,t,e,!0),e+2},l.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):j(this,t,e,!1),e+2},l.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):Y(this,t,e,!0),e+4},l.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):Y(this,t,e,!1),e+4},l.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);F(this,t,e,r,i-1,-i)}var o=0,a=1,s=0;this[e]=255&t;while(++o<r&&(a*=256))t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+r},l.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);F(this,t,e,r,i-1,-i)}var o=r-1,a=1,s=0;this[e+o]=255&t;while(--o>=0&&(a*=256))t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+r},l.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,1,127,-128),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):j(this,t,e,!0),e+2},l.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):j(this,t,e,!1),e+2},l.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):Y(this,t,e,!0),e+4},l.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):Y(this,t,e,!1),e+4},l.prototype.writeFloatLE=function(t,e,r){return X(this,t,e,!0,r)},l.prototype.writeFloatBE=function(t,e,r){return X(this,t,e,!1,r)},l.prototype.writeDoubleLE=function(t,e,r){return $(this,t,e,!0,r)},l.prototype.writeDoubleBE=function(t,e,r){return $(this,t,e,!1,r)},l.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,o=n-r;if(this===t&&r<e&&e<n)for(i=o-1;i>=0;--i)t[i+e]=this[i+r];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),e);return o},l.prototype.fill=function(t,e,r,n){if("string"===typeof t){if("string"===typeof e?(n=e,e=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"===typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"===typeof t)for(o=e;o<r;++o)this[o]=t;else{var a=l.isBuffer(t)?t:Z(new l(t,n).toString()),s=a.length;for(o=0;o<r-e;++o)this[o+e]=a[o%s]}return this};var G=/[^+\/0-9A-Za-z-_]/g;function H(t){if(t=q(t).replace(G,""),t.length<2)return"";while(t.length%4!==0)t+="=";return t}function q(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function W(t){return t<16?"0"+t.toString(16):t.toString(16)}function Z(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],a=0;a<n;++a){if(r=t.charCodeAt(a),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function K(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}function J(t,e){for(var r,n,i,o=[],a=0;a<t.length;++a){if((e-=2)<0)break;r=t.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n)}return o}function Q(t){return n.toByteArray(H(t))}function tt(t,e,r,n){for(var i=0;i<n;++i){if(i+r>=e.length||i>=t.length)break;e[i+r]=t[i]}return i}function et(t){return t!==t}}).call(this,r("c8ba"))},b64b:function(t,e,r){var n=r("23e7"),i=r("7b0b"),o=r("df75"),a=r("d039"),s=a((function(){o(1)}));n({target:"Object",stat:!0,forced:s},{keys:function(t){return o(i(t))}})},b727:function(t,e,r){var n=r("0366"),i=r("44ad"),o=r("7b0b"),a=r("50c4"),s=r("65f0"),h=[].push,l=function(t){var e=1==t,r=2==t,l=3==t,u=4==t,c=6==t,f=5==t||c;return function(d,g,p,m){for(var w,y,b=o(d),v=i(b),x=n(g,p,3),_=a(v.length),M=0,k=m||s,A=e?k(d,_):r?k(d,0):void 0;_>M;M++)if((f||M in v)&&(w=v[M],y=x(w,M,b),t))if(e)A[M]=y;else if(y)switch(t){case 3:return!0;case 5:return w;case 6:return M;case 2:h.call(A,w)}else if(u)return!1;return c?-1:l||u?u:A}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},ba72:function(t,e,r){"use strict";function n(t){if(this.size=0|t,this.size<=1||0!==(this.size&this.size-1))throw new Error("FFT size must be a power of two and bigger than 1");this._csize=t<<1;for(var e=new Array(2*this.size),r=0;r<e.length;r+=2){const t=Math.PI*r/this.size;e[r]=Math.cos(t),e[r+1]=-Math.sin(t)}this.table=e;for(var n=0,i=1;this.size>i;i<<=1)n++;this._width=n%2===0?n-1:n,this._bitrev=new Array(1<<this._width);for(var o=0;o<this._bitrev.length;o++){this._bitrev[o]=0;for(var a=0;a<this._width;a+=2){var s=this._width-a-2;this._bitrev[o]|=(o>>>a&3)<<s}}this._out=null,this._data=null,this._inv=0}t.exports=n,n.prototype.fromComplexArray=function(t,e){for(var r=e||new Array(t.length>>>1),n=0;n<t.length;n+=2)r[n>>>1]=t[n];return r},n.prototype.createComplexArray=function(){const t=new Array(this._csize);for(var e=0;e<t.length;e++)t[e]=0;return t},n.prototype.toComplexArray=function(t,e){for(var r=e||this.createComplexArray(),n=0;n<r.length;n+=2)r[n]=t[n>>>1],r[n+1]=0;return r},n.prototype.completeSpectrum=function(t){for(var e=this._csize,r=e>>>1,n=2;n<r;n+=2)t[e-n]=t[n],t[e-n+1]=-t[n+1]},n.prototype.transform=function(t,e){if(t===e)throw new Error("Input and output buffers must be different");this._out=t,this._data=e,this._inv=0,this._transform4(),this._out=null,this._data=null},n.prototype.realTransform=function(t,e){if(t===e)throw new Error("Input and output buffers must be different");this._out=t,this._data=e,this._inv=0,this._realTransform4(),this._out=null,this._data=null},n.prototype.inverseTransform=function(t,e){if(t===e)throw new Error("Input and output buffers must be different");this._out=t,this._data=e,this._inv=1,this._transform4();for(var r=0;r<t.length;r++)t[r]/=this.size;this._out=null,this._data=null},n.prototype._transform4=function(){var t,e,r=this._out,n=this._csize,i=this._width,o=1<<i,a=n/o<<1,s=this._bitrev;if(4===a)for(t=0,e=0;t<n;t+=a,e++){const r=s[e];this._singleTransform2(t,r,o)}else for(t=0,e=0;t<n;t+=a,e++){const r=s[e];this._singleTransform4(t,r,o)}var h=this._inv?-1:1,l=this.table;for(o>>=2;o>=2;o>>=2){a=n/o<<1;var u=a>>>2;for(t=0;t<n;t+=a)for(var c=t+u,f=t,d=0;f<c;f+=2,d+=o){const t=f,e=t+u,n=e+u,i=n+u,o=r[t],a=r[t+1],s=r[e],c=r[e+1],g=r[n],p=r[n+1],m=r[i],w=r[i+1],y=o,b=a,v=l[d],x=h*l[d+1],_=s*v-c*x,M=s*x+c*v,k=l[2*d],A=h*l[2*d+1],E=g*k-p*A,S=g*A+p*k,T=l[3*d],P=h*l[3*d+1],I=m*T-w*P,D=m*P+w*T,C=y+E,R=b+S,B=y-E,O=b-S,L=_+I,U=M+D,N=h*(_-I),z=h*(M-D),F=C+L,j=R+U,Y=C-L,V=R-U,X=B+z,$=O-N,G=B-z,H=O+N;r[t]=F,r[t+1]=j,r[e]=X,r[e+1]=$,r[n]=Y,r[n+1]=V,r[i]=G,r[i+1]=H}}},n.prototype._singleTransform2=function(t,e,r){const n=this._out,i=this._data,o=i[e],a=i[e+1],s=i[e+r],h=i[e+r+1],l=o+s,u=a+h,c=o-s,f=a-h;n[t]=l,n[t+1]=u,n[t+2]=c,n[t+3]=f},n.prototype._singleTransform4=function(t,e,r){const n=this._out,i=this._data,o=this._inv?-1:1,a=2*r,s=3*r,h=i[e],l=i[e+1],u=i[e+r],c=i[e+r+1],f=i[e+a],d=i[e+a+1],g=i[e+s],p=i[e+s+1],m=h+f,w=l+d,y=h-f,b=l-d,v=u+g,x=c+p,_=o*(u-g),M=o*(c-p),k=m+v,A=w+x,E=y+M,S=b-_,T=m-v,P=w-x,I=y-M,D=b+_;n[t]=k,n[t+1]=A,n[t+2]=E,n[t+3]=S,n[t+4]=T,n[t+5]=P,n[t+6]=I,n[t+7]=D},n.prototype._realTransform4=function(){var t,e,r=this._out,n=this._csize,i=this._width,o=1<<i,a=n/o<<1,s=this._bitrev;if(4===a)for(t=0,e=0;t<n;t+=a,e++){const r=s[e];this._singleRealTransform2(t,r>>>1,o>>>1)}else for(t=0,e=0;t<n;t+=a,e++){const r=s[e];this._singleRealTransform4(t,r>>>1,o>>>1)}var h=this._inv?-1:1,l=this.table;for(o>>=2;o>=2;o>>=2){a=n/o<<1;var u=a>>>1,c=u>>>1,f=c>>>1;for(t=0;t<n;t+=a)for(var d=0,g=0;d<=f;d+=2,g+=o){var p=t+d,m=p+c,w=m+c,y=w+c,b=r[p],v=r[p+1],x=r[m],_=r[m+1],M=r[w],k=r[w+1],A=r[y],E=r[y+1],S=b,T=v,P=l[g],I=h*l[g+1],D=x*P-_*I,C=x*I+_*P,R=l[2*g],B=h*l[2*g+1],O=M*R-k*B,L=M*B+k*R,U=l[3*g],N=h*l[3*g+1],z=A*U-E*N,F=A*N+E*U,j=S+O,Y=T+L,V=S-O,X=T-L,$=D+z,G=C+F,H=h*(D-z),q=h*(C-F),W=j+$,Z=Y+G,K=V+q,J=X-H;if(r[p]=W,r[p+1]=Z,r[m]=K,r[m+1]=J,0!==d){if(d!==f){var Q=V,tt=-X,et=j,rt=-Y,nt=-h*q,it=-h*H,ot=-h*G,at=-h*$,st=Q+nt,ht=tt+it,lt=et+at,ut=rt-ot,ct=t+c-d,ft=t+u-d;r[ct]=st,r[ct+1]=ht,r[ft]=lt,r[ft+1]=ut}}else{var dt=j-$,gt=Y-G;r[w]=dt,r[w+1]=gt}}}},n.prototype._singleRealTransform2=function(t,e,r){const n=this._out,i=this._data,o=i[e],a=i[e+r],s=o+a,h=o-a;n[t]=s,n[t+1]=0,n[t+2]=h,n[t+3]=0},n.prototype._singleRealTransform4=function(t,e,r){const n=this._out,i=this._data,o=this._inv?-1:1,a=2*r,s=3*r,h=i[e],l=i[e+r],u=i[e+a],c=i[e+s],f=h+u,d=h-u,g=l+c,p=o*(l-c),m=f+g,w=d,y=-p,b=f-g,v=d,x=p;n[t]=m,n[t+1]=0,n[t+2]=w,n[t+3]=y,n[t+4]=b,n[t+5]=0,n[t+6]=v,n[t+7]=x}},bb2f:function(t,e,r){var n=r("d039");t.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},bd5a:function(t,e,r){"use strict";class n{compute(t,e){for(var r=Math.min(t.length,e.length),n=0,i=0;i<r;++i)n+=Math.min(t[i],e[i]);return n}}t.exports=n},be7f:function(t,e,r){"use strict";var n="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Int32Array;function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){var e=Array.prototype.slice.call(arguments,1);while(e.length){var r=e.shift();if(r){if("object"!==typeof r)throw new TypeError(r+"must be non-object");for(var n in r)i(r,n)&&(t[n]=r[n])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var o={arraySet:function(t,e,r,n,i){if(e.subarray&&t.subarray)t.set(e.subarray(r,r+n),i);else for(var o=0;o<n;o++)t[i+o]=e[r+o]},flattenChunks:function(t){var e,r,n,i,o,a;for(n=0,e=0,r=t.length;e<r;e++)n+=t[e].length;for(a=new Uint8Array(n),i=0,e=0,r=t.length;e<r;e++)o=t[e],a.set(o,i),i+=o.length;return a}},a={arraySet:function(t,e,r,n,i){for(var o=0;o<n;o++)t[i+o]=e[r+o]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,o)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,a))},e.setTyped(n)},bf31:function(t,e,r){"use strict";t.exports=Number.isNaN||function(t){return t!==t}},c01c:function(t,e,r){"use strict";t.exports=i;var n=+(Math.pow(2,27)+1);function i(t,e,r){var i=t*e,o=n*t,a=o-t,s=o-a,h=t-s,l=n*e,u=l-e,c=l-u,f=e-c,d=i-s*c,g=d-h*c,p=g-s*f,m=h*f-p;return r?(r[0]=m,r[1]=i,r):[m,i]}},c04e:function(t,e,r){var n=r("861d");t.exports=function(t,e){if(!n(t))return t;var r,i;if(e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!n(i=r.call(t)))return i;if(!e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},c2d9:function(t,e,r){"use strict";class n{constructor(){this.nodes=new Map}add(t){var e=this.nodes.get(t);return e||(e=new i(t),this.nodes.set(t,e)),e}union(t,e){const r=this.find(t),n=this.find(e);r!==n&&(r.rank<n.rank?r.parent=n:r.rank>n.rank?n.parent=r:(n.parent=r,r.rank++))}find(t){var e=t;while(null!==e.parent)e=e.parent;var r=t;while(null!==r.parent){var n=r;r=r.parent,n.parent=e}return e}connected(t,e){return this.find(t)===this.find(e)}}function i(t){this.value=t,this.parent=null,this.rank=0}t.exports=n},c430:function(t,e){t.exports=!1},c6b6:function(t,e){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},c6cd:function(t,e,r){var n=r("da84"),i=r("ce4e"),o="__core-js_shared__",a=n[o]||i(o,{});t.exports=a},c7a8:function(t,e,r){"use strict";const n={standard:r("9d60"),exif:r("7b7b"),gps:r("3f82")};class i{constructor(t){if(!t)throw new Error("missing kind");this.data=null,this.fields=new Map,this.kind=t,this._map=null}get(t){if("number"===typeof t)return this.fields.get(t);if("string"===typeof t)return this.fields.get(n[this.kind].tagsByName[t]);throw new Error("expected a number or string")}get map(){if(!this._map){this._map={};const e=n[this.kind].tagsById;for(var t of this.fields.keys())e[t]&&(this._map[e[t]]=this.fields.get(t))}return this._map}}t.exports=i},c834:function(t,e,r){"use strict";function n(t,e,r,n){var i=65535&t|0,o=t>>>16&65535|0,a=0;while(0!==r){a=r>2e3?2e3:r,r-=a;do{i=i+e[n++]|0,o=o+i|0}while(--a);i%=65521,o%=65521}return i|o<<16|0}t.exports=n},c8ba:function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(n){"object"===typeof window&&(r=window)}t.exports=r},c975:function(t,e,r){"use strict";var n=r("23e7"),i=r("4d64").indexOf,o=r("a640"),a=r("ae40"),s=[].indexOf,h=!!s&&1/[1].indexOf(1,-0)<0,l=o("indexOf"),u=a("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:h||!l||!u},{indexOf:function(t){return h?s.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},ca38:function(t,e,r){(function(e){function r(t){Math.round;var r,n,i,o,a,s=Math.floor,h=new Array(64),l=new Array(64),u=new Array(64),c=new Array(64),f=new Array(65535),d=new Array(65535),g=new Array(64),p=new Array(64),m=[],w=0,y=7,b=new Array(64),v=new Array(64),x=new Array(64),_=new Array(256),M=new Array(2048),k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],A=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],S=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],C=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function R(t){for(var e=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],r=0;r<64;r++){var n=s((e[r]*t+50)/100);n<1?n=1:n>255&&(n=255),h[k[r]]=n}for(var i=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],o=0;o<64;o++){var a=s((i[o]*t+50)/100);a<1?a=1:a>255&&(a=255),l[k[o]]=a}for(var f=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],d=0,g=0;g<8;g++)for(var p=0;p<8;p++)u[d]=1/(h[k[d]]*f[g]*f[p]*8),c[d]=1/(l[k[d]]*f[g]*f[p]*8),d++}function B(t,e){for(var r=0,n=0,i=new Array,o=1;o<=16;o++){for(var a=1;a<=t[o];a++)i[e[n]]=[],i[e[n]][0]=r,i[e[n]][1]=o,n++,r++;r*=2}return i}function O(){r=B(A,E),n=B(P,I),i=B(S,T),o=B(D,C)}function L(){for(var t=1,e=2,r=1;r<=15;r++){for(var n=t;n<e;n++)d[32767+n]=r,f[32767+n]=[],f[32767+n][1]=r,f[32767+n][0]=n;for(var i=-(e-1);i<=-t;i++)d[32767+i]=r,f[32767+i]=[],f[32767+i][1]=r,f[32767+i][0]=e-1+i;t<<=1,e<<=1}}function U(){for(var t=0;t<256;t++)M[t]=19595*t,M[t+256>>0]=38470*t,M[t+512>>0]=7471*t+32768,M[t+768>>0]=-11059*t,M[t+1024>>0]=-21709*t,M[t+1280>>0]=32768*t+8421375,M[t+1536>>0]=-27439*t,M[t+1792>>0]=-5329*t}function N(t){var e=t[0],r=t[1]-1;while(r>=0)e&1<<r&&(w|=1<<y),r--,y--,y<0&&(255==w?(z(255),z(0)):z(w),y=7,w=0)}function z(t){m.push(t)}function F(t){z(t>>8&255),z(255&t)}function j(t,e){var r,n,i,o,a,s,h,l,u,c,f=0,d=8,p=64;for(u=0;u<d;++u){r=t[f],n=t[f+1],i=t[f+2],o=t[f+3],a=t[f+4],s=t[f+5],h=t[f+6],l=t[f+7];var m=r+l,w=r-l,y=n+h,b=n-h,v=i+s,x=i-s,_=o+a,M=o-a,k=m+_,A=m-_,E=y+v,S=y-v;t[f]=k+E,t[f+4]=k-E;var T=.707106781*(S+A);t[f+2]=A+T,t[f+6]=A-T,k=M+x,E=x+b,S=b+w;var P=.382683433*(k-S),I=.5411961*k+P,D=1.306562965*S+P,C=.707106781*E,R=w+C,B=w-C;t[f+5]=B+I,t[f+3]=B-I,t[f+1]=R+D,t[f+7]=R-D,f+=8}for(f=0,u=0;u<d;++u){r=t[f],n=t[f+8],i=t[f+16],o=t[f+24],a=t[f+32],s=t[f+40],h=t[f+48],l=t[f+56];var O=r+l,L=r-l,U=n+h,N=n-h,z=i+s,F=i-s,j=o+a,Y=o-a,V=O+j,X=O-j,$=U+z,G=U-z;t[f]=V+$,t[f+32]=V-$;var H=.707106781*(G+X);t[f+16]=X+H,t[f+48]=X-H,V=Y+F,$=F+N,G=N+L;var q=.382683433*(V-G),W=.5411961*V+q,Z=1.306562965*G+q,K=.707106781*$,J=L+K,Q=L-K;t[f+40]=Q+W,t[f+24]=Q-W,t[f+8]=J+Z,t[f+56]=J-Z,f++}for(u=0;u<p;++u)c=t[u]*e[u],g[u]=c>0?c+.5|0:c-.5|0;return g}function Y(){F(65504),F(16),z(74),z(70),z(73),z(70),z(0),z(1),z(1),z(0),F(1),F(1),z(0),z(0)}function V(t,e){F(65472),F(17),z(8),F(e),F(t),z(3),z(1),z(17),z(0),z(2),z(17),z(1),z(3),z(17),z(1)}function X(){F(65499),F(132),z(0);for(var t=0;t<64;t++)z(h[t]);z(1);for(var e=0;e<64;e++)z(l[e])}function $(){F(65476),F(418),z(0);for(var t=0;t<16;t++)z(A[t+1]);for(var e=0;e<=11;e++)z(E[e]);z(16);for(var r=0;r<16;r++)z(S[r+1]);for(var n=0;n<=161;n++)z(T[n]);z(1);for(var i=0;i<16;i++)z(P[i+1]);for(var o=0;o<=11;o++)z(I[o]);z(17);for(var a=0;a<16;a++)z(D[a+1]);for(var s=0;s<=161;s++)z(C[s])}function G(){F(65498),F(12),z(3),z(1),z(0),z(2),z(17),z(3),z(17),z(0),z(63),z(0)}function H(t,e,r,n,i){for(var o,a=i[0],s=i[240],h=16,l=63,u=64,c=j(t,e),g=0;g<u;++g)p[k[g]]=c[g];var m=p[0]-r;r=p[0],0==m?N(n[0]):(o=32767+m,N(n[d[o]]),N(f[o]));for(var w=63;w>0&&0==p[w];w--);if(0==w)return N(a),r;var y,b=1;while(b<=w){for(var v=b;0==p[b]&&b<=w;++b);var x=b-v;if(x>=h){y=x>>4;for(var _=1;_<=y;++_)N(s);x&=15}o=32767+p[b],N(i[(x<<4)+d[o]]),N(f[o]),b++}return w!=l&&N(a),r}function q(){for(var t=String.fromCharCode,e=0;e<256;e++)_[e]=t(e)}function W(t){if(t<=0&&(t=1),t>100&&(t=100),a!=t){var e=0;e=t<50?Math.floor(5e3/t):Math.floor(200-2*t),R(e),a=t}}function Z(){var e=(new Date).getTime();t||(t=50),q(),O(),L(),U(),W(t);(new Date).getTime()}this.encode=function(t,a){(new Date).getTime();a&&W(a),m=new Array,w=0,y=7,F(65496),Y(),X(),V(t.width,t.height),$(),G();var s=0,h=0,l=0;w=0,y=7,this.encode.displayName="_encode_";var f,d,g,p,_,k,A,E,S,T=t.data,P=t.width,I=t.height,D=4*P,C=0;while(C<I){f=0;while(f<D){for(_=D*C+f,k=_,A=-1,E=0,S=0;S<64;S++)E=S>>3,A=4*(7&S),k=_+E*D+A,C+E>=I&&(k-=D*(C+1+E-I)),f+A>=D&&(k-=f+A-D+4),d=T[k++],g=T[k++],p=T[k++],b[S]=(M[d]+M[g+256>>0]+M[p+512>>0]>>16)-128,v[S]=(M[d+768>>0]+M[g+1024>>0]+M[p+1280>>0]>>16)-128,x[S]=(M[d+1280>>0]+M[g+1536>>0]+M[p+1792>>0]>>16)-128;s=H(b,u,s,r,i),h=H(v,c,h,n,o),l=H(x,c,l,n,o),f+=32}C+=8}if(y>=0){var R=[];R[1]=y+1,R[0]=(1<<y+1)-1,N(R)}return F(65497),new e(m)},Z()}function n(t,e){"undefined"===typeof e&&(e=50);var n=new r(e),i=n.encode(t,e);return{data:i,width:t.width,height:t.height}}void 0!==typeof t&&(t.exports=n)}).call(this,r("b639").Buffer)},ca84:function(t,e,r){var n=r("5135"),i=r("fc6a"),o=r("4d64").indexOf,a=r("d012");t.exports=function(t,e){var r,s=i(t),h=0,l=[];for(r in s)!n(a,r)&&n(s,r)&&l.push(r);while(e.length>h)n(s,r=e[h++])&&(~o(l,r)||l.push(r));return l}},cc12:function(t,e,r){var n=r("da84"),i=r("861d"),o=n.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},ce4e:function(t,e,r){var n=r("da84"),i=r("9112");t.exports=function(t,e){try{i(n,t,e)}catch(r){n[t]=e}return e}},cfdd:function(t,e,r){"use strict";var n=r("bf31");function i(t){if("number"!==typeof t||n(t))throw new TypeError("Expected a number")}e.asc=function(t,e){return i(t),i(e),t-e},e.desc=function(t,e){return i(t),i(e),e-t}},d012:function(t,e){t.exports={}},d039:function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},d066:function(t,e,r){var n=r("428f"),i=r("da84"),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(n[t])||o(i[t]):n[t]&&n[t][e]||i[t]&&i[t][e]}},d1bd:function(t,e,r){"use strict";function n(t,e,r){var n=t+e,i=n-t,o=n-i,a=e-i,s=t-o;return r?(r[0]=s+a,r[1]=n,r):[s+a,n]}t.exports=n},d1e7:function(t,e,r){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!n.call({1:2},1);e.f=o?function(t){var e=i(this,t);return!!e&&e.enumerable}:n},d2bb:function(t,e,r){var n=r("825a"),i=r("3bbe");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,t.call(r,[]),e=r instanceof Array}catch(o){}return function(r,o){return n(r),i(o),e?t.call(r,o):r.__proto__=o,r}}():void 0)},d3b7:function(t,e,r){var n=r("00ee"),i=r("6eeb"),o=r("b041");n||i(Object.prototype,"toString",o,{unsafe:!0})},d3f1:function(t,e,r){"use strict";const n=r("374c").squared,i={constant:1};class o{constructor(t){t=Object.assign({},i,t),this.constant=t.constant}compute(t,e){const r=n(t,e);return 1-r/(r+this.constant)}}t.exports=o},d44e:function(t,e,r){var n=r("9bf2").f,i=r("5135"),o=r("b622"),a=o("toStringTag");t.exports=function(t,e,r){t&&!i(t=r?t:t.prototype,a)&&n(t,a,{configurable:!0,value:e})}},d784:function(t,e,r){"use strict";r("ac1f");var n=r("6eeb"),i=r("d039"),o=r("b622"),a=r("9263"),s=r("9112"),h=o("species"),l=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),c=o("replace"),f=function(){return!!/./[c]&&""===/./[c]("a","$0")}(),d=!i((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));t.exports=function(t,e,r,c){var g=o(t),p=!i((function(){var e={};return e[g]=function(){return 7},7!=""[t](e)})),m=p&&!i((function(){var e=!1,r=/a/;return"split"===t&&(r={},r.constructor={},r.constructor[h]=function(){return r},r.flags="",r[g]=/./[g]),r.exec=function(){return e=!0,null},r[g](""),!e}));if(!p||!m||"replace"===t&&(!l||!u||f)||"split"===t&&!d){var w=/./[g],y=r(g,""[t],(function(t,e,r,n,i){return e.exec===a?p&&!i?{done:!0,value:w.call(e,r,n)}:{done:!0,value:t.call(r,e,n)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),b=y[0],v=y[1];n(String.prototype,t,b),n(RegExp.prototype,g,2==e?function(t,e){return v.call(t,this,e)}:function(t){return v.call(t,this)})}c&&s(RegExp.prototype[g],"sham",!0)}},d7ac:function(t,e,r){"use strict";var n=r("be7f").assign,i=r("4126"),o=r("717e"),a=r("2ceb"),s={};n(s,i,o,a),t.exports=s},da84:function(t,e,r){(function(e){var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof e&&e)||Function("return this")()}).call(this,r("c8ba"))},dbb4:function(t,e,r){var n=r("23e7"),i=r("83ab"),o=r("56ef"),a=r("fc6a"),s=r("06cf"),h=r("8418");n({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){var e,r,n=a(t),i=s.f,l=o(n),u={},c=0;while(l.length>c)r=i(n,e=l[c++]),void 0!==r&&h(u,e,r);return u}})},dca8:function(t,e,r){var n=r("23e7"),i=r("bb2f"),o=r("d039"),a=r("861d"),s=r("f183").onFreeze,h=Object.freeze,l=o((function(){h(1)}));n({target:"Object",stat:!0,forced:l,sham:!i},{freeze:function(t){return h&&a(t)?h(s(t)):t}})},df0d:function(t,e,r){"use strict";const n=r("374c"),i={sigma:1};class o{constructor(t){t=Object.assign({},i,t),this.sigma=t.sigma}compute(t,e){const r=n(t,e);return Math.exp(-r/this.sigma)}}t.exports=o},df75:function(t,e,r){var n=r("ca84"),i=r("7839");t.exports=Object.keys||function(t){return n(t,i)}},e100:function(t,e,r){"use strict";function n(t,e){var r=t+e,n=r-t,i=r-n,o=e-n,a=t-i,s=a+o;return s?[s,r]:[r]}function i(t,e){var r=0|t.length,i=0|e.length;if(1===r&&1===i)return n(t[0],-e[0]);var o,a,s=r+i,h=new Array(s),l=0,u=0,c=0,f=Math.abs,d=t[u],g=f(d),p=-e[c],m=f(p);g<m?(a=d,u+=1,u<r&&(d=t[u],g=f(d))):(a=p,c+=1,c<i&&(p=-e[c],m=f(p))),u<r&&g<m||c>=i?(o=d,u+=1,u<r&&(d=t[u],g=f(d))):(o=p,c+=1,c<i&&(p=-e[c],m=f(p)));var w,y,b,v,x,_=o+a,M=_-o,k=a-M,A=k,E=_;while(u<r&&c<i)g<m?(o=d,u+=1,u<r&&(d=t[u],g=f(d))):(o=p,c+=1,c<i&&(p=-e[c],m=f(p))),a=A,_=o+a,M=_-o,k=a-M,k&&(h[l++]=k),w=E+_,y=w-E,b=w-y,v=_-y,x=E-b,A=x+v,E=w;while(u<r)o=d,a=A,_=o+a,M=_-o,k=a-M,k&&(h[l++]=k),w=E+_,y=w-E,b=w-y,v=_-y,x=E-b,A=x+v,E=w,u+=1,u<r&&(d=t[u]);while(c<i)o=p,a=A,_=o+a,M=_-o,k=a-M,k&&(h[l++]=k),w=E+_,y=w-E,b=w-y,v=_-y,x=E-b,A=x+v,E=w,c+=1,c<i&&(p=-e[c]);return A&&(h[l++]=A),E&&(h[l++]=E),l||(h[l++]=0),h.length=l,h}t.exports=i},e3db:function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},e430:function(t,e,r){"use strict";function n(t,e){return t-e}e.sum=function(t){for(var e=0,r=0;r<t.length;r++)e+=t[r];return e},e.max=function(t){for(var e=t[0],r=t.length,n=1;n<r;n++)t[n]>e&&(e=t[n]);return e},e.min=function(t){for(var e=t[0],r=t.length,n=1;n<r;n++)t[n]<e&&(e=t[n]);return e},e.minMax=function(t){for(var e=t[0],r=t[0],n=t.length,i=1;i<n;i++)t[i]<e&&(e=t[i]),t[i]>r&&(r=t[i]);return{min:e,max:r}},e.arithmeticMean=function(t){for(var e=0,r=t.length,n=0;n<r;n++)e+=t[n];return e/r},e.mean=e.arithmeticMean,e.geometricMean=function(t){for(var e=1,r=t.length,n=0;n<r;n++)e*=t[n];return Math.pow(e,1/r)},e.logMean=function(t){for(var e=0,r=t.length,n=0;n<r;n++)e+=Math.log(t[n]);return e/r},e.grandMean=function(t,e){for(var r=0,n=0,i=t.length,o=0;o<i;o++)r+=e[o]*t[o],n+=e[o];return r/n},e.truncatedMean=function(t,e,r){void 0===r&&(r=!1),r||(t=[].concat(t).sort(n));for(var i=t.length,o=Math.floor(i*e),a=0,s=o;s<i-o;s++)a+=t[s];return a/(i-2*o)},e.harmonicMean=function(t){for(var e=0,r=t.length,n=0;n<r;n++){if(0===t[n])throw new RangeError("value at index "+n+"is zero");e+=1/t[n]}return r/e},e.contraHarmonicMean=function(t){for(var e=0,r=0,n=t.length,i=0;i<n;i++)e+=t[i]*t[i],r+=t[i];if(r<0)throw new RangeError("sum of values is negative");return e/r},e.median=function(t,e){void 0===e&&(e=!1),e||(t=[].concat(t).sort(n));var r=t.length,i=Math.floor(r/2);return r%2===0?.5*(t[i-1]+t[i]):t[i]},e.variance=function(t,r){void 0===r&&(r=!0);for(var n=e.mean(t),i=0,o=t.length,a=0;a<o;a++){var s=t[a]-n;i+=s*s}return r?i/(o-1):i/o},e.standardDeviation=function(t,r){return Math.sqrt(e.variance(t,r))},e.standardError=function(t){return e.standardDeviation(t)/Math.sqrt(t.length)},e.robustMeanAndStdev=function(t){var e=0,r=0,i=t.length,o=0;for(o=0;o<i;o++)e+=t[o];e/=i;var a=new Array(i);for(o=0;o<i;o++)a[o]=Math.abs(t[o]-e);return a.sort(n),r=i%2===1?a[(i-1)/2]/.6745:.5*(a[i/2]+a[i/2-1])/.6745,{mean:e,stdev:r}},e.quartiles=function(t,r){"undefined"===typeof r&&(r=!1),r||(t=[].concat(t).sort(n));var i=t.length/4,o=t[Math.ceil(i)-1],a=e.median(t,!0),s=t[Math.ceil(3*i)-1];return{q1:o,q2:a,q3:s}},e.pooledStandardDeviation=function(t,r){return Math.sqrt(e.pooledVariance(t,r))},e.pooledVariance=function(t,r){"undefined"===typeof r&&(r=!0);for(var n=0,i=0,o=t.length,a=0;a<o;a++){var s=t[a],h=e.variance(s);n+=(s.length-1)*h,i+=r?s.length-1:s.length}return n/i},e.mode=function(t){var e,r=t.length,n=new Array(r);for(e=0;e<r;e++)n[e]=0;var i=new Array(r),o=0;for(e=0;e<r;e++){var a=i.indexOf(t[e]);a>=0?n[a]++:(i[o]=t[e],n[o]=1,o++)}var s=0,h=0;for(e=0;e<o;e++)n[e]>s&&(s=n[e],h=e);return i[h]},e.covariance=function(t,r,n){"undefined"===typeof n&&(n=!0);var i=e.mean(t),o=e.mean(r);if(t.length!==r.length)throw"Vectors do not have the same dimensions";for(var a=0,s=t.length,h=0;h<s;h++){var l=t[h]-i,u=r[h]-o;a+=l*u}return n?a/(s-1):a/s},e.skewness=function(t,r){"undefined"===typeof r&&(r=!0);for(var n=e.mean(t),i=0,o=0,a=t.length,s=0;s<a;s++){var h=t[s]-n;i+=h*h,o+=h*h*h}var l=i/a,u=o/a,c=u/Math.pow(l,1.5);if(r){var f=Math.sqrt(a*(a-1)),d=a-2;return f/d*c}return c},e.kurtosis=function(t,r){"undefined"===typeof r&&(r=!0);for(var n=e.mean(t),i=t.length,o=0,a=0,s=0;s<i;s++){var h=t[s]-n;o+=h*h,a+=h*h*h*h}var l=o/i,u=a/i;if(r){var c=o/(i-1),f=i*(i+1)/((i-1)*(i-2)*(i-3)),d=a/(c*c),g=(i-1)*(i-1)/((i-2)*(i-3));return f*d-3*g}return u/(l*l)-3},e.entropy=function(t,e){"undefined"===typeof e&&(e=0);for(var r=0,n=t.length,i=0;i<n;i++)r+=t[i]*Math.log(t[i]+e);return-r},e.weightedMean=function(t,e){for(var r=0,n=t.length,i=0;i<n;i++)r+=t[i]*e[i];return r},e.weightedStandardDeviation=function(t,r){return Math.sqrt(e.weightedVariance(t,r))},e.weightedVariance=function(t,r){for(var n=e.weightedMean(t,r),i=0,o=t.length,a=0,s=0,h=0;h<o;h++){var l=t[h]-n,u=r[h];i+=u*(l*l),s+=u,a+=u*u}return i*(s/(s*s-a))},e.center=function(t,r){"undefined"===typeof r&&(r=!1);var n=t;r||(n=[].concat(t));for(var i=e.mean(n),o=n.length,a=0;a<o;a++)n[a]-=i},e.standardize=function(t,r,n){"undefined"===typeof r&&(r=e.standardDeviation(t)),"undefined"===typeof n&&(n=!1);for(var i=t.length,o=n?t:new Array(i),a=0;a<i;a++)o[a]=t[a]/r;return o},e.cumulativeSum=function(t){var e=t.length,r=new Array(e);r[0]=t[0];for(var n=1;n<e;n++)r[n]=r[n-1]+t[n];return r}},e439:function(t,e,r){var n=r("23e7"),i=r("d039"),o=r("fc6a"),a=r("06cf").f,s=r("83ab"),h=i((function(){a(1)})),l=!s||h;n({target:"Object",stat:!0,forced:l,sham:!s},{getOwnPropertyDescriptor:function(t,e){return a(o(t),e)}})},e500:function(t,e,r){"use strict";function n(t,e){let r=0;for(let n=0;n<t.length;n++)r+=(t[n]-e[n])*(t[n]-e[n]);return r}function i(t,e){return Math.sqrt(n(t,e))}r.r(e),r.d(e,"squaredEuclidean",(function(){return n})),r.d(e,"euclidean",(function(){return i}))},e538:function(t,e,r){var n=r("b622");e.f=n},e57f:function(t,e,r){(function(){var t;t=e;var r={release:"0.3.0",date:"2013-03"};t.toString=function(){return"version "+r.release+", released "+r.date};for(var n=0,i=null,o=null,a={init:function(t){if(0===t||0!==(t&t-1))throw new Error("init: radix-2 required");n=t,a._initArray(),a._makeBitReversalTable(),a._makeCosSinTable()},fft1d:function(t,e){a.fft(t,e,1)},ifft1d:function(t,e){var r=1/n;a.fft(t,e,-1);for(var i=0;i<n;i++)t[i]*=r,e[i]*=r},bt1d:function(t,e){a.fft(t,e,-1)},fft2d:function(t,e){for(var r=[],i=[],o=0,s=0;s<n;s++){o=s*n;for(var h=0;h<n;h++)r[h]=t[h+o],i[h]=e[h+o];a.fft1d(r,i);for(var l=0;l<n;l++)t[l+o]=r[l],e[l+o]=i[l]}for(var u=0;u<n;u++){for(var c=0;c<n;c++)o=u+c*n,r[c]=t[o],i[c]=e[o];a.fft1d(r,i);for(var f=0;f<n;f++)o=u+f*n,t[o]=r[f],e[o]=i[f]}},ifft2d:function(t,e){for(var r=[],i=[],o=0,s=0;s<n;s++){o=s*n;for(var h=0;h<n;h++)r[h]=t[h+o],i[h]=e[h+o];a.ifft1d(r,i);for(var l=0;l<n;l++)t[l+o]=r[l],e[l+o]=i[l]}for(var u=0;u<n;u++){for(var c=0;c<n;c++)o=u+c*n,r[c]=t[o],i[c]=e[o];a.ifft1d(r,i);for(var f=0;f<n;f++)o=u+f*n,t[o]=r[f],e[o]=i[f]}},fft:function(t,e,r){for(var a,s,h,l,u,c,f,d,g,p=n>>2,m=0;m<n;m++)l=i[m],m<l&&(u=t[m],t[m]=t[l],t[l]=u,u=e[m],e[m]=e[l],e[l]=u);for(var w=1;w<n;w<<=1){s=0,a=n/(w<<1);for(var y=0;y<w;y++){c=o[s+p],f=r*o[s];for(var b=y;b<n;b+=w<<1)h=b+w,d=c*t[h]+f*e[h],g=c*e[h]-f*t[h],t[h]=t[b]-d,t[b]+=d,e[h]=e[b]-g,e[b]+=g;s+=a}}},_initArray:function(){i="undefined"!==typeof Uint32Array?new Uint32Array(n):[],o="undefined"!==typeof Float64Array?new Float64Array(1.25*n):[]},_paddingZero:function(){},_makeBitReversalTable:function(){var t=0,e=0,r=0;i[0]=0;while(++t<n){r=n>>1;while(r<=e)e-=r,r>>=1;e+=r,i[t]=e}},_makeCosSinTable:function(){var t=n>>1,e=n>>2,r=n>>3,i=t+e,a=Math.sin(Math.PI/n),s=2*a*a,h=Math.sqrt(s*(2-s)),l=o[e]=1,u=o[0]=0;a=2*s;for(var c=1;c<r;c++)l-=s,s+=a*l,u+=h,h-=a*u,o[c]=u,o[e-c]=l;0!==r&&(o[r]=Math.sqrt(.5));for(var f=0;f<e;f++)o[t-f]=o[f];for(var d=0;d<i;d++)o[d+t]=-o[d]}},s=["init","fft1d","ifft1d","fft2d","ifft2d"],h=0;h<s.length;h++)t[s[h]]=a[s[h]];return t.bt=a.bt1d,t.fft=a.fft1d,t.ifft=a.ifft1d,t}).call(this)},e609:function(t,e,r){"use strict";r.r(e),function(t){r.d(e,"default",(function(){return w})),r.d(e,"VERSION",(function(){return y})),r.d(e,"iteratee",(function(){return x})),r.d(e,"restArguments",(function(){return M})),r.d(e,"each",(function(){return D})),r.d(e,"forEach",(function(){return D})),r.d(e,"map",(function(){return C})),r.d(e,"collect",(function(){return C})),r.d(e,"reduce",(function(){return B})),r.d(e,"foldl",(function(){return B})),r.d(e,"inject",(function(){return B})),r.d(e,"reduceRight",(function(){return O})),r.d(e,"foldr",(function(){return O})),r.d(e,"find",(function(){return L})),r.d(e,"detect",(function(){return L})),r.d(e,"filter",(function(){return U})),r.d(e,"select",(function(){return U})),r.d(e,"reject",(function(){return N})),r.d(e,"every",(function(){return z})),r.d(e,"all",(function(){return z})),r.d(e,"some",(function(){return F})),r.d(e,"any",(function(){return F})),r.d(e,"contains",(function(){return j})),r.d(e,"includes",(function(){return j})),r.d(e,"include",(function(){return j})),r.d(e,"invoke",(function(){return Y})),r.d(e,"pluck",(function(){return V})),r.d(e,"where",(function(){return X})),r.d(e,"findWhere",(function(){return $})),r.d(e,"max",(function(){return G})),r.d(e,"min",(function(){return H})),r.d(e,"shuffle",(function(){return q})),r.d(e,"sample",(function(){return W})),r.d(e,"sortBy",(function(){return Z})),r.d(e,"groupBy",(function(){return J})),r.d(e,"indexBy",(function(){return Q})),r.d(e,"countBy",(function(){return tt})),r.d(e,"toArray",(function(){return rt})),r.d(e,"size",(function(){return nt})),r.d(e,"partition",(function(){return it})),r.d(e,"first",(function(){return ot})),r.d(e,"head",(function(){return ot})),r.d(e,"take",(function(){return ot})),r.d(e,"initial",(function(){return at})),r.d(e,"last",(function(){return st})),r.d(e,"rest",(function(){return ht})),r.d(e,"tail",(function(){return ht})),r.d(e,"drop",(function(){return ht})),r.d(e,"compact",(function(){return lt})),r.d(e,"flatten",(function(){return ct})),r.d(e,"without",(function(){return ft})),r.d(e,"uniq",(function(){return dt})),r.d(e,"unique",(function(){return dt})),r.d(e,"union",(function(){return gt})),r.d(e,"intersection",(function(){return pt})),r.d(e,"difference",(function(){return mt})),r.d(e,"unzip",(function(){return wt})),r.d(e,"zip",(function(){return yt})),r.d(e,"object",(function(){return bt})),r.d(e,"findIndex",(function(){return xt})),r.d(e,"findLastIndex",(function(){return _t})),r.d(e,"sortedIndex",(function(){return Mt})),r.d(e,"indexOf",(function(){return At})),r.d(e,"lastIndexOf",(function(){return Et})),r.d(e,"range",(function(){return St})),r.d(e,"chunk",(function(){return Tt})),r.d(e,"bind",(function(){return It})),r.d(e,"partial",(function(){return Dt})),r.d(e,"bindAll",(function(){return Ct})),r.d(e,"memoize",(function(){return Rt})),r.d(e,"delay",(function(){return Bt})),r.d(e,"defer",(function(){return Ot})),r.d(e,"throttle",(function(){return Lt})),r.d(e,"debounce",(function(){return Ut})),r.d(e,"wrap",(function(){return Nt})),r.d(e,"negate",(function(){return zt})),r.d(e,"compose",(function(){return Ft})),r.d(e,"after",(function(){return jt})),r.d(e,"before",(function(){return Yt})),r.d(e,"once",(function(){return Vt})),r.d(e,"keys",(function(){return Ht})),r.d(e,"allKeys",(function(){return qt})),r.d(e,"values",(function(){return Wt})),r.d(e,"mapObject",(function(){return Zt})),r.d(e,"pairs",(function(){return Kt})),r.d(e,"invert",(function(){return Jt})),r.d(e,"functions",(function(){return Qt})),r.d(e,"methods",(function(){return Qt})),r.d(e,"extend",(function(){return ee})),r.d(e,"extendOwn",(function(){return re})),r.d(e,"assign",(function(){return re})),r.d(e,"findKey",(function(){return ne})),r.d(e,"pick",(function(){return oe})),r.d(e,"omit",(function(){return ae})),r.d(e,"defaults",(function(){return se})),r.d(e,"create",(function(){return he})),r.d(e,"clone",(function(){return le})),r.d(e,"tap",(function(){return ue})),r.d(e,"isMatch",(function(){return ce})),r.d(e,"isEqual",(function(){return ge})),r.d(e,"isEmpty",(function(){return pe})),r.d(e,"isElement",(function(){return me})),r.d(e,"isArray",(function(){return ye})),r.d(e,"isObject",(function(){return be})),r.d(e,"isArguments",(function(){return ve})),r.d(e,"isFunction",(function(){return xe})),r.d(e,"isString",(function(){return _e})),r.d(e,"isNumber",(function(){return Me})),r.d(e,"isDate",(function(){return ke})),r.d(e,"isRegExp",(function(){return Ae})),r.d(e,"isError",(function(){return Ee})),r.d(e,"isSymbol",(function(){return Se})),r.d(e,"isMap",(function(){return Te})),r.d(e,"isWeakMap",(function(){return Pe})),r.d(e,"isSet",(function(){return Ie})),r.d(e,"isWeakSet",(function(){return De})),r.d(e,"isFinite",(function(){return Re})),r.d(e,"isNaN",(function(){return Be})),r.d(e,"isBoolean",(function(){return Oe})),r.d(e,"isNull",(function(){return Le})),r.d(e,"isUndefined",(function(){return Ue})),r.d(e,"has",(function(){return Ne})),r.d(e,"identity",(function(){return ze})),r.d(e,"constant",(function(){return Fe})),r.d(e,"noop",(function(){return je})),r.d(e,"property",(function(){return Ye})),r.d(e,"propertyOf",(function(){return Ve})),r.d(e,"matcher",(function(){return Xe})),r.d(e,"matches",(function(){return Xe})),r.d(e,"times",(function(){return $e})),r.d(e,"random",(function(){return Ge})),r.d(e,"now",(function(){return He})),r.d(e,"escape",(function(){return Ke})),r.d(e,"unescape",(function(){return Je})),r.d(e,"result",(function(){return Qe})),r.d(e,"uniqueId",(function(){return er})),r.d(e,"templateSettings",(function(){return rr})),r.d(e,"template",(function(){return sr})),r.d(e,"chain",(function(){return hr})),r.d(e,"mixin",(function(){return ur}));var n="object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t||Function("return this")()||{},i=Array.prototype,o=Object.prototype,a="undefined"!==typeof Symbol?Symbol.prototype:null,s=i.push,h=i.slice,l=o.toString,u=o.hasOwnProperty,c=Array.isArray,f=Object.keys,d=Object.create,g=n.isNaN,p=n.isFinite,m=function(){};function w(t){return t instanceof w?t:this instanceof w?void(this._wrapped=t):new w(t)}var y=w.VERSION="1.10.2";function b(t,e,r){if(void 0===e)return t;switch(null==r?3:r){case 1:return function(r){return t.call(e,r)};case 3:return function(r,n,i){return t.call(e,r,n,i)};case 4:return function(r,n,i,o){return t.call(e,r,n,i,o)}}return function(){return t.apply(e,arguments)}}function v(t,e,r){return null==t?ze:xe(t)?b(t,e,r):be(t)&&!ye(t)?Xe(t):Ye(t)}function x(t,e){return v(t,e,1/0)}function _(t,e,r){return w.iteratee!==x?w.iteratee(t,e):v(t,e,r)}function M(t,e){return e=null==e?t.length-1:+e,function(){for(var r=Math.max(arguments.length-e,0),n=Array(r),i=0;i<r;i++)n[i]=arguments[i+e];switch(e){case 0:return t.call(this,n);case 1:return t.call(this,arguments[0],n);case 2:return t.call(this,arguments[0],arguments[1],n)}var o=Array(e+1);for(i=0;i<e;i++)o[i]=arguments[i];return o[e]=n,t.apply(this,o)}}function k(t){if(!be(t))return{};if(d)return d(t);m.prototype=t;var e=new m;return m.prototype=null,e}function A(t){return function(e){return null==e?void 0:e[t]}}function E(t,e){return null!=t&&u.call(t,e)}function S(t,e){for(var r=e.length,n=0;n<r;n++){if(null==t)return;t=t[e[n]]}return r?t:void 0}w.iteratee=x;var T=Math.pow(2,53)-1,P=A("length");function I(t){var e=P(t);return"number"==typeof e&&e>=0&&e<=T}function D(t,e,r){var n,i;if(e=b(e,r),I(t))for(n=0,i=t.length;n<i;n++)e(t[n],n,t);else{var o=Ht(t);for(n=0,i=o.length;n<i;n++)e(t[o[n]],o[n],t)}return t}function C(t,e,r){e=_(e,r);for(var n=!I(t)&&Ht(t),i=(n||t).length,o=Array(i),a=0;a<i;a++){var s=n?n[a]:a;o[a]=e(t[s],s,t)}return o}function R(t){var e=function(e,r,n,i){var o=!I(e)&&Ht(e),a=(o||e).length,s=t>0?0:a-1;for(i||(n=e[o?o[s]:s],s+=t);s>=0&&s<a;s+=t){var h=o?o[s]:s;n=r(n,e[h],h,e)}return n};return function(t,r,n,i){var o=arguments.length>=3;return e(t,b(r,i,4),n,o)}}var B=R(1),O=R(-1);function L(t,e,r){var n=I(t)?xt:ne,i=n(t,e,r);if(void 0!==i&&-1!==i)return t[i]}function U(t,e,r){var n=[];return e=_(e,r),D(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function N(t,e,r){return U(t,zt(_(e)),r)}function z(t,e,r){e=_(e,r);for(var n=!I(t)&&Ht(t),i=(n||t).length,o=0;o<i;o++){var a=n?n[o]:o;if(!e(t[a],a,t))return!1}return!0}function F(t,e,r){e=_(e,r);for(var n=!I(t)&&Ht(t),i=(n||t).length,o=0;o<i;o++){var a=n?n[o]:o;if(e(t[a],a,t))return!0}return!1}function j(t,e,r,n){return I(t)||(t=Wt(t)),("number"!=typeof r||n)&&(r=0),At(t,e,r)>=0}var Y=M((function(t,e,r){var n,i;return xe(e)?i=e:ye(e)&&(n=e.slice(0,-1),e=e[e.length-1]),C(t,(function(t){var o=i;if(!o){if(n&&n.length&&(t=S(t,n)),null==t)return;o=t[e]}return null==o?o:o.apply(t,r)}))}));function V(t,e){return C(t,Ye(e))}function X(t,e){return U(t,Xe(e))}function $(t,e){return L(t,Xe(e))}function G(t,e,r){var n,i,o=-1/0,a=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t){t=I(t)?t:Wt(t);for(var s=0,h=t.length;s<h;s++)n=t[s],null!=n&&n>o&&(o=n)}else e=_(e,r),D(t,(function(t,r,n){i=e(t,r,n),(i>a||i===-1/0&&o===-1/0)&&(o=t,a=i)}));return o}function H(t,e,r){var n,i,o=1/0,a=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t){t=I(t)?t:Wt(t);for(var s=0,h=t.length;s<h;s++)n=t[s],null!=n&&n<o&&(o=n)}else e=_(e,r),D(t,(function(t,r,n){i=e(t,r,n),(i<a||i===1/0&&o===1/0)&&(o=t,a=i)}));return o}function q(t){return W(t,1/0)}function W(t,e,r){if(null==e||r)return I(t)||(t=Wt(t)),t[Ge(t.length-1)];var n=I(t)?le(t):Wt(t),i=P(n);e=Math.max(Math.min(e,i),0);for(var o=i-1,a=0;a<e;a++){var s=Ge(a,o),h=n[a];n[a]=n[s],n[s]=h}return n.slice(0,e)}function Z(t,e,r){var n=0;return e=_(e,r),V(C(t,(function(t,r,i){return{value:t,index:n++,criteria:e(t,r,i)}})).sort((function(t,e){var r=t.criteria,n=e.criteria;if(r!==n){if(r>n||void 0===r)return 1;if(r<n||void 0===n)return-1}return t.index-e.index})),"value")}function K(t,e){return function(r,n,i){var o=e?[[],[]]:{};return n=_(n,i),D(r,(function(e,i){var a=n(e,i,r);t(o,e,a)})),o}}var J=K((function(t,e,r){E(t,r)?t[r].push(e):t[r]=[e]})),Q=K((function(t,e,r){t[r]=e})),tt=K((function(t,e,r){E(t,r)?t[r]++:t[r]=1})),et=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function rt(t){return t?ye(t)?h.call(t):_e(t)?t.match(et):I(t)?C(t,ze):Wt(t):[]}function nt(t){return null==t?0:I(t)?t.length:Ht(t).length}var it=K((function(t,e,r){t[r?0:1].push(e)}),!0);function ot(t,e,r){return null==t||t.length<1?null==e?void 0:[]:null==e||r?t[0]:at(t,t.length-e)}function at(t,e,r){return h.call(t,0,Math.max(0,t.length-(null==e||r?1:e)))}function st(t,e,r){return null==t||t.length<1?null==e?void 0:[]:null==e||r?t[t.length-1]:ht(t,Math.max(0,t.length-e))}function ht(t,e,r){return h.call(t,null==e||r?1:e)}function lt(t){return U(t,Boolean)}function ut(t,e,r,n){n=n||[];for(var i=n.length,o=0,a=P(t);o<a;o++){var s=t[o];if(I(s)&&(ye(s)||ve(s)))if(e){var h=0,l=s.length;while(h<l)n[i++]=s[h++]}else ut(s,e,r,n),i=n.length;else r||(n[i++]=s)}return n}function ct(t,e){return ut(t,e,!1)}var ft=M((function(t,e){return mt(t,e)}));function dt(t,e,r,n){Oe(e)||(n=r,r=e,e=!1),null!=r&&(r=_(r,n));for(var i=[],o=[],a=0,s=P(t);a<s;a++){var h=t[a],l=r?r(h,a,t):h;e&&!r?(a&&o===l||i.push(h),o=l):r?j(o,l)||(o.push(l),i.push(h)):j(i,h)||i.push(h)}return i}var gt=M((function(t){return dt(ut(t,!0,!0))}));function pt(t){for(var e=[],r=arguments.length,n=0,i=P(t);n<i;n++){var o=t[n];if(!j(e,o)){var a;for(a=1;a<r;a++)if(!j(arguments[a],o))break;a===r&&e.push(o)}}return e}var mt=M((function(t,e){return e=ut(e,!0,!0),U(t,(function(t){return!j(e,t)}))}));function wt(t){for(var e=t&&G(t,P).length||0,r=Array(e),n=0;n<e;n++)r[n]=V(t,n);return r}var yt=M(wt);function bt(t,e){for(var r={},n=0,i=P(t);n<i;n++)e?r[t[n]]=e[n]:r[t[n][0]]=t[n][1];return r}function vt(t){return function(e,r,n){r=_(r,n);for(var i=P(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(r(e[o],o,e))return o;return-1}}var xt=vt(1),_t=vt(-1);function Mt(t,e,r,n){r=_(r,n,1);var i=r(e),o=0,a=P(t);while(o<a){var s=Math.floor((o+a)/2);r(t[s])<i?o=s+1:a=s}return o}function kt(t,e,r){return function(n,i,o){var a=0,s=P(n);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(r&&o&&s)return o=r(n,i),n[o]===i?o:-1;if(i!==i)return o=e(h.call(n,a,s),Be),o>=0?o+a:-1;for(o=t>0?a:s-1;o>=0&&o<s;o+=t)if(n[o]===i)return o;return-1}}var At=kt(1,xt,Mt),Et=kt(-1,_t);function St(t,e,r){null==e&&(e=t||0,t=0),r||(r=e<t?-1:1);for(var n=Math.max(Math.ceil((e-t)/r),0),i=Array(n),o=0;o<n;o++,t+=r)i[o]=t;return i}function Tt(t,e){if(null==e||e<1)return[];var r=[],n=0,i=t.length;while(n<i)r.push(h.call(t,n,n+=e));return r}function Pt(t,e,r,n,i){if(!(n instanceof e))return t.apply(r,i);var o=k(t.prototype),a=t.apply(o,i);return be(a)?a:o}var It=M((function(t,e,r){if(!xe(t))throw new TypeError("Bind must be called on a function");var n=M((function(i){return Pt(t,n,e,this,r.concat(i))}));return n})),Dt=M((function(t,e){var r=Dt.placeholder,n=function(){for(var i=0,o=e.length,a=Array(o),s=0;s<o;s++)a[s]=e[s]===r?arguments[i++]:e[s];while(i<arguments.length)a.push(arguments[i++]);return Pt(t,n,this,this,a)};return n}));Dt.placeholder=w;var Ct=M((function(t,e){e=ut(e,!1,!1);var r=e.length;if(r<1)throw new Error("bindAll must be passed function names");while(r--){var n=e[r];t[n]=It(t[n],t)}}));function Rt(t,e){var r=function(n){var i=r.cache,o=""+(e?e.apply(this,arguments):n);return E(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return r.cache={},r}var Bt=M((function(t,e,r){return setTimeout((function(){return t.apply(null,r)}),e)})),Ot=Dt(Bt,w,1);function Lt(t,e,r){var n,i,o,a,s=0;r||(r={});var h=function(){s=!1===r.leading?0:He(),n=null,a=t.apply(i,o),n||(i=o=null)},l=function(){var l=He();s||!1!==r.leading||(s=l);var u=e-(l-s);return i=this,o=arguments,u<=0||u>e?(n&&(clearTimeout(n),n=null),s=l,a=t.apply(i,o),n||(i=o=null)):n||!1===r.trailing||(n=setTimeout(h,u)),a};return l.cancel=function(){clearTimeout(n),s=0,n=i=o=null},l}function Ut(t,e,r){var n,i,o=function(e,r){n=null,r&&(i=t.apply(e,r))},a=M((function(a){if(n&&clearTimeout(n),r){var s=!n;n=setTimeout(o,e),s&&(i=t.apply(this,a))}else n=Bt(o,e,this,a);return i}));return a.cancel=function(){clearTimeout(n),n=null},a}function Nt(t,e){return Dt(e,t)}function zt(t){return function(){return!t.apply(this,arguments)}}function Ft(){var t=arguments,e=t.length-1;return function(){var r=e,n=t[e].apply(this,arguments);while(r--)n=t[r].call(this,n);return n}}function jt(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}function Yt(t,e){var r;return function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=null),r}}var Vt=Dt(Yt,2),Xt=!{toString:null}.propertyIsEnumerable("toString"),$t=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function Gt(t,e){var r=$t.length,n=t.constructor,i=xe(n)&&n.prototype||o,a="constructor";E(t,a)&&!j(e,a)&&e.push(a);while(r--)a=$t[r],a in t&&t[a]!==i[a]&&!j(e,a)&&e.push(a)}function Ht(t){if(!be(t))return[];if(f)return f(t);var e=[];for(var r in t)E(t,r)&&e.push(r);return Xt&&Gt(t,e),e}function qt(t){if(!be(t))return[];var e=[];for(var r in t)e.push(r);return Xt&&Gt(t,e),e}function Wt(t){for(var e=Ht(t),r=e.length,n=Array(r),i=0;i<r;i++)n[i]=t[e[i]];return n}function Zt(t,e,r){e=_(e,r);for(var n=Ht(t),i=n.length,o={},a=0;a<i;a++){var s=n[a];o[s]=e(t[s],s,t)}return o}function Kt(t){for(var e=Ht(t),r=e.length,n=Array(r),i=0;i<r;i++)n[i]=[e[i],t[e[i]]];return n}function Jt(t){for(var e={},r=Ht(t),n=0,i=r.length;n<i;n++)e[t[r[n]]]=r[n];return e}function Qt(t){var e=[];for(var r in t)xe(t[r])&&e.push(r);return e.sort()}function te(t,e){return function(r){var n=arguments.length;if(e&&(r=Object(r)),n<2||null==r)return r;for(var i=1;i<n;i++)for(var o=arguments[i],a=t(o),s=a.length,h=0;h<s;h++){var l=a[h];e&&void 0!==r[l]||(r[l]=o[l])}return r}}var ee=te(qt),re=te(Ht);function ne(t,e,r){e=_(e,r);for(var n,i=Ht(t),o=0,a=i.length;o<a;o++)if(n=i[o],e(t[n],n,t))return n}function ie(t,e,r){return e in r}var oe=M((function(t,e){var r={},n=e[0];if(null==t)return r;xe(n)?(e.length>1&&(n=b(n,e[1])),e=qt(t)):(n=ie,e=ut(e,!1,!1),t=Object(t));for(var i=0,o=e.length;i<o;i++){var a=e[i],s=t[a];n(s,a,t)&&(r[a]=s)}return r})),ae=M((function(t,e){var r,n=e[0];return xe(n)?(n=zt(n),e.length>1&&(r=e[1])):(e=C(ut(e,!1,!1),String),n=function(t,r){return!j(e,r)}),oe(t,n,r)})),se=te(qt,!0);function he(t,e){var r=k(t);return e&&re(r,e),r}function le(t){return be(t)?ye(t)?t.slice():ee({},t):t}function ue(t,e){return e(t),t}function ce(t,e){var r=Ht(e),n=r.length;if(null==t)return!n;for(var i=Object(t),o=0;o<n;o++){var a=r[o];if(e[a]!==i[a]||!(a in i))return!1}return!0}function fe(t,e,r,n){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return!1;if(t!==t)return e!==e;var i=typeof t;return("function"===i||"object"===i||"object"==typeof e)&&de(t,e,r,n)}function de(t,e,r,n){t instanceof w&&(t=t._wrapped),e instanceof w&&(e=e._wrapped);var i=l.call(t);if(i!==l.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t===""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e;case"[object Symbol]":return a.valueOf.call(t)===a.valueOf.call(e)}var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,h=e.constructor;if(s!==h&&!(xe(s)&&s instanceof s&&xe(h)&&h instanceof h)&&"constructor"in t&&"constructor"in e)return!1}r=r||[],n=n||[];var u=r.length;while(u--)if(r[u]===t)return n[u]===e;if(r.push(t),n.push(e),o){if(u=t.length,u!==e.length)return!1;while(u--)if(!fe(t[u],e[u],r,n))return!1}else{var c,f=Ht(t);if(u=f.length,Ht(e).length!==u)return!1;while(u--)if(c=f[u],!E(e,c)||!fe(t[c],e[c],r,n))return!1}return r.pop(),n.pop(),!0}function ge(t,e){return fe(t,e)}function pe(t){return null==t||(I(t)&&(ye(t)||_e(t)||ve(t))?0===t.length:0===Ht(t).length)}function me(t){return!(!t||1!==t.nodeType)}function we(t){return function(e){return l.call(e)==="[object "+t+"]"}}var ye=c||we("Array");function be(t){var e=typeof t;return"function"===e||"object"===e&&!!t}var ve=we("Arguments"),xe=we("Function"),_e=we("String"),Me=we("Number"),ke=we("Date"),Ae=we("RegExp"),Ee=we("Error"),Se=we("Symbol"),Te=we("Map"),Pe=we("WeakMap"),Ie=we("Set"),De=we("WeakSet");(function(){ve(arguments)||(ve=function(t){return E(t,"callee")})})();var Ce=n.document&&n.document.childNodes;function Re(t){return!Se(t)&&p(t)&&!g(parseFloat(t))}function Be(t){return Me(t)&&g(t)}function Oe(t){return!0===t||!1===t||"[object Boolean]"===l.call(t)}function Le(t){return null===t}function Ue(t){return void 0===t}function Ne(t,e){if(!ye(e))return E(t,e);for(var r=e.length,n=0;n<r;n++){var i=e[n];if(null==t||!u.call(t,i))return!1;t=t[i]}return!!r}function ze(t){return t}function Fe(t){return function(){return t}}function je(){}function Ye(t){return ye(t)?function(e){return S(e,t)}:A(t)}function Ve(t){return null==t?function(){}:function(e){return ye(e)?S(t,e):t[e]}}function Xe(t){return t=re({},t),function(e){return ce(e,t)}}function $e(t,e,r){var n=Array(Math.max(0,t));e=b(e,r,1);for(var i=0;i<t;i++)n[i]=e(i);return n}function Ge(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}"object"!=typeof Int8Array&&"function"!=typeof Ce&&(xe=function(t){return"function"==typeof t||!1});var He=Date.now||function(){return(new Date).getTime()},qe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},We=Jt(qe);function Ze(t){var e=function(e){return t[e]},r="(?:"+Ht(t).join("|")+")",n=RegExp(r),i=RegExp(r,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(i,e):t}}var Ke=Ze(qe),Je=Ze(We);function Qe(t,e,r){ye(e)||(e=[e]);var n=e.length;if(!n)return xe(r)?r.call(t):r;for(var i=0;i<n;i++){var o=null==t?void 0:t[e[i]];void 0===o&&(o=r,i=n),t=xe(o)?o.call(t):o}return t}var tr=0;function er(t){var e=++tr+"";return t?t+e:e}var rr=w.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},nr=/(.)^/,ir={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},or=/\\|'|\r|\n|\u2028|\u2029/g,ar=function(t){return"\\"+ir[t]};function sr(t,e,r){!e&&r&&(e=r),e=se({},e,w.templateSettings);var n,i=RegExp([(e.escape||nr).source,(e.interpolate||nr).source,(e.evaluate||nr).source].join("|")+"|$","g"),o=0,a="__p+='";t.replace(i,(function(e,r,n,i,s){return a+=t.slice(o,s).replace(or,ar),o=s+e.length,r?a+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":n?a+="'+\n((__t=("+n+"))==null?'':__t)+\n'":i&&(a+="';\n"+i+"\n__p+='"),e})),a+="';\n",e.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{n=new Function(e.variable||"obj","_",a)}catch(l){throw l.source=a,l}var s=function(t){return n.call(this,t,w)},h=e.variable||"obj";return s.source="function("+h+"){\n"+a+"}",s}function hr(t){var e=w(t);return e._chain=!0,e}function lr(t,e){return t._chain?w(e).chain():e}function ur(t){return D(Qt(t),(function(e){var r=w[e]=t[e];w.prototype[e]=function(){var t=[this._wrapped];return s.apply(t,arguments),lr(this,r.apply(w,t))}})),w}D(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=i[t];w.prototype[t]=function(){var r=this._wrapped;return e.apply(r,arguments),"shift"!==t&&"splice"!==t||0!==r.length||delete r[0],lr(this,r)}})),D(["concat","join","slice"],(function(t){var e=i[t];w.prototype[t]=function(){return lr(this,e.apply(this._wrapped,arguments))}})),w.prototype.value=function(){return this._wrapped},w.prototype.valueOf=w.prototype.toJSON=w.prototype.value,w.prototype.toString=function(){return String(this._wrapped)}}.call(this,r("c8ba"))},e88e:function(t,e,r){"use strict";var n=Object.prototype.toString;t.exports=function(t){return"Array"===n.call(t).substr(-6,5)}},e893:function(t,e,r){var n=r("5135"),i=r("56ef"),o=r("06cf"),a=r("9bf2");t.exports=function(t,e){for(var r=i(e),s=a.f,h=o.f,l=0;l<r.length;l++){var u=r[l];n(t,u)||s(t,u,h(e,u))}}},e8b5:function(t,e,r){var n=r("c6b6");t.exports=Array.isArray||function(t){return"Array"==n(t)}},eb55:function(t,e,r){"use strict";const n=Object.prototype.toString;function i(t){return n.call(t).endsWith("Array]")}t.exports=i},eed2:function(t,e,r){var n=r("ca38"),i=r("6a8e");t.exports={encode:n,decode:i}},eeda:function(t,e,r){"use strict";function n(){for(var t,e=[],r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}var i=n();function o(t,e,r,n){var o=i,a=n+r;t^=-1;for(var s=n;s<a;s++)t=t>>>8^o[255&(t^e[s])];return-1^t}t.exports=o},f183:function(t,e,r){var n=r("d012"),i=r("861d"),o=r("5135"),a=r("9bf2").f,s=r("90e3"),h=r("bb2f"),l=s("meta"),u=0,c=Object.isExtensible||function(){return!0},f=function(t){a(t,l,{value:{objectID:"O"+ ++u,weakData:{}}})},d=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,l)){if(!c(t))return"F";if(!e)return"E";f(t)}return t[l].objectID},g=function(t,e){if(!o(t,l)){if(!c(t))return!0;if(!e)return!1;f(t)}return t[l].weakData},p=function(t){return h&&m.REQUIRED&&c(t)&&!o(t,l)&&f(t),t},m=t.exports={REQUIRED:!1,fastKey:d,getWeakData:g,onFreeze:p};n[l]=!0},f1dd:function(t,e,r){(function(t,n){var i;/*! https://mths.be/utf8js v2.1.2 by @mathias */(function(o){var a=e,s=(t&&t.exports,"object"==typeof n&&n);s.global!==s&&s.window;var h,l,u,c=String.fromCharCode;function f(t){var e,r,n=[],i=0,o=t.length;while(i<o)e=t.charCodeAt(i++),e>=55296&&e<=56319&&i<o?(r=t.charCodeAt(i++),56320==(64512&r)?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--)):n.push(e);return n}function d(t){var e,r=t.length,n=-1,i="";while(++n<r)e=t[n],e>65535&&(e-=65536,i+=c(e>>>10&1023|55296),e=56320|1023&e),i+=c(e);return i}function g(t){if(t>=55296&&t<=57343)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function p(t,e){return c(t>>e&63|128)}function m(t){if(0==(4294967168&t))return c(t);var e="";return 0==(4294965248&t)?e=c(t>>6&31|192):0==(4294901760&t)?(g(t),e=c(t>>12&15|224),e+=p(t,6)):0==(4292870144&t)&&(e=c(t>>18&7|240),e+=p(t,12),e+=p(t,6)),e+=c(63&t|128),e}function w(t){var e,r=f(t),n=r.length,i=-1,o="";while(++i<n)e=r[i],o+=m(e);return o}function y(){if(u>=l)throw Error("Invalid byte index");var t=255&h[u];if(u++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function b(){var t,e,r,n,i;if(u>l)throw Error("Invalid byte index");if(u==l)return!1;if(t=255&h[u],u++,0==(128&t))return t;if(192==(224&t)){if(e=y(),i=(31&t)<<6|e,i>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&t)){if(e=y(),r=y(),i=(15&t)<<12|e<<6|r,i>=2048)return g(i),i;throw Error("Invalid continuation byte")}if(240==(248&t)&&(e=y(),r=y(),n=y(),i=(7&t)<<18|e<<12|r<<6|n,i>=65536&&i<=1114111))return i;throw Error("Invalid UTF-8 detected")}function v(t){h=f(t),l=h.length,u=0;var e,r=[];while(!1!==(e=b()))r.push(e);return d(r)}var x={version:"2.1.2",encode:w,decode:v};i=function(){return x}.call(e,r,e,t),void 0===i||(t.exports=i)})()}).call(this,r("62e4")(t),r("c8ba"))},f5df:function(t,e,r){var n=r("00ee"),i=r("c6b6"),o=r("b622"),a=o("toStringTag"),s="Arguments"==i(function(){return arguments}()),h=function(t,e){try{return t[e]}catch(r){}};t.exports=n?i:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=h(e=Object(t),a))?r:s?i(e):"Object"==(n=i(e))&&"function"==typeof e.callee?"Arguments":n}},f632:function(t,e,r){"use strict";const n=r("9177"),i=r("5788");function o(t){const e=new n(t),r={};e.setBigEndian();const o=e.readUint16();if(65496!==o)throw new Error("SOI marker not found. Not a valid JPEG file");const a=e.readUint16();if(65505===a){e.readUint16();const t=e.readBytes(6);if(69===t[0]&&120===t[1]&&105===t[2]&&102===t[3]&&0===t[4]&&0===t[5]){const t=i.decode(e,{onlyFirst:!0,ignoreImageData:!0,offset:e.offset});r.exif=t}}return r}t.exports=o},f772:function(t,e,r){var n=r("5692"),i=r("90e3"),o=n("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},f8ae:function(t,e,r){"use strict";e.decode=r("f632")},fb15:function(t,e,r){"use strict";r.r(e);var n={};r.r(n),r.d(n,"GREY",(function(){return He})),r.d(n,"RGB",(function(){return qe})),r.d(n,"HSL",(function(){return We})),r.d(n,"HSV",(function(){return Ze})),r.d(n,"CMYK",(function(){return Ke}));var i={};r.r(i),r.d(i,"tagsById",(function(){return Er})),r.d(i,"tagsByName",(function(){return Sr}));var o={};r.r(o),r.d(o,"tagsById",(function(){return Tr})),r.d(o,"tagsByName",(function(){return Pr}));var a={};if(r.r(a),r.d(a,"tagsById",(function(){return Ir})),r.d(a,"tagsByName",(function(){return Dr})),"undefined"!==typeof window){var s=window.document.currentScript,h=r("8875");s=h(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:h});var l=s&&s.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);l&&(r.p=l[1])}r("4160"),r("b0c0"),r("159b"),r("a4d3"),r("4de4"),r("e439"),r("dbb4"),r("b64b");function u(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){u(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var d=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"t-layout",class:{"t-drag":t.footerOption.mousedown,"t-border":t.border,"t-overflow":t.lockSize},on:{mouseup:t.handleLayoutMouseup,mousemove:t.handleLayoutMousemove}},[t.headerCenter?r("div",{ref:"header",staticClass:"t-layout-header",class:t.headerClass,style:t.layoutHeaderHeigth},[t._t("header")],2):t._e(),t.$slots.left?r("div",{staticClass:"t-layout-left",style:t.layoutLeftWidth},[t._t("left"),t.leftStrip?r("div",{staticClass:"t-control-strip"}):t._e()],2):t._e(),t.$slots.default?r("div",{staticClass:"t-layout-body",style:t.layoutBodyStyle},[t._t("default")],2):t._e(),t.$slots.right?r("div",{staticClass:"t-layout-right",style:t.layoutRightWidth},[t._t("right"),t.rightStrip?r("div",{staticClass:"t-control-strip"}):t._e()],2):t._e(),t.$slots.footer?r("div",{staticClass:"t-layout-footer",class:{"t-control":t.footerStrip,"t-selected":t.footerOption.mousedown},style:t.layoutFooterHeigth},[t._t("footer"),t.footerStrip?r("div",{staticClass:"t-control-strip",on:{mousedown:t.handleFooterStripMousedown}}):t._e()],2):t._e()])},g=[],p=(r("99af"),r("c975"),r("a9e3"),r("d3b7"),r("25f0"),Object.prototype.toString);function m(t){return"[object Number]"===p.call(t)}r("ac1f"),r("466d");function w(t){if(null==t)throw new TypeError("styleValueToInt value：值为空");var e=t.match(/^[0-9]+/);if(!e||!e[0])throw new TypeError("styleValueToInt value：类型不符合；当前的值:".concat(t));return parseInt(t.match(/^[0-9]+/)[0])}var y={name:"TLayout",props:{border:{type:Boolean,default:!1},lockSize:{type:Boolean,default:!1},header:{type:[String,Number],default:50},headerClass:{type:String,default:""},headerAuto:{type:Boolean,default:!1},left:{type:[String,Number],default:300},leftStrip:{type:Boolean,default:!1},right:{type:[String,Number],default:300},rightStrip:{type:Boolean,default:!1},footer:{type:[String,Number],default:40},footerStrip:{type:Boolean,default:!1}},data:function(){return{hasLockSize:!1,headerHeight:0,layoutSize:{left:JSON.parse(this.left),right:JSON.parse(this.right),header:JSON.parse(this.header),footer:JSON.parse(this.footer)},footerOption:{mousedown:!1,mousePoint:null,offset:0}}},computed:{headerCenter:function(){var t=this;return this.$nextTick((function(){t.headerAuto&&(t.headerHeight=t.$refs.header.offsetHeight||0)})),this.$slots.header},layoutLeftWidth:function(){var t=this.layoutLeftOfRightPanelHeight(),e=this.layoutPanelSize("left");return this.$slots.left&&(t.width=e),t},layoutRightWidth:function(){var t=this.layoutLeftOfRightPanelHeight(),e=this.layoutPanelSize("right");return this.$slots.right&&(t.width=e),t},layoutHeaderHeigth:function(){var t={};if(this.headerAuto)return t;var e=this.layoutPanelSize("header");return this.$slots.header&&(t.height=e),t},layoutFooterHeigth:function(){var t={},e=this.layoutPanelSize("footer"),r=w(e),n=this.footerOption.offset;return this.$slots.footer&&(t.height=0!==n?r+n+"px":e),t},layoutBodyStyle:function(){var t=this.layoutBodyWidth();return this.layoutBodyHeight(t)}},watch:{hasLockSize:function(t){var e=this;!0===t&&setTimeout((function(){e.$listeners["update:lock-size"]&&e.$emit("update:lock-size",!1)}),1e3)},lockSize:function(t){this.hasLockSize=t},left:function(t){this.layoutSize.left=JSON.parse(t)},right:function(t){this.layoutSize.right=JSON.parse(t)},header:function(t){this.layoutSize.header=JSON.parse(t)},footer:function(t){this.layoutSize.footer=JSON.parse(t)},"layoutSize.left":function(t){this.$listeners["update:left-widht"]&&this.$emit("update:left-width",t)},"layoutSize.right":function(t){this.$listeners["update:right-widht"]&&this.$emit("update:right-width",t)},"layoutSize.header":function(t){this.$listeners["update:header-widht"]&&this.$emit("update:header-width",t)},"layoutSize.footer":function(t){this.$listeners["update:footer-widht"]&&this.$emit("update:footer-width",t)}},mounted:function(){var t=this;this.$nextTick((function(){t.headerAuto&&(t.headerHeight=t.$refs.header.offsetHeight||0,window.onresize=function(){t.headerHeight=t.$refs.header.offsetHeight||0})}))},methods:{handleLayoutMousemove:function(){var t=event,e=t.y;if(this.$slots.footer){var r=this.footerOption,n=r.mousedown,i=r.mousePoint;n&&(this.footerOption.offset=i-e)}},handleLayoutMouseup:function(){if(this.$slots.footer&&this.footerOption.mousedown){if(0!==this.footerOption.offset){var t=this.layoutPanelSize("footer"),e=w(t);this.layoutSize.footer=e+this.footerOption.offset+"px"}this.footerOption.offset=0,this.footerOption.mousedown=!1,this.footerOption.mousePoint=null}},handleFooterStripMousedown:function(){this.footerOption.mousedown=!0,this.footerOption.mousePoint=event.y},layoutPanelSize:function(t){return m(this.layoutSize[t])?this.layoutSize[t]+"px":this.layoutSize[t]},layoutLeftOfRightPanelHeight:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.layoutPanelSize("header");this.headerAuto&&(e="".concat(this.headerHeight,"px"));var r=this.layoutPanelSize("footer"),n=w(r),i=this.footerOption.offset,o=0!==i?n+i+"px":r;return this.$slots.header&&this.$slots.footer?t.height="calc(100% - (".concat(t.top=e," + ").concat(o,"))"):this.$slots.header?t.height="calc(100% - ".concat(t.top=e,")"):this.$slots.footer&&(t.height="calc(100% - ".concat(o,")")),t},layoutBodyWidth:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.layoutPanelSize("left"),r=this.layoutPanelSize("right"),n=w(e),i=w(r);return this.$slots.left&&this.$slots.right?(n>0&&(t.marginLeft=e),i>0&&(t.marginRight=r),(n>0||i>0)&&(t.width="calc(100% - (".concat(e," + ").concat(r,"))"))):this.$slots.left&&n>0?(t.marginLeft=e,t.width="calc(100% - ".concat(e,")")):this.$slots.right&&i>0&&(t.marginRight=r,t.width="calc(100% - ".concat(r,")")),t},layoutBodyHeight:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.layoutPanelSize("header");this.headerAuto&&(e="".concat(this.headerHeight,"px"));var r=this.layoutPanelSize("footer"),n=w(e),i=w(r),o=this.footerOption.offset,a=0!==o?i+o+"px":r,s=n>0||i>0;return this.$slots.header&&this.$slots.footer&&s?t.height="calc(100% - (".concat(e," + ").concat(a,"))"):this.$slots.header&&n>0?t.height="calc(100% - ".concat(e,")"):this.$slots.footer&&i>0&&(t.height="calc(100% - ".concat(a,")")),t},layoutSlotBody:function(){var t=this.$slots.default,e=["t-layout","t-tabs-panel"];1===t.length&&e.indexOf(t[0].elm.className)},regStyleValue:function(t){var e=/^[0-9]+px$/,r=/^[0-9]+$/;return r.test(t)?"".concat(t,"px"):e.test(t)?t:""}},render:function(t){var e=t("div",{class:["t-layout-header",this.headerClass],style:this.layoutHeaderHeigth,ref:"header"},[this.$slots.header]),r=t("div",{class:["t-layout-left"],style:this.layoutLeftWidth},[this.$slots.left,this.leftStrip&&t("div",{class:"t-control-strip"})]),n=t("div",{class:["t-layout-right"],style:this.layoutLeftWidth},[this.$slots.right,this.rightStrip&&t("div",{class:"t-control-strip"})]),i=t("div",{class:{"t-layout-footer":!0,"t-control":this.footerStrip,"t-selected":this.footerOption.mousedown},style:this.layoutFooterHeigth},[this.$slots.footer,this.footerStrip&&t("div",{class:"t-control-strip",on:{mousedown:this.handleFooterStripMousedown}})]),o=t("div",{class:["t-layout-body"],style:layoutBodyStyle},[this.$slots.default]);reutrn(t("div",{class:{"t-layout":!0,"t-border":this.border,"t-drag":this.footerOption.mousedown},on:{mouseup:this.handleLayoutMouseup,mousemove:this.handleLayoutMousemove}},[this.headerCenter&&e,this.$slots.left&&r,this.$slots.default&&o,this.$slots.right&&n,this.$slots.footer&&i]))}},b=y;function v(t,e,r,n,i,o,a,s){var h,l="function"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=r,l._compiled=!0),n&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),a?(h=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},l._ssrRegister=h):i&&(h=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),h)if(l.functional){l._injectStyles=h;var u=l.render;l.render=function(t,e){return h.call(e),u(t,e)}}else{var c=l.beforeCreate;l.beforeCreate=c?[].concat(c,h):[h]}return{exports:t,options:l}}var x=v(b,d,g,!1,null,null,null),_=x.exports;_.install=function(t){t.component(_.name,_)};var M=_,k=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"t-grid-layout"},[t.$slots.default?[t._t("default")]:t._e()],2)},A=[],E=100/3,S=100/3*2,T=25,P=20,I=60,D=80,C=[{width:50,height:100,marginType:1,col:2},{width:50,height:100,marginType:0,col:2}],R=[{width:100,height:S,marginType:2,row:2},{width:50,height:E,marginType:1,row:2,col:2},{width:50,height:E,marginType:0,row:2,col:2}],B=[{width:100,height:S,marginType:2,row:2},{width:25,height:E,marginType:1,row:2,col:4},{width:25,height:E,marginType:1,row:2,col:4},{width:25,height:E,marginType:1,row:2,col:4},{width:25,height:E,marginType:0,row:2,col:4}],O=[{width:S,height:S,marginType:3,row:2,col:2},{width:E,height:E,marginType:2,row:3,col:2},{width:E,height:E,marginType:2,row:3,col:2},{width:E,height:E,marginType:1,row:2,col:3},{width:E,height:E,marginType:1,row:2,col:3},{width:E,height:E,marginType:0,row:3,col:3}],L=[{width:50,height:S,marginType:3,row:2,col:2},{width:50,height:S,marginType:2,row:2,col:2},{width:20,height:E,marginType:1,row:2,col:5},{width:20,height:E,marginType:1,row:2,col:5},{width:20,height:E,marginType:1,row:2,col:5},{width:20,height:E,marginType:1,row:2,col:5},{width:20,height:E,marginType:0,row:2,col:5}],U=[{width:50,height:S,marginType:3,row:2,col:3},{width:T,height:E,marginType:3,row:3,col:3},{width:T,height:E,marginType:2,row:3,col:3},{width:T,height:E,marginType:3,row:3,col:3},{width:T,height:E,marginType:2,row:3,col:3},{width:E,height:E,marginType:1,row:2,col:3},{width:E,height:E,marginType:1,row:2,col:3},{width:E,height:E,marginType:0,row:2,col:3}],N=[{width:D,height:D,marginType:3,row:2,col:2},{width:P,height:P,marginType:2,row:8,col:2},{width:P,height:P,marginType:2,row:8,col:2},{width:P,height:P,marginType:2,row:8,col:2},{width:P,height:P,marginType:2,row:8,col:2},{width:P,height:P,marginType:1,row:2,col:8},{width:P,height:P,marginType:1,row:2,col:8},{width:P,height:P,marginType:1,row:2,col:8},{width:P,height:P,marginType:1,row:2,col:8},{width:P,height:P,marginType:0,row:2,col:2}],z=[{width:I,height:100,marginType:1,row:1,col:3},{width:P,height:P,marginType:3,row:5,col:3},{width:P,height:P,marginType:2,row:5,col:3},{width:P,height:P,marginType:3,row:5,col:3},{width:P,height:P,marginType:2,row:5,col:3},{width:P,height:P,marginType:3,row:5,col:3},{width:P,height:P,marginType:2,row:5,col:3},{width:P,height:P,marginType:3,row:5,col:3},{width:P,height:P,marginType:2,row:5,col:3},{width:P,height:P,marginType:1,row:5,col:3},{width:P,height:P,marginType:0,row:5,col:3}],F=[{width:50,height:I,marginType:3,row:3,col:2},{width:50,height:I,marginType:2,row:3,col:2},{width:P,height:P,marginType:3,row:3,col:5},{width:P,height:P,marginType:3,row:3,col:5},{width:P,height:P,marginType:3,row:3,col:5},{width:P,height:P,marginType:3,row:3,col:5},{width:P,height:P,marginType:2,row:3,col:5},{width:P,height:P,marginType:1,row:3,col:5},{width:P,height:P,marginType:1,row:3,col:5},{width:P,height:P,marginType:1,row:3,col:5},{width:P,height:P,marginType:1,row:3,col:5},{width:P,height:P,marginType:0,row:3,col:5}],j=[{width:E,height:I,marginType:3,row:3,col:3},{width:E,height:I,marginType:3,row:3,col:3},{width:E,height:I,marginType:2,row:3,col:3},{width:P,height:P,marginType:3,row:3,col:5},{width:P,height:P,marginType:3,row:3,col:5},{width:P,height:P,marginType:3,row:3,col:5},{width:P,height:P,marginType:3,row:3,col:5},{width:P,height:P,marginType:2,row:3,col:5},{width:P,height:P,marginType:1,row:3,col:5},{width:P,height:P,marginType:1,row:3,col:5},{width:P,height:P,marginType:1,row:3,col:5},{width:P,height:P,marginType:1,row:3,col:5},{width:P,height:P,marginType:0,row:3,col:5}],Y=[{width:2*P,height:I,marginType:3,row:3,col:3},{width:2*P,height:I,marginType:3,row:3,col:3},{width:P,height:I/2,marginType:2,row:6,col:3},{width:P,height:I/2,marginType:2,row:6,col:3},{width:P,height:P,marginType:3,row:3,col:5},{width:P,height:P,marginType:3,row:3,col:5},{width:P,height:P,marginType:3,row:3,col:5},{width:P,height:P,marginType:3,row:3,col:5},{width:P,height:P,marginType:2,row:5,col:5},{width:P,height:P,marginType:1,row:3,col:5},{width:P,height:P,marginType:1,row:3,col:5},{width:P,height:P,marginType:1,row:3,col:5},{width:P,height:P,marginType:1,row:3,col:5},{width:P,height:P,marginType:0,row:5,col:5}],V=[{width:I,height:2*T,marginType:3,row:3,col:3},{width:P,height:T,marginType:3,row:5,col:3},{width:P,height:T,marginType:2,row:5,col:3},{width:P,height:T,marginType:3,row:5,col:3},{width:P,height:T,marginType:2,row:5,col:3},{width:P,height:T,marginType:3,row:3,col:9},{width:P,height:T,marginType:3,row:3,col:9},{width:P,height:T,marginType:3,row:3,col:9},{width:P,height:T,marginType:3,row:3,col:3},{width:P,height:T,marginType:2,row:3,col:3},{width:P,height:T,marginType:1,row:3,col:9},{width:P,height:T,marginType:1,row:3,col:9},{width:P,height:T,marginType:1,row:4,col:9},{width:P,height:T,marginType:1,row:4,col:3},{width:P,height:T,marginType:0,row:4,col:3}],X=[{width:I,height:I,marginType:3,row:3,col:3},{width:P,height:P,marginType:3,row:8,col:3},{width:P,height:P,marginType:2,row:8,col:3},{width:P,height:P,marginType:3,row:8,col:3},{width:P,height:P,marginType:2,row:8,col:3},{width:P,height:P,marginType:3,row:8,col:3},{width:P,height:P,marginType:2,row:8,col:3},{width:P,height:P,marginType:3,row:3,col:9},{width:P,height:P,marginType:3,row:3,col:9},{width:P,height:P,marginType:3,row:3,col:9},{width:P,height:P,marginType:3,row:3,col:3},{width:P,height:P,marginType:2,row:3,col:3},{width:P,height:P,marginType:1,row:3,col:9},{width:P,height:P,marginType:1,row:3,col:9},{width:P,height:P,marginType:1,row:4,col:9},{width:P,height:P,marginType:1,row:4,col:3},{width:P,height:P,marginType:0,row:4,col:3}],$=[{width:D,height:2*P,marginType:3,row:4,col:2},{width:P,height:P,marginType:2,row:8,col:3},{width:P,height:P,marginType:2,row:8,col:3},{width:P,height:P,marginType:3,row:4,col:8},{width:P,height:P,marginType:3,row:4,col:8},{width:P,height:P,marginType:3,row:4,col:8},{width:P,height:P,marginType:3,row:4,col:8},{width:P,height:P,marginType:2,row:4,col:3},{width:P,height:P,marginType:3,row:4,col:8},{width:P,height:P,marginType:3,row:4,col:8},{width:P,height:P,marginType:3,row:4,col:8},{width:P,height:P,marginType:3,row:4,col:8},{width:P,height:P,marginType:2,row:4,col:3},{width:P,height:P,marginType:1,row:4,col:8},{width:P,height:P,marginType:1,row:4,col:8},{width:P,height:P,marginType:1,row:4,col:8},{width:P,height:P,marginType:1,row:4,col:8},{width:P,height:P,marginType:0,row:5,col:3}],G=[{width:2*P,height:2*P,marginType:3,row:3,col:3},{width:2*P,height:2*P,marginType:3,row:3,col:3},{width:P,height:P,marginType:2,row:5,col:3},{width:P,height:P,marginType:2,row:5,col:3},{width:P,height:P,marginType:3,row:4,col:8},{width:P,height:P,marginType:3,row:4,col:8},{width:P,height:P,marginType:3,row:4,col:8},{width:P,height:P,marginType:3,row:4,col:8},{width:P,height:P,marginType:2,row:4,col:3},{width:P,height:P,marginType:3,row:4,col:8},{width:P,height:P,marginType:3,row:4,col:8},{width:P,height:P,marginType:3,row:4,col:8},{width:P,height:P,marginType:3,row:4,col:8},{width:P,height:P,marginType:2,row:4,col:3},{width:P,height:P,marginType:1,row:4,col:8},{width:P,height:P,marginType:1,row:4,col:8},{width:P,height:P,marginType:1,row:4,col:8},{width:P,height:P,marginType:1,row:4,col:8},{width:P,height:P,marginType:0,row:5,col:3}],H=[{width:I,height:2*P,marginType:3,row:3,col:3},{width:P,height:P,marginType:3,row:5,col:3},{width:P,height:P,marginType:2,row:5,col:3},{width:P,height:P,marginType:3,row:5,col:3},{width:P,height:P,marginType:2,row:5,col:3},{width:P,height:P,marginType:3,row:4,col:8},{width:P,height:P,marginType:3,row:4,col:8},{width:P,height:P,marginType:3,row:4,col:8},{width:P,height:P,marginType:3,row:4,col:8},{width:P,height:P,marginType:2,row:4,col:3},{width:P,height:P,marginType:3,row:4,col:8},{width:P,height:P,marginType:3,row:4,col:8},{width:P,height:P,marginType:3,row:4,col:8},{width:P,height:P,marginType:3,row:4,col:8},{width:P,height:P,marginType:2,row:4,col:3},{width:P,height:P,marginType:1,row:4,col:8},{width:P,height:P,marginType:1,row:4,col:8},{width:P,height:P,marginType:1,row:4,col:8},{width:P,height:P,marginType:1,row:4,col:8},{width:P,height:P,marginType:0,row:5,col:3}],q=[{width:2*P,height:2*P,marginType:3,row:3,col:4},{width:P,height:2*P,marginType:3,row:3,col:4},{width:P,height:P,marginType:3,row:5,col:4},{width:P,height:P,marginType:2,row:5,col:4},{width:P,height:P,marginType:3,row:6,col:4},{width:P,height:P,marginType:2,row:6,col:4},{width:P,height:P,marginType:3,row:6,col:5},{width:P,height:P,marginType:3,row:6,col:5},{width:P,height:P,marginType:3,row:6,col:5},{width:P,height:P,marginType:3,row:6,col:5},{width:P,height:P,marginType:2,row:6,col:5},{width:P,height:P,marginType:3,row:6,col:5},{width:P,height:P,marginType:3,row:6,col:5},{width:P,height:P,marginType:3,row:6,col:5},{width:P,height:P,marginType:3,row:6,col:5},{width:P,height:P,marginType:2,row:6,col:5},{width:P,height:P,marginType:1,row:6,col:5},{width:P,height:P,marginType:1,row:6,col:5},{width:P,height:P,marginType:1,row:6,col:5},{width:P,height:P,marginType:1,row:6,col:5},{width:P,height:P,marginType:0,row:6,col:5}],W=[{width:2*P,height:2*P,marginType:3,row:3,col:4},{width:P,height:P,marginType:3,row:5,col:4},{width:P,height:P,marginType:3,row:5,col:4},{width:P,height:P,marginType:2,row:5,col:4},{width:P,height:P,marginType:3,row:5,col:4},{width:P,height:P,marginType:3,row:5,col:4},{width:P,height:P,marginType:2,row:5,col:4},{width:P,height:P,marginType:3,row:4,col:8},{width:P,height:P,marginType:3,row:4,col:8},{width:P,height:P,marginType:3,row:4,col:8},{width:P,height:P,marginType:3,row:4,col:8},{width:P,height:P,marginType:2,row:4,col:3},{width:P,height:P,marginType:3,row:4,col:8},{width:P,height:P,marginType:3,row:4,col:8},{width:P,height:P,marginType:3,row:4,col:8},{width:P,height:P,marginType:3,row:4,col:8},{width:P,height:P,marginType:2,row:4,col:3},{width:P,height:P,marginType:1,row:4,col:8},{width:P,height:P,marginType:1,row:4,col:8},{width:P,height:P,marginType:1,row:4,col:8},{width:P,height:P,marginType:1,row:4,col:8},{width:P,height:P,marginType:0,row:5,col:3}],Z=[{width:P,height:3*P,marginType:3,row:3,col:5},{width:P,height:P,marginType:3,row:5,col:5},{width:P,height:P,marginType:3,row:5,col:5},{width:P,height:P,marginType:3,row:5,col:5},{width:P,height:P,marginType:2,row:5,col:5},{width:P,height:P,marginType:3,row:5,col:5},{width:P,height:P,marginType:3,row:5,col:5},{width:P,height:P,marginType:3,row:5,col:5},{width:P,height:P,marginType:2,row:5,col:5},{width:P,height:P,marginType:3,row:4,col:8},{width:P,height:P,marginType:3,row:4,col:8},{width:P,height:P,marginType:3,row:4,col:8},{width:P,height:P,marginType:2,row:4,col:3},{width:P,height:P,marginType:3,row:4,col:8},{width:P,height:P,marginType:3,row:4,col:8},{width:P,height:P,marginType:3,row:4,col:8},{width:P,height:P,marginType:3,row:4,col:8},{width:P,height:P,marginType:2,row:4,col:3},{width:P,height:P,marginType:1,row:4,col:8},{width:P,height:P,marginType:1,row:4,col:8},{width:P,height:P,marginType:1,row:4,col:8},{width:P,height:P,marginType:1,row:4,col:8},{width:P,height:P,marginType:0,row:5,col:3}],K=[{width:P,height:2*P,marginType:3,row:3,col:5},{width:P,height:P,marginType:3,row:5,col:5},{width:P,height:P,marginType:3,row:5,col:5},{width:P,height:P,marginType:3,row:5,col:5},{width:P,height:P,marginType:2,row:5,col:5},{width:P,height:P,marginType:3,row:5,col:5},{width:P,height:P,marginType:3,row:5,col:5},{width:P,height:P,marginType:3,row:5,col:5},{width:P,height:P,marginType:2,row:5,col:5},{width:P,height:P,marginType:3,row:4,col:8},{width:P,height:P,marginType:3,row:4,col:8},{width:P,height:P,marginType:3,row:4,col:8},{width:P,height:P,marginType:3,row:4,col:8},{width:P,height:P,marginType:2,row:4,col:3},{width:P,height:P,marginType:3,row:4,col:8},{width:P,height:P,marginType:3,row:4,col:8},{width:P,height:P,marginType:3,row:4,col:8},{width:P,height:P,marginType:3,row:4,col:8},{width:P,height:P,marginType:2,row:4,col:3},{width:P,height:P,marginType:1,row:4,col:8},{width:P,height:P,marginType:1,row:4,col:8},{width:P,height:P,marginType:1,row:4,col:8},{width:P,height:P,marginType:1,row:4,col:8},{width:P,height:P,marginType:0,row:5,col:3}];function J(t){return 2===t?C:3===t?R:5===t?B:6===t?O:7===t?L:8===t?U:10===t?N:11===t?z:12===t?F:13===t?j:14===t?Y:15===t?V:17===t?X:18===t?$:19===t?G:20===t?H:21===t?q:22===t?W:23===t?Z:24===t?K:[]}var Q={name:"TGridLayout",props:{margin:{type:[Number,String],default:0}},data:function(){return{equalType:[1,4,9,16,25]}},computed:{},watch:{margin:function(){var t=this;this.$nextTick((function(){t.initPanelInfo()}))}},mounted:function(){var t=this;this.$nextTick((function(){t.initPanelInfo()}))},methods:{initPanelInfo:function(){var t=this,e=this.$slots.default;e&&e.length>0&&(this.equalType.indexOf(e.length)>=0?this.$slots.default.forEach((function(r,n){var i=t.equalType.indexOf(e.length)+1;t.equalPanleStyle(r.elm,i,n)})):e.length>25?this.$slots.default.forEach((function(r,n){t.irregularPanleStyle(r.elm,n,t.$slots.default),r.elm.style.width="100%";var i=m(t.margin),o=i&&t.margin||parseInt(t.margin)||0;o>0&&e.length>n+1&&(r.elm.style.marginBottom="".concat(o,"px"))})):this.$slots.default.forEach((function(e,r){t.irregularPanleStyle(e.elm,r,t.$slots.default)})))},equalPanleStyle:function(t,e,r){var n=m(this.margin),i=n&&this.margin||parseInt(this.margin)||0;if(i>0){var o=(e-1)*i/e;t.style.width="calc(".concat(100/e,"% - ").concat(o,"px)"),t.style.height="calc(".concat(100/e,"% - ").concat(o,"px)"),(r+1)%e!==0&&(t.style.marginRight="".concat(i,"px")),e*e-e>r&&(t.style.marginBottom="".concat(i,"px"))}else t.style.width="".concat(100/e,"%"),t.style.height="".concat(100/e,"%")},irregularPanleStyle:function(t,e,r){var n=m(this.margin),i=n&&this.margin||parseInt(this.margin)||0,o=J(r.length)[e]||{};if(o!=={}&&(t.style.width="".concat(o.width,"%"),t.style.height="".concat(o.height,"%"),i>0)){if(o.col>1){var a=i/o.col*(o.col-1);t.style.width="calc(".concat(o.width,"% - ").concat(a,"px)"),1!==o.marginType&&3!==o.marginType||(t.style.marginRight="".concat(i,"px"))}if(o.row>1){var s=i/o.row*(o.row-1);t.style.height="calc(".concat(o.height,"% - ").concat(s,"px)"),2!==o.marginType&&3!==o.marginType||(t.style.marginBottom="".concat(i,"px"))}}}}},tt=Q,et=v(tt,k,A,!1,null,null,null),rt=et.exports;rt.install=function(t){t.component(rt.name,rt)};var nt=rt,it=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"t-table-panel"},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"},{name:"scrollbar",rawName:"v-scrollbar:table",value:t.scrollbar,expression:"scrollbar",arg:"table"}],staticClass:"t-table ",class:{"t-scrollbar":t.scrollbar},style:{height:t.tableHeight},attrs:{data:t.filterTableList,"max-height":t.maxHeigh,stripe:t.stripe,border:t.border,"highlight-current-row":t.highlightCurrentRow,"row-class-name":t.rowClassName,"default-expand-all":t.defaultExpandAll,"tooltip-effect":t.tooltipEffect,"show-summary":t.showSummary,"sum-text":t.sumText,"summary-method":t.summaryMethod,"span-method":t.spanMethod,lazy:t.lazy,load:t.load,"tree-props":t.treeProps,size:"small"},on:{select:t.handleSelect,"select-all":t.handleSelectAll,"selection-change":t.handleSelectionChange,"row-click":t.handleRowClick,"row-contextmenu":t.handleRowContextmenu,"row-dblclick":t.handleRowDblclick,"header-click":t.handleHeaderClick,"header-contextmenu":t.handleHeaderContextmenu,"header-dragend":t.handleHeaderDragend}},[t._t("default")],2),r("el-pagination",{attrs:{background:"",layout:"prev, pager, next, jumper, ->, total",total:t.getPageTotal,"page-size":t.getPageSize,"current-page":t.currentPage,"prev-text":t.prevText,"next-text":t.nextText,disabled:t.pageDisabled,"hide-on-single-page":""},on:{"current-change":t.handlePaginationCurrentChange}})],1)},ot=[],at=(r("dca8"),r("e609")),st=Object(at["mixin"])(at);st._=st;var ht=st,lt={name:"TTablePage",props:{loading:{type:Boolean,default:!1},scrollbar:{type:Boolean,default:!0},data:Array,maxHeigh:{type:[String,Number]},stripe:{type:Boolean,default:!0},border:{type:Boolean,default:!0},highlightCurrentRow:{type:Boolean,default:!1},rowClassName:{type:[Function,String]},defaultExpandAll:{type:Boolean,default:!1},tooltipEffect:{type:String},showSummary:{type:Boolean,default:!1},sumText:{type:String,default:"合计"},summaryMethod:Function,spanMethod:Function,lazy:Boolean,load:Function,treeProps:Object,hasFreeze:{type:Boolean,default:!0},pageSize:Number,pageDisabled:{type:Boolean,default:!1},realTimePage:{type:Number,default:1},pageTotal:Number,prevText:String,nextText:String},data:function(){return{currentPage:1,pageStandard:500}},computed:{tableHeight:function(){return this.getPageTotal/this.getPageSize>1?"calc(100% - 42px)":"100%"},filterTableList:function(){var t=this.pageTotal,e=this.pageStandard,r=this.data||[],n=!i&&r.length>=e,i=this.getPageSize;if(n||i&&!t){var o=this.currentPage,a=o-1;return ht.filter(r,(function(t,e){return e>=a*i&&e<o*i}))}return this.hasFreeze&&r.length>100?Object.freeze(r):r},getPageTotal:function(){var t=this.data||[];return this.pageTotal||t.length},getPageSize:function(){var t=this.pageTotal,e=this.pageSize,r=this.pageStandard;return t&&!e?r:e||10}},watch:{loading:function(t){var e=!0===t||!1===t;e&&void 0===this.pageTotal&&(this.currentPage=1)},currentPage:function(t){this.$listeners["update:real-time-page"]&&this.$emit("update:real-time-page",t)},realTimePage:function(t){this.currentPage=t}},methods:{handleSelect:function(t,e){this.$listeners["select"]&&this.$emit("select",t,e)},handleSelectAll:function(t){this.$listeners["select-all"]&&this.$emit("select-all",t)},handleSelectionChange:function(t){this.$listeners["selection-change"]&&this.$emit("selection-change",t)},handleRowClick:function(t,e,r){this.$listeners["row-click"]&&this.$emit("row-click",t,e,r)},handleRowContextmenu:function(t,e,r){this.$listeners["row-contextmenu"]&&this.$emit("row-contextmenu",t,e,r)},handleRowDblclick:function(t,e,r){this.$listeners["row-dblclick"]&&this.$emit("row-dblclick",t,e,r)},handleHeaderClick:function(t,e){this.$listeners["header-click"]&&this.$emit("header-click",t,e)},handleHeaderContextmenu:function(t,e){this.$listeners["header-contextmenu"]&&this.$emit("header-contextmenu",t,e)},handleHeaderDragend:function(t,e,r,n){this.$listeners["header-dragend"]&&this.$emit("header-dragend",t,e,r,n)},handlePaginationCurrentChange:function(t){this.currentPage=t,this.pageTotal&&this.$listeners["current-change"]&&this.$emit("current-change",{currentPage:t,pageSize:this.getPageSize})}}},ut=lt,ct=v(ut,it,ot,!1,null,null,null),ft=ct.exports;ft.install=function(t){t.component(ft.name,ft)};var dt=ft,gt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-form",{staticClass:"t-query-bar",attrs:{model:t.model,size:t.size,inline:t.hasInline}},[t._t("default")],2)},pt=[],mt={name:"TQueryBar",props:{type:String,model:Object,size:{type:String,default:"small"}},computed:{hasInline:function(){return"search"!==this.type}}},wt=mt,yt=v(wt,gt,pt,!1,null,null,null),bt=yt.exports;bt.install=function(t){t.component(bt.name,bt)};var vt=bt,xt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"scrollbar",rawName:"v-scrollbar"}],staticClass:"t-query-panel"},[t.$slots.querybar?r("t-query-bar",{ref:"querybar",staticClass:"t-query-box",attrs:{model:t.model,type:t.type}},[t._t("querybar")],2):t._e(),t.$slots.default?r("div",{ref:"wrapper",staticClass:"t-query-wrapper"},[t._t("default")],2):t._e(),t.$slots.footer?r("div",{ref:"footer",staticClass:"t-query-footer"},[t._t("footer")],2):t._e()],1)},_t=[],Mt={name:"TQueryPanel",data:function(){return{}},props:{type:String,model:Object,footer:{type:[String,Number]},minHeight:{type:[String,Number]}},mounted:function(){var t=this;this.$nextTick((function(){t.setQueryFooterHeight(),t.setQueryWapperMinHeight(),t.setQueryWapperHeight(),window.addEventListener("resize",(function(){return t.setQueryWapperHeight()}))}))},computed:{hasMinHeight:function(){return!!this.regStyleValue(this.minHeight)}},methods:{setQueryWapperHeight:function(){var t=this.$refs.wrapper;if(this.$refs.querybar){var e=this.$refs.querybar.$el.offsetHeight;if(this.$slots.footer){var r=this.$refs.footer.offsetHeight,n=e+r;t.style.height="calc(100% - ".concat(n,"px)")}else t.style.height="calc(100% - ".concat(e,"px)")}else t.style.height="100%"},setQueryWapperMinHeight:function(){var t=this.$refs.wrapper,e=this.regStyleValue(this.minHeight);e&&(t.style.minHeight=e)},setQueryFooterHeight:function(){if(!this.$slots.footer)return!1;var t=this.$refs.footer,e=this.regStyleValue(this.footer);e&&(t.style.height=e)},regStyleValue:function(t){var e=/^[0-9]+px|em|rem|%$/,r=/^[0-9]+$/;return r.test(t)?"".concat(t,"px"):e.test(t)?t:""}}},kt=Mt,At=v(kt,xt,_t,!1,null,null,null),Et=At.exports;Et.install=function(t){t.component(Et.name,Et)};var St=Et,Tt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"dragPanel",staticClass:"t-drag-picture",class:[{border:t.border}],on:{mousemove:t.handleImageMousemove,mouseout:t.handleImageMouseout,mousewheel:t.handleImageMounseScroll}},[r("canvas",{ref:"canvas",staticClass:"t-image",class:{focus:t.hasMove},attrs:{id:"hddd"},on:{mousedown:t.handleImageMousedown,mouseup:t.handleImageMouseup}},[t._v(" 当前浏览器不支持canvas，请更换浏览器后再试！ ")]),r("div",{staticClass:"t-toolbar"},[r("el-tooltip",{attrs:{content:"刷新图片",placement:"top"}},[r("div",{staticClass:"t-toolbar-item el-icon-refresh-right",on:{click:t.handleImageRefreshChick}})])],1),t.noticeSrc?r("div",{staticClass:"t-notice-box",class:t.noticePositionClassName},[r("div",{staticClass:"t-notice-close t-button",class:{"not-display":!t.notice.display},on:{click:t.handleNoticeCloseClick}},[t.notice.display?[t._v("×")]:[t._v("↖")]],2),t.notice.display?r("img",{staticClass:"t-notice-image",attrs:{src:t.noticeSrc,alt:""}}):t._e()]):t._e()])},Pt=[];const It={getBit(t){return this.data[Dt(t)]&1<<Ct(t)?1:0},setBit(t){this.data[Dt(t)]|=1<<Ct(t)},clearBit(t){this.data[Dt(t)]&=~(1<<Ct(t))},toggleBit(t){this.data[Dt(t)]^=1<<Ct(t)},getBitXY(t,e){return this.getBit(e*this.width+t)},setBitXY(t,e){this.setBit(e*this.width+t)},clearBitXY(t,e){this.clearBit(e*this.width+t)},toggleBitXY(t,e){this.toggleBit(e*this.width+t)}};function Dt(t){return t>>3}function Ct(t){return 7-(7&t)}function Rt(t){for(const e in It)t.prototype[e]=It[e]}function Bt(t,e={}){let{bitDepth:r,alpha:n,colorModel:i,components:o,channels:a}=e;if("string"!==typeof t||0===t.length)throw new TypeError("processName must be a string");if(r&&(Array.isArray(r)||(r=[r]),!r.includes(this.bitDepth)))throw new TypeError(`The process: ${t} can only be applied if bit depth is in: ${r}`);if(n&&(Array.isArray(n)||(n=[n]),!n.includes(this.alpha)))throw new TypeError(`The process: ${t} can only be applied if alpha is in: ${n}`);if(i&&(Array.isArray(i)||(i=[i]),!i.includes(this.colorModel)))throw new TypeError(`The process: ${t} can only be applied if color model is in: ${i}`);if(o&&(Array.isArray(o)||(o=[o]),!o.includes(this.components))){let e=`The process: ${t} can only be applied if the number of components is in: ${o}`;throw 1===o.length&&1===o[0]?new TypeError(e+'.\rYou should transform your image using "image.grey()" before applying the algorithm.'):new TypeError(e)}if(a&&(Array.isArray(a)||(a=[a]),!a.includes(this.channels)))throw new TypeError(`The process: ${t} can only be applied if the number of channels is in: ${a}`)}function Ot(t,e){t=t||[],e=e||{},"string"===typeof e&&(e={type:e});try{return new Blob(t,e)}catch(o){if("TypeError"!==o.name)throw o;for(var r="undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof MSBlobBuilder?MSBlobBuilder:"undefined"!==typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,n=new r,i=0;i<t.length;i+=1)n.append(t[i]);return n.getBlob(e.type)}}function Lt(t){var e=t.match(/data:([^;]+)/)[1],r=t.replace(/^[^,]+,/,""),n=Nt(atob(r));return Ot([n],{type:e})}function Ut(t,e,r){return"function"===typeof t.toBlob?new Promise((function(n){t.toBlob(n,e,r)})):Promise.resolve(Lt(t.toDataURL(e,r)))}function Nt(t){var e=t.length,r=new ArrayBuffer(e),n=new Uint8Array(r),i=-1;while(++i<e)n[i]=t.charCodeAt(i);return r}var zt=r("5eaf");r("5027");const Ft=new TextDecoder("utf-8");function jt(t){return Ft.decode(t)}const Yt=new TextEncoder;function Vt(t){return Yt.encode(t)}const Xt=8192;class $t{constructor(t=Xt,e={}){let r=!1;"number"===typeof t?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);const n=e.offset?e.offset>>>0:0,i=t.byteLength-n;let o=n;(ArrayBuffer.isView(t)||t instanceof $t)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+n),t=t.buffer),this.lastWrittenByte=r?i:0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(void 0===t)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const e=this.offset+t,r=2*e,n=new Uint8Array(r);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return 0!==this.readUint8()}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){const e=new Uint8Array(t);for(let r=0;r<t;r++)e[r]=this.readByte();return e}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let e="";for(let r=0;r<t;r++)e+=this.readChar();return e}readUtf8(t=1){return jt(this.readBytes(t))}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e));return this}writeUtf8(t){return this.writeBytes(Vt(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}var Gt=r("d7ac");const Ht=[137,80,78,71,13,10,26,10],qt=[];for(let al=0;al<256;al++){let t=al;for(let e=0;e<8;e++)1&t?t=3988292384^t>>>1:t>>>=1;qt[al]=t}const Wt=4294967295;function Zt(t,e,r){let n=t;for(let i=0;i<r;i++)n=qt[255&(n^e[i])]^n>>>8;return n}function Kt(t,e){return(Zt(Wt,t,e)^Wt)>>>0}var Jt,Qt,te,ee;(function(t){t[t["UNKNOWN"]=-1]="UNKNOWN",t[t["GREYSCALE"]=0]="GREYSCALE",t[t["TRUECOLOUR"]=2]="TRUECOLOUR",t[t["INDEXED_COLOUR"]=3]="INDEXED_COLOUR",t[t["GREYSCALE_ALPHA"]=4]="GREYSCALE_ALPHA",t[t["TRUECOLOUR_ALPHA"]=6]="TRUECOLOUR_ALPHA"})(Jt||(Jt={})),function(t){t[t["UNKNOWN"]=-1]="UNKNOWN",t[t["DEFLATE"]=0]="DEFLATE"}(Qt||(Qt={})),function(t){t[t["UNKNOWN"]=-1]="UNKNOWN",t[t["ADAPTIVE"]=0]="ADAPTIVE"}(te||(te={})),function(t){t[t["UNKNOWN"]=-1]="UNKNOWN",t[t["NO_INTERLACE"]=0]="NO_INTERLACE",t[t["ADAM7"]=1]="ADAM7"}(ee||(ee={}));const re=new Uint8Array(0),ne="\0",ie=new Uint16Array([255]),oe=new Uint8Array(ie.buffer),ae=255===oe[0];class se extends $t{constructor(t,e={}){super(t);const{checkCrc:r=!1}=e;this._checkCrc=r,this._inflator=new Gt["Inflate"],this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._end=!1,this._hasPalette=!1,this._palette=[],this._compressionMethod=Qt.UNKNOWN,this._filterMethod=te.UNKNOWN,this._interlaceMethod=ee.UNKNOWN,this._colorType=-1,this.setBigEndian()}decode(){this.decodeSignature();while(!this._end)this.decodeChunk();return this.decodeImage(),this._png}decodeSignature(){for(let t=0;t<Ht.length;t++)if(this.readUint8()!==Ht[t])throw new Error(`wrong PNG signature. Byte at ${t} should be ${Ht[t]}.`)}decodeChunk(){const t=this.readUint32(),e=this.readChars(4),r=this.offset;switch(e){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"tEXt":this.decodetEXt(t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-r!==t)throw new Error("Length mismatch while decoding chunk "+e);if(this._checkCrc){const r=this.readUint32(),n=t+4,i=Kt(new Uint8Array(this.buffer,this.byteOffset+this.offset-n-4,n),n);if(i!==r)throw new Error(`CRC mismatch for chunk ${e}. Expected ${r}, found ${i}`)}else this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=pe(this.readUint8());const e=this.readUint8();let r;switch(this._colorType=e,e){case Jt.GREYSCALE:r=1;break;case Jt.TRUECOLOUR:r=3;break;case Jt.INDEXED_COLOUR:r=1;break;case Jt.GREYSCALE_ALPHA:r=2;break;case Jt.TRUECOLOUR_ALPHA:r=4;break;default:throw new Error("Unknown color type: "+e)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==Qt.DEFLATE)throw new Error("Unsupported compression method: "+this._compressionMethod);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodePLTE(t){if(t%3!==0)throw new RangeError("PLTE field length must be a multiple of 3. Got "+t);const e=t/3;this._hasPalette=!0;const r=[];this._palette=r;for(let n=0;n<e;n++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._inflator.push(new Uint8Array(this.buffer,this.offset+this.byteOffset,t),!1),this.skip(t)}decodetRNS(t){if(3===this._colorType){if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let e=0;for(;e<t;e++){const t=this.readByte();this._palette[e].push(t)}for(;e<this._palette.length;e++)this._palette[e].push(255)}}decodetEXt(t){let e,r="";while((e=this.readChar())!==ne)r+=e;this._png.text[r]=this.readChars(t-r.length-1)}decodepHYs(){const t=this.readUint32(),e=this.readUint32(),r=this.readByte();this._png.resolution={x:t,y:e,unit:r}}decodeImage(){if(this._inflator.push(re,!0),this._inflator.err)throw new Error("Error while decompressing the data: "+this._inflator.err);const t=this._inflator.result;if(this._filterMethod!==te.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod!==ee.NO_INTERLACE)throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this.decodeInterlaceNull(t)}decodeInterlaceNull(t){const e=this._png.height,r=this._png.channels*this._png.depth/8,n=this._png.width*r,i=new Uint8Array(this._png.height*n);let o,a,s=re,h=0;for(let l=0;l<e;l++){switch(o=t.subarray(h+1,h+1+n),a=i.subarray(l*n,(l+1)*n),t[h]){case 0:he(o,a,n);break;case 1:le(o,a,n,r);break;case 2:ue(o,a,s,n);break;case 3:ce(o,a,s,n,r);break;case 4:fe(o,a,s,n,r);break;default:throw new Error("Unsupported filter: "+t[h])}s=a,h+=n+1}if(this._hasPalette&&(this._png.palette=this._palette),16===this._png.depth){const t=new Uint16Array(i.buffer);if(ae)for(let e=0;e<t.length;e++)t[e]=ge(t[e]);this._png.data=t}else this._png.data=i}}function he(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function le(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function ue(t,e,r,n){let i=0;if(0===r.length)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function ce(t,e,r,n,i){let o=0;if(0===r.length){for(;o<i;o++)e[o]=t[o];for(;o<n;o++)e[o]=t[o]+(e[o-i]>>1)&255}else{for(;o<i;o++)e[o]=t[o]+(r[o]>>1)&255;for(;o<n;o++)e[o]=t[o]+(e[o-i]+r[o]>>1)&255}}function fe(t,e,r,n,i){let o=0;if(0===r.length){for(;o<i;o++)e[o]=t[o];for(;o<n;o++)e[o]=t[o]+e[o-i]&255}else{for(;o<i;o++)e[o]=t[o]+r[o]&255;for(;o<n;o++)e[o]=t[o]+de(e[o-i],r[o],r[o-i])&255}}function de(t,e,r){const n=t+e-r,i=Math.abs(n-t),o=Math.abs(n-e),a=Math.abs(n-r);return i<=o&&i<=a?t:o<=a?e:r}function ge(t){return(255&t)<<8|t>>8&255}function pe(t){if(1!==t&&2!==t&&4!==t&&8!==t&&16!==t)throw new Error("invalid bit depth: "+t);return t}const me={level:3};class we extends $t{constructor(t,e={}){super(),this._colorType=Jt.UNKNOWN,this._zlibOptions=Object.assign({},me,e.zlib),this._png=this._checkData(t),this.setBigEndian()}encode(){return this.encodeSignature(),this.encodeIHDR(),this.encodeData(),this.encodeIEND(),this.toArray()}encodeSignature(){this.writeBytes(Ht)}encodeIHDR(){this.writeUint32(13),this.writeChars("IHDR"),this.writeUint32(this._png.width),this.writeUint32(this._png.height),this.writeByte(this._png.depth),this.writeByte(this._colorType),this.writeByte(Qt.DEFLATE),this.writeByte(te.ADAPTIVE),this.writeByte(ee.NO_INTERLACE),this.writeCrc(17)}encodeIEND(){this.writeUint32(0),this.writeChars("IEND"),this.writeCrc(4)}encodeIDAT(t){this.writeUint32(t.length),this.writeChars("IDAT"),this.writeBytes(t),this.writeCrc(t.length+4)}encodeData(){const{width:t,height:e,channels:r,depth:n,data:i}=this._png,o=r*t,a=(new $t).setBigEndian();let s=0;for(let u=0;u<e;u++)if(a.writeByte(0),8===n)s=ve(i,a,o,s);else{if(16!==n)throw new Error("unreachable");s=xe(i,a,o,s)}const h=a.toArray(),l=Object(Gt["deflate"])(h,this._zlibOptions);this.encodeIDAT(l)}_checkData(t){const{colorType:e,channels:r,depth:n}=be(t),i={width:ye(t.width,"width"),height:ye(t.height,"height"),channels:r,data:t.data,depth:n,text:{}};this._colorType=e;const o=i.width*i.height*r;if(i.data.length!==o)throw new RangeError(`wrong data size. Found ${i.data.length}, expected ${o}`);return i}writeCrc(t){this.writeUint32(Kt(new Uint8Array(this.buffer,this.byteOffset+this.offset-t,t),t))}}function ye(t,e){if(Number.isInteger(t)&&t>0)return t;throw new TypeError(e+" must be a positive integer")}function be(t){const{channels:e=4,depth:r=8}=t;if(4!==e&&3!==e&&2!==e&&1!==e)throw new RangeError("unsupported number of channels: "+e);if(8!==r&&16!==r)throw new RangeError("unsupported bit depth: "+r);const n={channels:e,depth:r,colorType:Jt.UNKNOWN};switch(e){case 4:n.colorType=Jt.TRUECOLOUR_ALPHA;break;case 3:n.colorType=Jt.TRUECOLOUR;break;case 1:n.colorType=Jt.GREYSCALE;break;case 2:n.colorType=Jt.GREYSCALE_ALPHA;break;default:throw new Error("unsupported number of channels: "+e)}return n}function ve(t,e,r,n){for(let i=0;i<r;i++)e.writeByte(t[n++]);return n}function xe(t,e,r,n){for(let i=0;i<r;i++)e.writeUint16(t[n++]);return n}var _e;function Me(t,e){const r=new se(t,e);return r.decode()}function ke(t,e){const r=new we(t,e);return r.encode()}(function(t){t[t["UNKNOWN"]=0]="UNKNOWN",t[t["METRE"]=1]="METRE"})(_e||(_e={}));var Ae=r("eed2");let Ee="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Se=new Uint8Array(256);for(let al=0;al<Ee.length;al++)Se[Ee.charCodeAt(al)]=al;function Te(t){let e,r=t.length,n="";for(e=0;e<r;e+=3)n+=Ee[t[e]>>2],n+=Ee[(3&t[e])<<4|t[e+1]>>4],n+=Ee[(15&t[e+1])<<2|t[e+2]>>6],n+=Ee[63&t[e+2]];return r%3===2?n=n.substring(0,n.length-1)+"=":r%3===1&&(n=n.substring(0,n.length-2)+"=="),n}function Pe(t){let e,r,n,i,o=.75*t.length,a=t.length,s=0;"="===t[t.length-1]&&(o--,"="===t[t.length-2]&&o--);const h=new Uint8Array(o);for(let l=0;l<a;l+=4)e=Se[t.charCodeAt(l)],r=Se[t.charCodeAt(l+1)],n=Se[t.charCodeAt(l+2)],i=Se[t.charCodeAt(l+3)],h[s++]=e<<2|r>>4,h[s++]=(15&r)<<4|n>>2,h[s++]=(3&n)<<6|63&i;return h}function Ie(t,e){const r=Te(t);return`data:${e};base64,${r}`}const De=self.ImageData,Ce=self.Image;function Re(t,e){let r=self.document.createElement("canvas");return r.width=t,r.height=e,r}function Be(t,{withCredentials:e=!1}={}){return new Promise((function(r,n){let i=new self.XMLHttpRequest;i.open("GET",t,!0),i.responseType="arraybuffer",i.withCredentials=e,i.onload=function(t){200!==this.status?n(t):r(this.response)},i.onerror=n,i.send()}))}function Oe(){throw new Error("createWriteStream does not exist in the browser")}function Le(){throw new Error("writeFile does not exist in the browser")}function Ue(t){return t.includes("/")||(t="image/"+t),t}function Ne(t,e={}){const r={width:t.width,height:t.height,data:t.getRGBAData()};return Object(Ae["encode"])(r,e.quality).data}function ze(t,e){const r={width:t.width,height:t.height,channels:t.channels,depth:t.bitDepth,data:t.data};return 1!==r.depth&&32!==r.depth||(r.depth=8,r.channels=4,r.data=t.getRGBAData()),ke(r,e)}const Fe={save(t,e={}){const{useCanvas:r=!1,encoder:n}=e;let{format:i}=e;if(!i){const e=/\.([a-zA-Z]+)$/.exec(t);e&&(i=e[1].toLowerCase())}if(!i)throw new Error("file format not provided");return new Promise((e,o)=>{let a,s;switch(i.toLowerCase()){case"png":r?a=this.getCanvas().pngStream():s=ze(this,n);break;case"jpg":case"jpeg":r?a=this.getCanvas().jpegStream():s=Ne(this,n);break;case"bmp":s=Object(zt["encode"])(this,n);break;default:throw new RangeError("invalid output format: "+i)}if(a){let r=Oe(t);r.on("finish",e),r.on("error",o),a.pipe(r)}else s&&Le(t,s,t=>{t?o(t):e()})})},toDataURL(t="image/png",e={}){"object"===typeof t&&(e=t,t="image/png");const{useCanvas:r=!1,encoder:n}=e;function i(e,r){const i=e(r,n);return Ie(i,t)}return t=Ue(t),"image/bmp"===t?i(zt["encode"],this):"image/png"!==t||r?"image/jpeg"!==t||r?this.getCanvas().toDataURL(t):i(Ne,this):i(ze,this)},toBuffer(t={}){const{format:e="png",encoder:r}=t;switch(e.toLowerCase()){case"png":return ze(this,r);case"jpeg":case"jpg":return Ne(this,r);case"bmp":return Object(zt["encode"])(this,r);default:throw new RangeError("invalid output format: "+e)}},toBase64(t="image/png",e={}){if(e.async)return this.toDataURL(t,e).then((function(t){return t.substring(t.indexOf(",")+1)}));{const r=this.toDataURL(t,e);return r.substring(r.indexOf(",")+1)}},toBlob(t="image/png",e=.8){return Ut(this.getCanvas(),t,e)},getCanvas(){const t=new De(this.getRGBAData({clamped:!0}),this.width,this.height);let e=Re(this.width,this.height),r=e.getContext("2d");return r.putImageData(t,0,0),e}};function je(t){for(const e in Fe)t.prototype[e]=Fe[e]}var Ye=r("0e20"),Ve=r.n(Ye);let Xe={configurable:!0,enumerable:!1,get:void 0};function $e(t,e,r={}){let{inPlace:n=!1,returnThis:i=!0,partialArgs:o=[]}=r;return Bh.prototype[t]=n?function(...t){this.computed=null;let r=e.apply(this,[...o,...t]);return i?this:r}:function(...t){return e.apply(this,[...o,...t])},Bh}function Ge(t,e,r={}){let{partialArgs:n=[]}=r;return Xe.get=function(){if(null===this.computed)this.computed={};else if(Ve()(t,this.computed))return this.computed[t];let r=e.apply(this,n);return this.computed[t]=r,r},Object.defineProperty(Bh.prototype,t,Xe),Bh}const He="GREY",qe="RGB",We="HSL",Ze="HSV",Ke="CMYK";function Je(t={}){const{clamped:e}=t;this.checkProcessable("getRGBAData",{components:[1,3],bitDepth:[1,8,16,32]});const r=this.width*this.height*4;let n=e?new Uint8ClampedArray(r):new Uint8Array(r);return 1===this.bitDepth?Qe(this,n):32===this.bitDepth?(this.checkProcessable("getRGBAData",{alpha:0}),1===this.components?tr(this,n):3===this.components&&(this.checkProcessable("getRGBAData",{colorModel:[qe]}),er(this,n))):1===this.components?rr(this,n):3===this.components&&(this.checkProcessable("getRGBAData",{colorModel:[qe]}),nr(this,n)),1===this.alpha?(this.checkProcessable("getRGBAData",{bitDepth:[8,16]}),ir(this,n)):or(this,n),n}function Qe(t,e){for(let r=0;r<t.size;r++){const n=t.getBit(r);e[4*r]=255*n,e[4*r+1]=255*n,e[4*r+2]=255*n}}function tr(t,e){const r=t.min[0],n=t.max[0],i=n-r;for(let o=0;o<t.size;o++){const n=Math.floor(255*(t.data[o]-r)/i);e[4*o]=n,e[4*o+1]=n,e[4*o+2]=n}}function er(t,e){const r=Math.min(...t.min),n=Math.max(...t.max),i=n-r;for(let o=0;o<t.size;o++){const n=Math.floor(255*(t.data[3*o]-r)/i),a=Math.floor(255*(t.data[3*o+1]-r)/i),s=Math.floor(255*(t.data[3*o+2]-r)/i);e[4*o]=n,e[4*o+1]=a,e[4*o+2]=s}}function rr(t,e){for(let r=0;r<t.size;r++)e[4*r]=t.data[r*t.channels]>>>t.bitDepth-8,e[4*r+1]=t.data[r*t.channels]>>>t.bitDepth-8,e[4*r+2]=t.data[r*t.channels]>>>t.bitDepth-8}function nr(t,e){for(let r=0;r<t.size;r++)e[4*r]=t.data[r*t.channels]>>>t.bitDepth-8,e[4*r+1]=t.data[r*t.channels+1]>>>t.bitDepth-8,e[4*r+2]=t.data[r*t.channels+2]>>>t.bitDepth-8}function ir(t,e){for(let r=0;r<t.size;r++)e[4*r+3]=t.data[r*t.channels+t.components]>>t.bitDepth-8}function or(t,e){for(let r=0;r<t.size;r++)e[4*r+3]=255}const ar="BINARY",sr="GREY",hr="GREYA",lr="RGB",ur="RGBA",cr="CMYK",fr="CMYKA",dr={};function gr(t){const e=dr[t];if(!e)throw new RangeError("invalid image kind: "+t);return e}dr[ar]={components:1,alpha:0,bitDepth:1,colorModel:He},dr[hr]={components:1,alpha:1,bitDepth:8,colorModel:He},dr[sr]={components:1,alpha:0,bitDepth:8,colorModel:He},dr[ur]={components:3,alpha:1,bitDepth:8,colorModel:qe},dr[lr]={components:3,alpha:0,bitDepth:8,colorModel:qe},dr[cr]={components:4,alpha:0,bitDepth:8,colorModel:Ke},dr[fr]={components:4,alpha:1,bitDepth:8,colorModel:Ke};const pr=[1,8,16,32];function mr(t){const{components:e,alpha:r,bitDepth:i,colorModel:o}=t;if(!Number.isInteger(e)||e<=0)throw new RangeError(`invalid components: ${e}. Must be a positive integer`);if(0!==r&&1!==r&&"boolean"!==typeof r)throw new TypeError(`invalid alpha: ${r}: must be a boolean, 0 or 1`);if(!pr.includes(i))throw new RangeError(`invalid bitDepth: ${i}. Must be one of ${pr.join(", ")}`);if(!n[o])throw new RangeError(`invalid colorModel: ${o}. Must be one of ${Object.keys(n).join(", ")}`)}function wr(t,e,r){let n=e*t;return 1===r&&(n=Math.ceil(n/8)),n}function yr(t,e,r,n,i,o){const a=n*t;let s;switch(i){case 1:s=new Uint8Array(Math.ceil(a/8));break;case 8:s=new Uint8Array(a);break;case 16:s=new Uint16Array(a);break;case 32:s=new Float32Array(a);break;default:throw new Error("Cannot create pixel array for bit depth "+i)}if(r)for(let h=e;h<s.length;h+=n)s[h]=o;return s}var br=r("f8ae");r("5212");const vr=new TextDecoder("utf-8");function xr(t){return vr.decode(t)}const _r=new TextEncoder;function Mr(t){return _r.encode(t)}const kr=8192;class Ar{constructor(t=kr,e={}){let r=!1;"number"===typeof t?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);const n=e.offset?e.offset>>>0:0,i=t.byteLength-n;let o=n;(ArrayBuffer.isView(t)||t instanceof Ar)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+n),t=t.buffer),this.lastWrittenByte=r?i:0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(void 0===t)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const e=this.offset+t,r=2*e,n=new Uint8Array(r);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return 0!==this.readUint8()}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){const e=new Uint8Array(t);for(let r=0;r<t;r++)e[r]=this.readByte();return e}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let e="";for(let r=0;r<t;r++)e+=this.readChar();return e}readUtf8(t=1){return xr(this.readBytes(t))}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e));return this}writeUtf8(t){return this.writeBytes(Mr(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}const Er={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Threshholding",264:"CellWidth",265:"CellLength",266:"FillOrder",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",296:"ResolutionUnit",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",320:"ColorMap",338:"ExtraSamples",33432:"Copyright",269:"DocumentName",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",293:"T6Options",297:"PageNumber",301:"TransferFunction",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFDs",332:"InkSet",333:"InkNames",334:"NumberOfInks",336:"DotRange",337:"TargetPrinter",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"XMP",32781:"ImageID",34732:"ImageLayer",32932:"WangAnnotatio",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"ModelPixelScaleTag",33723:"IPTC",33918:"INGRPacketDataTag",33919:"INGRFlagRegisters",33920:"IrasBTransformationMatrix",33922:"ModelTiepointTag",34264:"ModelTransformationTag",34377:"Photoshop",34665:"ExifIFD",34675:"ICCProfile",34735:"GeoKeyDirectoryTag",34736:"GeoDoubleParamsTag",34737:"GeoAsciiParamsTag",34853:"GPSIFD",34908:"HylaFAXFaxRecvParams",34909:"HylaFAXFaxSubAddress",34910:"HylaFAXFaxRecvTime",37724:"ImageSourceData",40965:"InteroperabilityIFD",42112:"GDAL_METADATA",42113:"GDAL_NODATA",50215:"OceScanjobDescription",50216:"OceApplicationSelector",50217:"OceIdentificationNumber",50218:"OceImageLogicCharacteristics",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50784:"AliasLayerMetadata"},Sr={};for(let al in Er)Sr[Er[al]]=Number(al);const Tr={33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37396:"SubjectArea",37500:"MakerNote",37510:"UserComment",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42240:"Gamma"},Pr={};for(let al in Tr)Pr[Tr[al]]=Number(al);const Ir={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},Dr={};for(let al in Ir)Dr[Ir[al]]=Number(al);const Cr={standard:i,exif:o,gps:a};class Rr{constructor(t){if(!t)throw new Error("missing kind");this.data=new Uint8Array,this.fields=new Map,this.kind=t,this._hasMap=!1,this._map={}}get(t){if("number"===typeof t)return this.fields.get(t);if("string"===typeof t)return this.fields.get(Cr[this.kind].tagsByName[t]);throw new Error("expected a number or string")}get map(){if(!this._hasMap){const t=Cr[this.kind].tagsById;for(let e of this.fields.keys())t[e]&&(this._map[t[e]]=this.fields.get(e));this._hasMap=!0}return this._map}}let Br=new Map([[1,[1,Ur]],[2,[1,Nr]],[3,[2,zr]],[4,[4,Fr]],[5,[8,jr]],[6,[1,Yr]],[7,[1,Ur]],[8,[2,Vr]],[9,[4,Xr]],[10,[8,$r]],[11,[4,Gr]],[12,[8,Hr]]]);function Or(t,e){const r=Br.get(t);if(!r)throw new Error("type not found: "+t);return r[0]*e}function Lr(t,e,r){const n=Br.get(e);if(!n)throw new Error("type not found: "+e);return n[1](t,r)}function Ur(t,e){if(1===e)return t.readUint8();let r=new Uint8Array(e);for(let n=0;n<e;n++)r[n]=t.readUint8();return r}function Nr(t,e){let r=[],n="";for(let i=0;i<e;i++){let e=String.fromCharCode(t.readUint8());"\0"===e?(r.push(n),n=""):n+=e}return 1===r.length?r[0]:r}function zr(t,e){if(1===e)return t.readUint16();let r=new Uint16Array(e);for(let n=0;n<e;n++)r[n]=t.readUint16();return r}function Fr(t,e){if(1===e)return t.readUint32();let r=new Uint32Array(e);for(let n=0;n<e;n++)r[n]=t.readUint32();return r}function jr(t,e){if(1===e)return t.readUint32()/t.readUint32();let r=new Array(e);for(let n=0;n<e;n++)r[n]=t.readUint32()/t.readUint32();return r}function Yr(t,e){if(1===e)return t.readInt8();let r=new Int8Array(e);for(let n=0;n<e;n++)r[n]=t.readInt8();return r}function Vr(t,e){if(1===e)return t.readInt16();let r=new Int16Array(e);for(let n=0;n<e;n++)r[n]=t.readInt16();return r}function Xr(t,e){if(1===e)return t.readInt32();let r=new Int32Array(e);for(let n=0;n<e;n++)r[n]=t.readInt32();return r}function $r(t,e){if(1===e)return t.readInt32()/t.readInt32();let r=new Array(e);for(let n=0;n<e;n++)r[n]=t.readInt32()/t.readInt32();return r}function Gr(t,e){if(1===e)return t.readFloat32();let r=new Float32Array(e);for(let n=0;n<e;n++)r[n]=t.readFloat32();return r}function Hr(t,e){if(1===e)return t.readFloat64();let r=new Float64Array(e);for(let n=0;n<e;n++)r[n]=t.readFloat64();return r}const qr=/^(\d{4}):(\d{2}):(\d{2}) (\d{2}):(\d{2}):(\d{2})$/;class Wr extends Rr{constructor(){super("standard")}get size(){return this.width*this.height}get width(){return this.imageWidth}get height(){return this.imageLength}get components(){return this.samplesPerPixel}get date(){let t=new Date,e=qr.exec(this.dateTime);if(null===e)throw new Error("invalid dateTime: "+this.dateTime);return t.setFullYear(Number(e[1]),Number(e[2])-1,Number(e[3])),t.setHours(Number(e[4]),Number(e[5]),Number(e[6])),t}get newSubfileType(){return this.get(254)}get imageWidth(){return this.get(256)}get imageLength(){return this.get(257)}get bitsPerSample(){return this.get(258)}get compression(){return this.get(259)||1}get type(){return this.get(262)}get fillOrder(){return this.get(266)||1}get documentName(){return this.get(269)}get imageDescription(){return this.get(270)}get stripOffsets(){return Zr(this.get(273))}get orientation(){return this.get(274)}get samplesPerPixel(){return this.get(277)}get rowsPerStrip(){return this.get(278)}get stripByteCounts(){return Zr(this.get(279))}get minSampleValue(){return this.get(280)||0}get maxSampleValue(){return this.get(281)||Math.pow(2,this.bitsPerSample)-1}get xResolution(){return this.get(282)}get yResolution(){return this.get(283)}get planarConfiguration(){return this.get(284)||1}get resolutionUnit(){return this.get(296)||2}get dateTime(){return this.get(306)}get predictor(){return this.get(317)||1}get sampleFormat(){return this.get(339)||1}get sMinSampleValue(){return this.get(340)||this.minSampleValue}get sMaxSampleValue(){return this.get(341)||this.maxSampleValue}get palette(){const t=2**this.bitsPerSample,e=this.get(320);if(!e)return;if(e.length!==3*t)throw new Error("ColorMap size must be "+t);const r=[];for(let n=0;n<t;n++)r.push([e[n],e[n+t],e[n+2*t]]);return r}}function Zr(t){return"number"===typeof t?[t]:t}const Kr={ignoreImageData:!1,onlyFirst:!1};class Jr extends Ar{constructor(t){super(t),this._nextIFD=0}get isMultiPage(){let t=0;this.decodeHeader();while(this._nextIFD)if(t++,this.decodeIFD({ignoreImageData:!0},!0),2===t)return!0;if(1===t)return!1;throw nn("ifdCount",t)}get pageCount(){let t=0;this.decodeHeader();while(this._nextIFD)t++,this.decodeIFD({ignoreImageData:!0},!0);if(t>0)return t;throw nn("ifdCount",t)}decode(t={}){t=Object.assign({},Kr,t);const e=[];this.decodeHeader();while(this._nextIFD)if(e.push(this.decodeIFD(t,!0)),t.onlyFirst)return[e[0]];return e}decodeHeader(){const t=this.readUint16();if(18761===t)this.setLittleEndian();else{if(19789!==t)throw new Error("invalid byte order: 0x"+t.toString(16));this.setBigEndian()}if(42!==this.readUint16())throw new Error("not a TIFF file");this._nextIFD=this.readUint32()}decodeIFD(t,e){let r;if(this.seek(this._nextIFD),e)r=new Wr;else{if(!t.kind)throw new Error("kind is missing");r=new Rr(t.kind)}const n=this.readUint16();for(let i=0;i<n;i++)this.decodeIFDEntry(r);if(!t.ignoreImageData){if(!(r instanceof Wr))throw new Error("must be a tiff ifd");this.decodeImageData(r)}return this._nextIFD=this.readUint32(),r}decodeIFDEntry(t){const e=this.offset,r=this.readUint16(),n=this.readUint16(),i=this.readUint32();if(n<1||n>12)return void this.skip(4);const o=Or(n,i);o>4&&this.seek(this.readUint32());const a=Lr(this,n,i);if(t.fields.set(r,a),34665===r||34853===r){let e=this.offset,n="exif";34665===r?n="exif":34853===r&&(n="gps"),this._nextIFD=a,t[n]=this.decodeIFD({kind:n,ignoreImageData:!0},!1),this.offset=e}this.seek(e),this.skip(12)}decodeImageData(t){const e=t.orientation;if(e&&1!==e)throw nn("orientation",e);switch(t.type){case 0:case 1:case 2:case 3:this.readStripData(t);break;default:throw nn("image type",t.type)}if(0===t.type){const e=on(t.bitsPerSample),r=Math.pow(2,e)-1;for(let n=0;n<t.data.length;n++)t.data[n]=r-t.data[n]}}readStripData(t){const e=t.width,r=t.height,n=on(t.bitsPerSample),i=t.sampleFormat,o=e*r,a=Qr(o,1,n,i),s=t.compression,h=t.rowsPerStrip,l=h*e,u=t.stripOffsets,c=t.stripByteCounts;let f=o,d=0;for(let g=0;g<u.length;g++){let t=new DataView(this.buffer,u[g],c[g]),e=f>l?l:f;switch(f-=e,s){case 1:d=this.fillUncompressed(n,i,a,t,d,e);break;case 5:throw nn("Compression","LZW");case 2:case 32773:throw nn("Compression",s);default:throw new Error("invalid compression: "+s)}}t.data=a}fillUncompressed(t,e,r,n,i,o){if(8===t)return tn(r,n,i,o);if(16===t)return en(r,n,i,o,this.isLittleEndian());if(32===t&&3===e)return rn(r,n,i,o,this.isLittleEndian());throw nn("bitDepth",t)}}function Qr(t,e,r,n){if(8===r)return new Uint8Array(t*e);if(16===r)return new Uint16Array(t*e);if(32===r&&3===n)return new Float32Array(t*e);throw nn("bit depth / sample format",`${r} / ${n}`)}function tn(t,e,r,n){for(let i=0;i<n;i++)t[r++]=e.getUint8(i);return r}function en(t,e,r,n,i){for(let o=0;o<2*n;o+=2)t[r++]=e.getUint16(o,i);return r}function rn(t,e,r,n,i){for(let o=0;o<4*n;o+=4)t[r++]=e.getFloat32(o,i);return r}function nn(t,e){return new Error(`Unsupported ${t}: ${e}`)}function on(t){if("number"!==typeof t){const e=t;t=e[0];for(let r=0;r<e.length;r++)if(e[r]!==t)throw nn("bit depth",e)}return t}function an(t,e){const r=new Jr(t);return r.decode(e)}var sn=r("ff9d"),hn=r.n(sn);function ln(t={}){let{algorithm:e="matchToPrevious",ignoreBorder:r=[0,0]}=t;this.checkProcessable("matchAndCrop",{bitDepth:[8,16]});let n="matchToPrevious"===e,i=this[0],o=[];o[0]={position:[0,0],image:this[0]};let a=[0,0];for(let f=1;f<this.length;f++){let t=i.getBestMatch(this[f],{border:r});o[f]={position:[t[0]+a[0],t[1]+a[1]],image:this[f]},n&&(a[0]+=t[0],a[1]+=t[1],i=this[f])}let s=0,h=0,l=0,u=0;for(let f=0;f<o.length;f++){let t=o[f];t.position[0]>s&&(s=t.position[0]),t.position[0]<h&&(h=t.position[0]),t.position[1]>l&&(l=t.position[1]),t.position[1]<u&&(u=t.position[1])}h=0-h,u=0-u;for(let f=0;f<o.length;f++){let t=o[f];t.crop=t.image.crop({x:s-t.position[0],y:l-t.position[1],width:i.width-h-s,height:i.height-u-l})}let c=[];for(let f=0;f<o.length;f++)c[f]=o[f].crop;return new _n(c)}function un(){this.checkProcessable("min",{bitDepth:[8,16]});let t=this[0].min;for(let e=1;e<this.length;e++)for(let r=0;r<t.length;r++)t[r]=Math.min(t[r],this[e].min[r]);return t}function cn(){this.checkProcessable("min",{bitDepth:[8,16]});let t=this[0].max;for(let e=1;e<this.length;e++)for(let r=0;r<t.length;r++)t[r]=Math.max(t[r],this[e].max[r]);return t}function fn(t){let e=t.reduce((t,e)=>t+e);if(0===e)throw new Error("unreachable");let r,n=0,i=0,o=e/2;while(1){if(t[n]>0){if(void 0!==r)return(r+n)/2;if(i+=t[n],i>o)return n;i===o&&(r=n)}n++}}function dn(t){let e=0,r=0;for(let n=0;n<t.length;n++)e+=t[n],r+=t[n]*n;return 0===e?0:r/e}function gn(){this.checkProcessable("median",{bitDepth:[8,16]});let t=this.getHistograms({maxSlots:this[0].maxValue+1}),e=new Array(t.length);for(let r=0;r<t.length;r++){let n=t[r];e[r]=fn(n)}return e}function pn(t){this.checkProcessable("min",{bitDepth:[8,16]});let e=this[0].getHistogram(t);for(let r=1;r<this.length;r++){let n=this[r].getHistogram(t);for(let t=0;t<e.length;t++)e[t]+=n[t]}return e}function mn(t){this.checkProcessable("min",{bitDepth:[8,16]});let e=this[0].getHistograms(t),r=e[0].length;for(let n=1;n<this.length;n++){let i=this[n].getHistograms(t);for(let t=0;t<e.length;t++)for(let n=0;n<r;n++)e[t][n]+=i[t][n]}return e}function wn(){this.checkProcessable("averageImage",{bitDepth:[8,16]});let t=new Uint32Array(this[0].data.length);for(let n=0;n<this.length;n++){let e=this[n];for(let r=0;r<this[0].data.length;r++)t[r]+=e.data[r]}let e=Bh.createFrom(this[0]),r=e.data;for(let n=0;n<this[0].data.length;n++)r[n]=t[n]/this.length;return e}function yn(){this.checkProcessable("max",{bitDepth:[8,16]});let t=Bh.createFrom(this[0]);t.data.fill(0);for(const e of this)for(let r=0;r<t.data.length;r++)t.data[r]=Math.max(e.data[r],t.data[r]);return t}function bn(){this.checkProcessable("max",{bitDepth:[8,16]});let t=Bh.createFrom(this[0]);t.data.fill(t.maxValue);for(const e of this)for(let r=0;r<t.data.length;r++)t.data[r]=Math.min(e.data[r],t.data[r]);return t}function vn(t){t.extendMethod("matchAndCrop",ln),t.extendMethod("getMin",un),t.extendMethod("getMax",cn),t.extendMethod("getMedian",gn),t.extendMethod("getHistogram",pn),t.extendMethod("getHistograms",mn),t.extendMethod("getAverage",wn),t.extendMethod("getAverageImage",wn),t.extendMethod("getMaxImage",yn),t.extendMethod("getMinImage",bn)}let xn={configurable:!0,enumerable:!1,get:void 0};class _n extends Array{constructor(t){if(Array.isArray(t)){super(t.length);for(let e=0;e<t.length;e++)this[e]=t[e]}else"number"===typeof t?super(t):super();this.computed=null}static load(t){return Promise.all(t.map(Bh.load)).then(t=>new _n(t))}static extendMethod(t,e,r={}){let{inPlace:n=!1,returnThis:i=!0,partialArgs:o=[]}=r;return _n.prototype[t]=n?function(...t){this.computed=null;let r=e.apply(this,[...o,...t]);return i?this:r}:function(...t){return e.apply(this,[...o,...t])},_n}static extendProperty(t,e,r={}){let{partialArgs:n=[]}=r;return xn.get=function(){if(null===this.computed)this.computed={};else if(Ve()(t,this.computed))return this.computed[t];let r=e.apply(this,n);return this.computed[t]=r,r},Object.defineProperty(_n.prototype,t,xn),_n}checkProcessable(t,e={}){if("string"!==typeof t)throw new TypeError("checkProcessable requires as first parameter the processName (a string)");if(0===this.size)throw new TypeError(`The process: ${t} can not be applied on an empty stack`);this[0].checkProcessable(t,e);for(let r=1;r<this.length;r++){if((void 0===e.sameSize||e.sameSize)&&this[0].width!==this[r].width)throw new TypeError(`The process: ${t} can not be applied if width is not identical in all images`);if((void 0===e.sameSize||e.sameSize)&&this[0].height!==this[r].height)throw new TypeError(`The process: ${t} can not be applied if height is not identical in all images`);if((void 0===e.sameAlpha||e.sameAlpha)&&this[0].alpha!==this[r].alpha)throw new TypeError(`The process: ${t} can not be applied if alpha is not identical in all images`);if((void 0===e.sameBitDepth||e.sameBitDepth)&&this[0].bitDepth!==this[r].bitDepth)throw new TypeError(`The process: ${t} can not be applied if bitDepth is not identical in all images`);if((void 0===e.sameColorModel||e.sameColorModel)&&this[0].colorModel!==this[r].colorModel)throw new TypeError(`The process: ${t} can not be applied if colorModel is not identical in all images`);if((void 0===e.sameNumberChannels||e.sameNumberChannels)&&this[0].channels!==this[r].channels)throw new TypeError(`The process: ${t} can not be applied if channels is not identical in all images`)}}}Array[Symbol.species]||(_n.prototype.map=function(t,e){if("function"!==typeof t)throw new TypeError(t+" is not a function");let r=new _n(this.length);for(let n=0;n<this.length;n++)r[n]=t.call(e,this[n],n,this);return r}),vn(_n);const Mn=/^data:[a-z]+\/([a-z]+);base64,/;function kn(t,e){if("string"===typeof t)return En(t,e);if(t instanceof ArrayBuffer)return Promise.resolve(An(new Uint8Array(t)));if(t.buffer)return Promise.resolve(An(t));throw new Error('argument to "load" must be a string or buffer.')}function An(t,e){const r=hn()(t);if(r)switch(r.mime){case"image/png":return Sn(t);case"image/jpeg":return Pn(t);case"image/tiff":return In(t);default:return Rn(n(r.mime))}return Rn(n("application/octet-stream"));function n(r){return e||Ie(t,r)}}function En(t,e){const r=t.slice(0,64).match(Mn);let n;return n=null!==r?Promise.resolve(Pe(t.slice(r[0].length))):Be(t,e),n.then(e=>{const n=new Uint8Array(e);return An(n,r?t:void 0)})}function Sn(t){const e=Me(t);let r,n=e.channels,i=0;return 2===n||4===n?(r=n-1,i=1):r=n,e.palette?Tn(e):new Bh(e.width,e.height,e.data,{components:r,alpha:i,bitDepth:e.depth})}function Tn(t){const e=t.width*t.height,r=t.palette[0].length,n=new Uint8Array(e*r),i=8/t.depth,o=t.depth<8?i:1,a=parseInt("1".repeat(t.depth),2),s=4===r;let h=0;for(let l=0;l<e;l++){const e=Math.floor(l/o);let r=t.data[e];t.depth<8&&(r=r>>>t.depth*(i-1-l%i)&a);const u=t.palette[r];n[h++]=u[0],n[h++]=u[1],n[h++]=u[2],s&&(n[h++]=u[3])}return new Bh(t.width,t.height,n,{components:3,alpha:s,bitDepth:8})}function Pn(t){const e=Object(br["decode"])(t);let r;e.exif&&(r=Dn(e.exif));const n=Object(Ae["decode"])(t,!0);return new Bh(n.width,n.height,n.data,{meta:r})}function In(t){let e=an(t);return 1===e.length?Cn(e[0]):new _n(e.map(Cn))}function Dn(t){const e={tiff:t};return t.exif&&(e.exif=t.exif),t.gps&&(e.gps=t.gps),e}function Cn(t){if(3===t.type){const e=new Uint16Array(3*t.width*t.height),r=t.palette;let n=0;for(let i=0;i<t.data.length;i++){const o=t.data[i],a=r[o];e[n++]=a[0],e[n++]=a[1],e[n++]=a[2]}return new Bh(t.width,t.height,e,{components:3,alpha:0,colorModel:qe,bitDepth:16,meta:Dn(t)})}return new Bh(t.width,t.height,t.data,{components:1,alpha:0,colorModel:He,bitDepth:t.bitsPerSample.length?t.bitsPerSample[0]:t.bitsPerSample,meta:Dn(t)})}function Rn(t,e){return e=e||{},new Promise((function(r,n){let i=new Ce;i.onload=function(){let t=i.width,n=i.height,o=Re(t,n),a=o.getContext("2d");a.drawImage(i,0,0,t,n);let s=a.getImageData(0,0,t,n).data;r(new Bh(t,n,s,e))},i.onerror=function(){n(new Error("Could not load "+t))},i.src=t}))}const Bn={getValueXY(t,e,r){return this.data[(e*this.width+t)*this.channels+r]},setValueXY(t,e,r,n){return this.data[(e*this.width+t)*this.channels+r]=n,this.computed=null,this},getValue(t,e){return this.data[t*this.channels+e]},setValue(t,e,r){return this.data[t*this.channels+e]=r,this.computed=null,this},getPixelXY(t,e){return this.getPixel(e*this.width+t)},setPixelXY(t,e,r){return this.setPixel(e*this.width+t,r)},getPixel(t){const e=new Array(this.channels),r=t*this.channels;for(let n=0;n<this.channels;n++)e[n]=this.data[r+n];return e},setPixel(t,e){const r=t*this.channels;for(let n=0;n<e.length;n++)this.data[r+n]=e[n];return this.computed=null,this}};function On(t){for(const e in Bn)t.prototype[e]=Bn[e]}function Ln(t){return{width:t.width,height:t.height,components:t.components,alpha:t.alpha,colorModel:t.colorModel,bitDepth:t.bitDepth}}function Un(t,e,r,n={}){const{out:i}=e;if(void 0===i)return n.copy?t.clone():Bh.createFrom(t,r);{if(!Bh.isImage(i))throw new TypeError("out must be an Image object");const e=Object.assign(Ln(t),r);for(const t in e)if(i[t]!==e[t])throw new RangeError(`cannot use out. Its ${t} must be "${e[t]}" (found "${i[t]}")`);return i}}function Nn(t,e,r){if(void 0!==e.inPlace&&"boolean"!==typeof e.inPlace)throw new TypeError("inPlace option must be a boolean");if(e.inPlace){if(void 0!==e.out)throw new TypeError("out option must not be set if inPlace option is true");return t}return Un(t,e,null,r)}function zn(t={}){this.checkProcessable("abs",{bitDepth:[32]});const e=Nn(this,t);return Fn(this,e),e}function Fn(t,e){for(let r=0;r<t.data.length;r++)e.data[r]=Math.abs(t.data[r])}function jn(t,e){if(1===t.alpha&&1===e.alpha)for(let r=0;r<t.size;r++)e.data[r*e.channels+e.components]=t.data[r*t.channels+t.components]}function Yn(t={}){this.checkProcessable("invert",{bitDepth:[1,8,16]});const e=Nn(this,t);return 1===this.bitDepth?Vn(this,e):(Xn(this,e),this!==e&&jn(this,e)),e}function Vn(t,e){for(let r=0;r<t.data.length;r++)e.data[r]=~t.data[r]}function Xn(t,e){for(let r=0;r<t.data.length;r+=t.channels)for(let n=0;n<t.components;n++)e.data[r+n]=t.maxValue-t.data[r+n]}function $n(){this.checkProcessable("flipX",{bitDepth:[8,16]});for(let t=0;t<this.height;t++){let e=t*this.width*this.channels;for(let t=0;t<Math.floor(this.width/2);t++){let r=t*this.channels+e,n=(this.width-t-1)*this.channels+e;for(let t=0;t<this.channels;t++){let e=this.data[r+t];this.data[r+t]=this.data[n+t],this.data[n+t]=e}}}return this}function Gn(){this.checkProcessable("flipY",{bitDepth:[8,16]});for(let t=0;t<Math.floor(this.height/2);t++)for(let e=0;e<this.width;e++){let r=e*this.channels+t*this.width*this.channels,n=e*this.channels+(this.height-1-t)*this.channels*this.width;for(let t=0;t<this.channels;t++){let e=this.data[r+t];this.data[r+t]=this.data[n+t],this.data[n+t]=e}}return this}function Hn(t={}){const{radius:e=1}=t;if(e<1)throw new Error("radius must be greater than 1");const r=2*e+1,n=new Array(r);for(let i=0;i<r;i++){n[i]=new Array(r);for(let t=0;t<r;t++)n[i][t]=1/(r*r)}return this.convolution(n)}var qn=r("cfdd");function Wn(t,e={}){let{channels:r,allowAlpha:n,defaultAlpha:i}=e;return"boolean"!==typeof n&&(n=!0),"undefined"===typeof r?Zn(t,i):Kn(t,r,n)}function Zn(t,e){let r=e?t.channels:t.components,n=new Array(r);for(let i=0;i<r;i++)n[i]=i;return n}function Kn(t,e,r){Array.isArray(e)||(e=[e]);for(let n=0;n<e.length;n++)e[n]=Jn(t,e[n],r);return e}function Jn(t,e,r=!0){if(void 0===e)throw new RangeError("validateChannel : the channel has to be >=0 and <"+t.channels);if("string"===typeof e){switch(t.colorModel){case He:break;case qe:if("rgb".includes(e))switch(e){case"r":e=0;break;case"g":e=1;break;case"b":e=2;break}break;case We:if("hsl".includes(e))switch(e){case"h":e=0;break;case"s":e=1;break;case"l":e=2;break}break;case Ze:if("hsv".includes(e))switch(e){case"h":e=0;break;case"s":e=1;break;case"v":e=2;break}break;case Ke:if("cmyk".includes(e))switch(e){case"c":e=0;break;case"m":e=1;break;case"y":e=2;break;case"k":e=3;break}break;default:throw new Error("Unexpected color model: "+t.colorModel)}if("a"===e){if(!t.alpha)throw new Error("validateChannel : the image does not contain alpha channel");e=t.components}if("string"===typeof e)throw new Error("validateChannel : undefined channel: "+e)}if(e>=t.channels)throw new RangeError("validateChannel : the channel has to be >=0 and <"+t.channels);if(!r&&e>=t.components)throw new RangeError("validateChannel : alpha channel may not be selected");return e}function Qn(t={}){let{radius:e=1,border:r="copy",channels:n}=t;if(this.checkProcessable("medianFilter",{bitDepth:[8,16]}),e<1)throw new Error("radius must be greater than 0");n=Wn(this,n,!0);let i=e,o=e,a=Bh.createFrom(this),s=(2*i+1)*(2*o+1),h=Math.floor(s/2),l=new Array(s);for(let u=0;u<n.length;u++){let t=n[u];for(let e=o;e<this.height-o;e++)for(let r=i;r<this.width-i;r++){let n=0;for(let a=-o;a<=o;a++)for(let o=-i;o<=i;o++){let i=((e+a)*this.width+r+o)*this.channels+t;l[n++]=this.data[i]}let s=(e*this.width+r)*this.channels+t,u=l.sort(qn["asc"])[h];a.data[s]=u}}if(this.alpha&&!n.includes(this.channels))for(let u=this.components;u<this.data.length;u+=this.channels)a.data[u]=this.data[u];return a.setBorder({size:[i,o],algorithm:r}),a}function ti(t={}){let{radius:e=1,sigma:r,channels:n,border:i="copy"}=t;this.checkProcessable("gaussian",{bitDepth:[8,16]});const o=ei(e,r);return this.convolution([o,o],{border:i,channels:n,algorithm:"separable"})}function ei(t,e){const r=2*t+1,n=new Array(r),i=e||.3*(.5*(r-1)-1)+.8,o=-.5/(i*i);let a=0;for(let s=0;s<r;s++){const e=s-t,r=Math.exp(o*e*e);n[s]=r,a+=r}for(let s=0;s<r;s++)n[s]/=a;return n}const ri=[[-1,0,1],[-2,0,2],[-1,0,1]],ni=[[-1,-2,-1],[0,0,0],[1,2,1]],ii=[[3,0,-3],[10,0,-10],[3,0,-3]],oi=[[3,10,3],[0,0,0],[-3,-10,-3]];var ai=r("6f21"),si=r("b4ec"),hi=r.n(si);function li(t){let e,r;if(!Array.isArray(t))throw new Error("validateKernel: Invalid Kernel: "+t);if(Array.isArray(t[0])){if(0===(1&t.length)||0===(1&t[0].length))throw new RangeError("validateKernel: Kernel rows and columns should be odd numbers");e=Math.floor(t.length/2),r=Math.floor(t[0].length/2)}else{let n=Math.sqrt(t.length);if(!hi()(n))throw new RangeError("validateKernel: Kernel array should be a square");r=e=Math.floor(Math.sqrt(t.length)/2);let i=new Array(n);for(let e=0;e<n;e++){i[e]=new Array(n);for(let r=0;r<n;r++)i[e][r]=t[e*n+r]}t=i}return{kernel:t,kWidth:r,kHeight:e}}function ui(t,e){return Math.round(Math.min(Math.max(t,0),e.maxValue))}function ci(t,e,r){if(void 0===r){const n=t.length+e.length-1;r=new Array(n)}fi(r);for(var n=0;n<t.length;n++)for(var i=0;i<e.length;i++)r[n+i]+=t[n]*e[i];return r}function fi(t){for(var e=0;e<t.length;e++)t[e]=0}r("ba72"),r("00a1");function di(t,e,r,n){const i=new Array(t.length);let o,a,s,h;h=e[1],s=(h.length-1)/2,a=new Array(r+h.length-1),o=new Array(r);for(let l=0;l<n;l++){for(let e=0;e<r;e++)o[e]=t[l*r+e];ci(o,h,a);for(let t=0;t<r;t++)i[l*r+t]=a[s+t]}h=e[0],s=(h.length-1)/2,a=new Array(n+h.length-1),o=new Array(n);for(let l=0;l<r;l++){for(let t=0;t<n;t++)o[t]=i[t*r+l];ci(o,h,a);for(let t=0;t<n;t++)i[t*r+l]=a[s+t]}return i}var gi=r("b4ae");function pi(t){const e=new gi["SVD"](t,{autoTranspose:!0});if(1!==e.rank)return null;const r=Math.sqrt(e.s[0]),n=e.U.map(t=>t[0]*r),i=e.V.map(t=>t[0]*r);return[n,i]}function mi(t,e={}){let{channels:r,bitDepth:n,normalize:i=!1,divisor:o=1,border:a="copy",algorithm:s="auto"}=e,h={};n&&(h.bitDepth=n);let l,u,c=Bh.createFrom(this,h);if(r=Wn(this,r,!0),"separable"!==s)({kernel:t}=li(t));else if(!Array.isArray(t)||2!==t.length)throw new RangeError("separable convolution requires two arrays of numbers to represent the kernel");if("auto"===s){let e=pi(t);null!==e?(s="separable",t=e):s=(t.length>9||t[0].length>9)&&this.width<=4096&&this.height<=4096?"fft":"direct"}"separable"===s?(l=Math.floor(t[0].length/2),u=Math.floor(t[1].length/2)):(l=Math.floor(t.length/2),u=Math.floor(t[0].length/2));let f,d,g,p,m,w,y=c.isClamped,b=new Array(this.height*this.width);for(p=0;p<r.length;p++){for(m=r[p],g=0;g<this.height;g++)for(d=0;d<this.width;d++)f=g*this.width+d,b[f]=this.data[f*this.channels+m];if("direct"===s)w=Object(ai["direct"])(b,t,{rows:this.height,cols:this.width,normalize:i,divisor:o});else if("separable"===s){if(w=di(b,t,this.width,this.height),i){o=0;for(let e=0;e<t[0].length;e++)for(let r=0;r<t[1].length;r++)o+=t[0][e]*t[1][r]}if(1!==o)for(let t=0;t<w.length;t++)w[t]/=o}else w=Object(ai["fft"])(b,t,{rows:this.height,cols:this.width,normalize:i,divisor:o});for(g=0;g<this.height;g++)for(d=0;d<this.width;d++)f=g*this.width+d,c.data[f*this.channels+m]=y?ui(w[f],c):w[f]}if(this.alpha&&!r.includes(this.channels))for(d=this.components;d<this.data.length;d+=this.channels)c.data[d]=this.data[d];return"periodic"!==a&&c.setBorder({size:[u,l],algorithm:a}),c}function wi(t={}){let{direction:e="xy",border:r="copy",kernelX:n,kernelY:i,channels:o,bitDepth:a=this.bitDepth}=t;switch(this.checkProcessable("gradientFilter",{bitDepth:[8,16]}),e){case"x":if(!n)throw new Error("kernelX option is missing");return mi.call(this,n,{channels:o,border:r,bitDepth:a});case"y":if(!i)throw new Error("kernelY option is missing");return mi.call(this,i,{channels:o,border:r,bitDepth:a});case"xy":{if(!n)throw new Error("kernelX option is missing");if(!i)throw new Error("kernelY option is missing");const t=mi.call(this,n,{channels:o,border:r,bitDepth:32}),e=mi.call(this,i,{channels:o,border:r,bitDepth:32});return t.hypotenuse(e,{bitDepth:a,channels:o})}default:throw new Error("Unknown parameter direction: "+e)}}function yi(t){return wi.call(this,Object.assign({},t,{kernelX:ri,kernelY:ni}))}function bi(t){return wi.call(this,Object.assign({},t,{kernelX:ii,kernelY:oi}))}var vi=r("41c8"),xi=r.n(vi);function _i(t={}){let{algorithm:e="range",channels:r,min:n=this.min,max:i=this.max}=t;switch(this.checkProcessable("level",{bitDepth:[8,16,32]}),r=Wn(this,{channels:r}),r.length!==this.channel&&(Array.isArray(n)&&n.length===this.channels&&(n=n.filter((t,e)=>r.includes(e))),Array.isArray(i)&&i.length===this.channels&&(i=i.filter((t,e)=>r.includes(e)))),e){case"range":n<0&&(n=0),i>this.maxValue&&(i=this.maxValue),Array.isArray(n)||(n=xi()(r.length,n)),Array.isArray(i)||(i=xi()(r.length,i)),Mi(this,n,i,r);break;default:throw new Error("level: algorithm not implement: "+e)}return this}function Mi(t,e,r,n){let i=1e-5,o=new Array(n.length);for(let a=0;a<n.length;a++)0===e[a]&&r[a]===t.maxValue||r[a]===e[a]?o[a]=0:o[a]=(t.maxValue+1-i)/(r[a]-e[a]),e[a]+=(.5-i/2)/o[a];for(let a=0;a<n.length;a++){let r=n[a];if(0!==o[a])for(let n=0;n<t.data.length;n+=t.channels)t.data[n+r]=Math.min(Math.max(0,(t.data[n+r]-e[a])*o[a]+.5|0),t.maxValue)}}var ki=r("e88e"),Ai=r.n(ki);function Ei(t){if(isNaN(t)){if(t instanceof Bh)return t.data;if(!Ai()(t))throw new Error("checkNumberArray: the value should be either a number, array or Image");return t}if(t<=0)throw new Error("checkNumberArray: the value must be greater than 0");return t}function Si(t,e={}){let{channels:r}=e;if(this.checkProcessable("add",{bitDepth:[8,16]}),r=Wn(this,{channels:r}),t=Ei(t),isNaN(t)){if(this.data.length!==t.length)throw new Error("add: the data size is different");for(let e=0;e<r.length;e++){let n=r[e];for(let e=0;e<this.data.length;e+=this.channels)this.data[e+n]=Math.max(0,Math.min(this.maxValue,this.data[e+n]+t[e+n]>>0))}}else for(let n=0;n<r.length;n++){let e=r[n];for(let r=0;r<this.data.length;r+=this.channels)this.data[r+e]=Math.min(this.maxValue,this.data[r+e]+t>>0)}return this}function Ti(t,e={}){let{channels:r}=e;if(this.checkProcessable("subtract",{bitDepth:[8,16]}),r=Wn(this,{channels:r}),t=Ei(t),isNaN(t)){if(this.data.length!==t.length)throw new Error("subtract: the data size is different");for(let e=0;e<r.length;e++){let n=r[e];for(let e=0;e<this.data.length;e+=this.channels)this.data[e+n]=Math.max(0,Math.min(this.maxValue,this.data[e+n]-t[e+n]>>0))}}else for(let n=0;n<r.length;n++){let e=r[n];for(let r=0;r<this.data.length;r+=this.channels)this.data[r+e]=Math.max(0,this.data[r+e]-t>>0)}return this}function Pi(t,e={}){let{bitDepth:r=this.bitDepth,channels:n,absolute:i=!1}=e;if(this.checkProcessable("subtractImage",{bitDepth:[8,16]}),this.width!==t.width||this.height!==t.height)throw new Error("subtractImage: both images must have the same size");if(this.alpha!==t.alpha||this.bitDepth!==t.bitDepth)throw new Error("subtractImage: both images must have the same alpha and bitDepth");if(this.channels!==t.channels)throw new Error("subtractImage: both images must have the same number of channels");let o=Bh.createFrom(this,{bitDepth:r});n=Wn(this,{channels:n});for(let a=0;a<n.length;a++){let e=n[a];for(let r=e;r<this.data.length;r+=this.channels){let e=this.data[r]-t.data[r];o.data[r]=i?Math.abs(e):Math.max(e,0)}}return o}function Ii(t,e={}){let{bitDepth:r=this.bitDepth,channels:n}=e;if(this.checkProcessable("hypotenuse",{bitDepth:[8,16,32]}),this.width!==t.width||this.height!==t.height)throw new Error("hypotenuse: both images must have the same size");if(this.alpha!==t.alpha||this.bitDepth!==t.bitDepth)throw new Error("hypotenuse: both images must have the same alpha and bitDepth");if(this.channels!==t.channels)throw new Error("hypotenuse: both images must have the same number of channels");let i=Bh.createFrom(this,{bitDepth:r});n=Wn(this,{channels:n});let o=i.isClamped;for(let a=0;a<n.length;a++){let e=n[a];for(let r=e;r<this.data.length;r+=this.channels){let e=Math.hypot(this.data[r],t.data[r]);i.data[r]=o?Math.min(Math.max(Math.round(e),0),i.maxValue):e}}return i}function Di(t,e={}){let{channels:r}=e;if(this.checkProcessable("multiply",{bitDepth:[8,16]}),t<=0)throw new Error("multiply: the value must be greater than 0");if(r=Wn(this,{channels:r}),t=Ei(t),isNaN(t)){if(this.data.length!==t.length)throw new Error("multiply: the data size is different");for(let e=0;e<r.length;e++){let n=r[e];for(let e=0;e<this.data.length;e+=this.channels)this.data[e+n]=Math.max(0,Math.min(this.maxValue,this.data[e+n]*t[e+n]>>0))}}else for(let n=0;n<r.length;n++){let e=r[n];for(let r=0;r<this.data.length;r+=this.channels)this.data[r+e]=Math.min(this.maxValue,this.data[r+e]*t>>0)}return this}function Ci(t,e={}){let{channels:r}=e;if(this.checkProcessable("divide",{bitDepth:[8,16]}),r=Wn(this,{channels:r}),t=Ei(t),isNaN(t)){if(this.data.length!==t.length)throw new Error("divide: the: the data size is different");for(let e=0;e<r.length;e++){let n=r[e];for(let e=0;e<this.data.length;e+=this.channels)this.data[e+n]=Math.max(0,Math.min(this.maxValue,this.data[e+n]/t[e+n]>>0))}}else for(let n=0;n<r.length;n++){let e=r[n];for(let r=0;r<this.data.length;r+=this.channels)this.data[r+e]=Math.min(this.maxValue,this.data[r+e]/t>>0)}return this}class Ri{constructor(){if(new.target===Ri)throw new Error("BaseRegression must be subclassed")}predict(t){if("number"===typeof t)return this._predict(t);if(Array.isArray(t)){const e=new Array(t.length);for(let r=0;r<t.length;r++)e[r]=this._predict(t[r]);return e}throw new TypeError("x must be a number or array")}_predict(){throw new Error("_predict must be implemented")}train(){}toString(){return""}toLaTeX(){return""}score(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)throw new Error("x and y must be arrays of the same length");const r=t.length,n=new Array(r);for(let f=0;f<r;f++)n[f]=this._predict(t[f]);let i=0,o=0,a=0,s=0,h=0,l=0,u=0;for(let f=0;f<r;f++)i+=n[f],o+=e[f],h+=n[f]*n[f],l+=e[f]*e[f],u+=n[f]*e[f],0!==e[f]&&(a+=(e[f]-n[f])*(e[f]-n[f])/e[f]),s+=(e[f]-n[f])*(e[f]-n[f]);const c=(r*u-i*o)/Math.sqrt((r*h-i*i)*(r*l-o*o));return{r:c,r2:c*c,chi2:a,rmsd:Math.sqrt(s/r)}}}var Bi=r("53e7"),Oi=r.n(Bi);const Li={lambda:.1,kernelType:"gaussian",kernelOptions:{},computeCoefficient:!1};class Ui extends Ri{constructor(t,e,r){if(super(),!0===t)this.alpha=e.alpha,this.inputs=e.inputs,this.kernelType=e.kernelType,this.kernelOptions=e.kernelOptions,this.kernel=new Oi.a(e.kernelType,e.kernelOptions);else{r=Object.assign({},Li,r);const n=new Oi.a(r.kernelType,r.kernelOptions),i=n.compute(t),o=t.length;i.add(gi["Matrix"].eye(o,o).mul(r.lambda)),this.alpha=Object(gi["solve"])(i,e),this.inputs=t,this.kernelType=r.kernelType,this.kernelOptions=r.kernelOptions,this.kernel=n}}_predict(t){return this.kernel.compute([t],this.inputs).mmul(this.alpha)[0]}toJSON(){return{name:"kernelRidgeRegression",alpha:this.alpha,inputs:this.inputs,kernelType:this.kernelType,kernelOptions:this.kernelOptions}}static load(t){if("kernelRidgeRegression"!==t.name)throw new TypeError("not a KRR model");return new Ui(!0,t)}}var Ni=r("8a58");Ni["array"].median;function zi(t,e,r){const n=new Ui(t,e,r),i=new Array(this.size);for(let s=0;s<this.width;s++)for(let t=0;t<this.height;t++)i[t*this.width+s]=[s,t];const o=n.predict(i),a=Bh.createFrom(this);for(let s=0;s<this.size;s++)a.data[s]=Math.min(this.maxValue,Math.max(0,o[s][0]));return a}function Fi(t={}){let{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:r=1}=t;if(this.checkProcessable("dilate",{bitDepth:[1,8,16],components:1,alpha:0}),e.columns%2===0||e.rows%2===0)throw new TypeError("dilate: The number of rows and columns of the kernel must be odd");let n=!0;t:for(const o of e)for(const t of o)if(1!==t){n=!1;break t}let i=this;for(let o=0;o<r;o++)if(1===this.bitDepth)if(n){const t=i.clone();i=Xi(i,t,e.length,e[0].length)}else{const t=Bh.createFrom(i);i=Vi(i,t,e)}else if(n){const t=Bh.createFrom(i);i=Yi(i,t,e.length,e[0].length)}else{const t=Bh.createFrom(i);i=ji(i,t,e)}return i}function ji(t,e,r){const n=r.length,i=r[0].length;let o=(n-1)/2,a=(i-1)/2;for(let s=0;s<t.height;s++)for(let h=0;h<t.width;h++){let l=0;for(let e=0;e<i;e++)for(let i=0;i<n;i++){if(1!==r[i][e])continue;let n=i-o+h,u=e-a+s;if(n<0||u<0||n>=t.width||u>=t.height)continue;const c=t.getValueXY(n,u,0);c>l&&(l=c)}e.setValueXY(h,s,0,l)}return e}function Yi(t,e,r,n){const i=(r-1)/2,o=(n-1)/2,a=[];for(let s=0;s<t.width;s++)a.push(0);for(let s=0;s<t.height;s++){for(let e=0;e<t.width;e++){let r=0;for(let n=Math.max(0,s-o);n<Math.min(t.height,s+o+1);n++){const i=t.getValueXY(e,n,0);i>r&&(r=i)}a[e]=r}for(let r=0;r<t.width;r++){let n=0;for(let e=Math.max(0,r-i);e<Math.min(t.width,r+i+1);e++)a[e]>n&&(n=a[e]);e.setValueXY(r,s,0,n)}}return e}function Vi(t,e,r){const n=r.length,i=r[0].length;let o=(n-1)/2,a=(i-1)/2;for(let s=0;s<t.height;s++)for(let h=0;h<t.width;h++){let l=0;t:for(let e=0;e<i;e++)for(let i=0;i<n;i++){if(1!==r[i][e])continue;let n=i-o+h,u=e-a+s;if(u<0||n<0||n>=t.width||u>=t.height)continue;const c=t.getBitXY(n,u);if(1===c){l=1;break t}}1===l&&e.setBitXY(h,s)}return e}function Xi(t,e,r,n){const i=(r-1)/2,o=(n-1)/2,a=[];for(let s=0;s<t.width;s++)a.push(1);for(let s=0;s<t.height;s++){for(let e=0;e<t.width;e++){a[e]=0;for(let r=Math.max(0,s-o);r<Math.min(t.height,s+o+1);r++)if(1===t.getBitXY(e,r)){a[e]=1;break}}for(let r=0;r<t.width;r++)if(1!==e.getBitXY(r,s))for(let n=Math.max(0,r-i);n<Math.min(t.width,r+i+1);n++)if(1===a[n]){e.setBitXY(r,s);break}}return e}function $i(t={}){let{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:r=1}=t;if(this.checkProcessable("erode",{bitDepth:[1,8,16],components:1,alpha:0}),e.columns%2===0||e.rows%2===0)throw new TypeError("erode: The number of rows and columns of the kernel must be odd");let n=!0;t:for(const o of e)for(const t of o)if(1!==t){n=!1;break t}let i=this;for(let o=0;o<r;o++)if(1===this.bitDepth)if(n){const t=i.clone();i=Wi(i,t,e.length,e[0].length)}else{const t=Bh.createFrom(i);i=qi(i,t,e)}else if(n){const t=Bh.createFrom(i);i=Hi(i,t,e.length,e[0].length)}else{const t=Bh.createFrom(i);i=Gi(i,t,e)}return i}function Gi(t,e,r){const n=r.length,i=r[0].length;let o=(n-1)/2,a=(i-1)/2;for(let s=0;s<t.height;s++)for(let h=0;h<t.width;h++){let l=t.maxValue;for(let e=0;e<i;e++)for(let i=0;i<n;i++){if(1!==r[i][e])continue;let n=i-o+h,u=e-a+s;if(n<0||u<0||n>=t.width||u>=t.height)continue;const c=t.getValueXY(n,u,0);c<l&&(l=c)}e.setValueXY(h,s,0,l)}return e}function Hi(t,e,r,n){const i=(r-1)/2,o=(n-1)/2,a=[];for(let s=0;s<t.width;s++)a.push(0);for(let s=0;s<t.height;s++){for(let e=0;e<t.width;e++){let r=t.maxValue;for(let n=Math.max(0,s-o);n<Math.min(t.height,s+o+1);n++){const i=t.getValueXY(e,n,0);i<r&&(r=i)}a[e]=r}for(let r=0;r<t.width;r++){let n=t.maxValue;for(let e=Math.max(0,r-i);e<Math.min(t.width,r+i+1);e++)a[e]<n&&(n=a[e]);e.setValueXY(r,s,0,n)}}return e}function qi(t,e,r){const n=r.length,i=r[0].length;let o=(n-1)/2,a=(i-1)/2;for(let s=0;s<t.height;s++)for(let h=0;h<t.width;h++){let l=1;t:for(let e=0;e<i;e++)for(let i=0;i<n;i++){if(1!==r[i][e])continue;let n=i-o+h,u=e-a+s;if(u<0||n<0||n>=t.width||u>=t.height)continue;const c=t.getBitXY(n,u);if(0===c){l=0;break t}}1===l&&e.setBitXY(h,s)}return e}function Wi(t,e,r,n){const i=(r-1)/2,o=(n-1)/2,a=[];for(let s=0;s<t.width;s++)a.push(0);for(let s=0;s<t.height;s++){for(let e=0;e<t.width;e++){a[e]=1;for(let r=Math.max(0,s-o);r<Math.min(t.height,s+o+1);r++)if(0===t.getBitXY(e,r)){a[e]=0;break}}for(let r=0;r<t.width;r++)if(0!==e.getBitXY(r,s))for(let n=Math.max(0,r-i);n<Math.min(t.width,r+i+1);n++)if(0===a[n]){e.clearBitXY(r,s);break}}return e}function Zi(t={}){let{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:r=1}=t;if(this.checkProcessable("open",{bitDepth:[8,16],components:1,alpha:0}),e.columns%2===0||e.rows%2===0)throw new TypeError("open: The number of rows and columns of the kernel must be odd");let n=this;for(let i=0;i<r;i++)n=n.erode({kernel:e}),n=n.dilate({kernel:e});return n}function Ki(t={}){let{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:r=1}=t;if(this.checkProcessable("close",{bitDepth:[1,8,16],components:1,alpha:0}),e.columns%2===0||e.rows%2===0)throw new TypeError("close: The number of rows and columns of the kernel must be odd");let n=this;for(let i=0;i<r;i++)n=n.dilate({kernel:e}).erode({kernel:e});return n}function Ji(t={}){let{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:r=1}=t;if(this.checkProcessable("topHat",{bitDepth:[8,16],components:1,alpha:0}),e.columns%2===0||e.rows%2===0)throw new TypeError("topHat: The number of rows and columns of the kernel must be odd");let n=this;for(let i=0;i<r;i++){let t=n.open({kernel:e});n=t.subtractImage(n,{absolute:!0})}return n}function Qi(t={}){let{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:r=1}=t;if(this.checkProcessable("blackHat",{bitDepth:[8,16],components:1,alpha:0}),e.columns%2===0||e.rows%2===0)throw new TypeError("blackHat: The number of rows and columns of the kernel must be odd");let n=this;for(let i=0;i<r;i++){const t=n.close({kernel:e});n=t.subtractImage(n,{absolute:!0})}return n}function to(t={}){let{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:r=1}=t;if(this.checkProcessable("morphologicalGradient",{bitDepth:[8,16],components:1,alpha:0}),e.columns%2===0||e.rows%2===0)throw new TypeError("morphologicalGradient: The number of rows and columns of the kernel must be odd");let n=this;for(let i=0;i<r;i++){let t=n.dilate({kernel:e}),r=n.erode({kernel:e});n=t.subtractImage(r,{absolute:!0})}return n}function eo(t){let e=0,r=0,n=0,i=0,o=t[0][0],a=0;for(let l=1;l<t.length;l++)t[l][0]<o&&(o=t[l][0],a=l);let s=t[(a+1)%t.length][0],h=(a+1)%t.length;for(let l=1;l<t.length;l++)t[l][0]<s&&l!==a&&(s=t[l][0],h=l);return t[h][1]<t[a][1]?(e=t[h],i=t[a],a!==(h+1)%4?(r=t[(h+1)%4],n=t[(h+2)%4]):(r=t[(h+2)%4],n=t[(h+3)%4])):(i=t[h],e=t[a],h!==(a+1)%4?(r=t[(a+1)%4],n=t[(a+2)%4]):(r=t[(a+2)%4],n=t[(a+3)%4])),[e,r,n,i]}function ro(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))}function no(t,e){let r=[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]];return r}function io(t,e){let r=t[0]*e[0]+t[1]*e[1]+t[2]*e[2];return r}function oo(t,e,r,n,i,o){let a=Math.max(ro(t,e),ro(n,r)),s=Math.max(ro(t,n),ro(e,r)),h=0,l=0,u=Math.ceil(i/2),c=Math.ceil(o/2),f=a/s,d=[t[0],t[1],1],g=[e[0],e[1],1],p=[n[0],n[1],1],m=[r[0],r[1],1],w=io(no(d,m),p)/io(no(g,m),p),y=io(no(d,m),g)/io(no(p,m),g),b=[w*g[0]-d[0],w*g[1]-d[1],w*g[2]-d[2]],v=[y*p[0]-d[0],y*p[1]-d[1],y*p[2]-d[2]],x=b[0],_=b[1],M=b[2],k=v[0],A=v[1],E=v[2],S=1/(M*E)*(x*k-(x*E+M*k)*u+M*E*u*u+(_*A-(_*E+M*A)*c+M*E*c*c));S=S>=0?Math.sqrt(S):Math.sqrt(-S);let T=new gi["Matrix"]([[S,0,u],[0,S,c],[0,0,1]]),P=T.transpose(),I=Object(gi["inverse"])(P),D=Object(gi["inverse"])(T),C=gi["Matrix"].rowVector(b),R=gi["Matrix"].rowVector(v),B=Math.sqrt(io(C.mmul(I).mmul(D).to1DArray(),b)/io(R.mmul(I).mmul(D).to1DArray(),v));return 0===B||0===f?(h=Math.ceil(a),l=Math.ceil(s)):B<f?(h=Math.ceil(a),l=Math.ceil(h/B)):(l=Math.ceil(s),h=Math.ceil(B*l)),[h,l]}function ao(t,e,r,n,i,o,a,s,h,l,u,c){let[f,d]=[(r*t+n*e+i)/(h*t+l*e+1),(o*t+a*e+s)/(h*t+l*e+1)];return u.getValueXY(Math.floor(f),Math.floor(d),c)}function so(t,e={}){let{calculateRatio:r=!0}=e;if(4!==t.length)throw new Error(`The array pts must have four elements, which are the four corners. Currently, pts have ${t.length} elements`);let n,i,[o,a,s,h]=t,l=[o,a,s,h],[u,c,f,d]=eo(l);r?[n,i]=oo(u,c,f,d,this.width,this.height):(n=Math.ceil(Math.max(ro(u,c),ro(d,f))),i=Math.ceil(Math.max(ro(u,d),ro(c,f))));let g=Bh.createFrom(this,{width:n,height:i}),[p,m]=u,[w,y]=c,[b,v]=f,[x,_]=d,[M,k]=[0,0],[A,E]=[0,n-1],[S,T]=[i-1,n-1],[P,I]=[i-1,0],D=new gi["Matrix"]([[M,k,1,0,0,0,-M*p,-k*p],[A,E,1,0,0,0,-A*w,-E*w],[S,T,1,0,0,0,-S*b,-k*b],[P,I,1,0,0,0,-P*x,-I*x],[0,0,0,M,k,1,-M*m,-k*m],[0,0,0,A,E,1,-A*y,-E*y],[0,0,0,S,T,1,-S*v,-T*v],[0,0,0,P,I,1,-P*_,-I*_]]),C=gi["Matrix"].columnVector([p,w,b,x,m,y,v,_]),R=new gi["SingularValueDecomposition"](D),B=R.solve(C),[O,L,U,N,z,F,j,Y]=B.to1DArray(),V=new gi["Matrix"](i,n);for(let X=0;X<this.channels;X++){for(let t=0;t<i;t++)for(let e=0;e<n;e++)V.set(t,e,ao(t,e,O,L,U,N,z,F,j,Y,this,X));g.setMatrix(V,{channel:X})}return g}function ho(t={}){let{x:e=0,y:r=0,width:n=this.width-e,height:i=this.height-r}=t;if(this.checkProcessable("max",{bitDepth:[8,16]}),e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),e>this.width-1||r>this.height-1)throw new RangeError(`crop: origin (x:${e}, y:${r}) out of range (${this.width-1}; ${this.height-1})`);if(n<=0||i<=0)throw new RangeError(`crop: width and height (width:${n}; height:${i}) must be positive numbers`);if(e<0||r<0)throw new RangeError(`crop: x and y (x:${e}, y:${r}) must be positive numbers`);if(n>this.width-e||i>this.height-r)throw new RangeError(`crop: (x: ${e}, y:${r}, width:${n}, height:${i}) size is out of range`);let o=Bh.createFrom(this,{width:n,height:i,position:[e,r]}),a=n*this.channels,s=r+i,h=0,l=e*this.channels;for(let u=r;u<s;u++){let t=u*this.width*this.channels+l,e=t+a;for(;t<e;t++)o.data[h++]=this.data[t]}return o}function lo(t={}){this.checkProcessable("cropAlpha",{alpha:1});const{threshold:e=this.maxValue}=t;let r=uo(this,e,this.components);if(-1===r)throw new Error("Could not find new dimensions. Threshold may be too high.");let n=co(this,e,this.components,r),i=fo(this,e,this.components,r),o=go(this,e,this.components,r,n,i);return this.crop({x:r,y:n,width:o-r+1,height:i-n+1})}function uo(t,e,r){for(let n=0;n<t.width;n++)for(let i=0;i<t.height;i++)if(t.getValueXY(n,i,r)>=e)return n;return-1}function co(t,e,r,n){for(let i=0;i<t.height;i++)for(let o=n;o<t.width;o++)if(t.getValueXY(o,i,r)>=e)return i;return-1}function fo(t,e,r,n){for(let i=t.height-1;i>=0;i--)for(let o=n;o<t.width;o++)if(t.getValueXY(o,i,r)>=e)return i;return-1}function go(t,e,r,n,i,o){for(let a=t.width-1;a>=n;a--)for(let n=i;n<=o;n++)if(t.getValueXY(a,n,r)>=e)return a;return-1}function po(t){if("string"===typeof t){const e=t[t.length-1];t=parseFloat(t),"%"===e&&(t/=100)}return t}function mo(t,e){if(!e)throw Error("getThreshold : the maxValue should be specified");if("string"===typeof t){let r=t[t.length-1];if("%"!==r)throw Error("getThreshold : if the value is a string it must finish by %");return parseFloat(t)/100*e}if("number"===typeof t)return t<1?t*e:t;throw Error("getThreshold : the value is not valid")}function wo(t,e,r){t=po(t);let n=Math.round(t*e),i=Math.round(t*r);return n<=0&&(n=1),i<=0&&(i=1),{width:n,height:i}}function yo(t,e){if(e<0||e>=t.height)throw new RangeError(`row must be included between 0 and ${t.height-1}. Current value: ${e}`)}function bo(t,e){if(e<0||e>=t.width)throw new RangeError(`column must be included between 0 and ${t.width-1}. Current value: ${e}`)}function vo(t,e){if(e<0||e>=t.channels)throw new RangeError(`channel must be included between 0 and ${t.channels-1}. Current value: ${e}`)}const xo={nearestneighbor:"nearestNeighbor",nearestneighbour:"nearestNeighbor",bilinear:"bilinear"};function _o(t){if("string"!==typeof t)throw new TypeError("interpolation must be a string");if(t=t.toLowerCase(),!xo[t])throw new RangeError("invalid interpolation algorithm: "+t);return xo[t]}function Mo(t,e,r){const n=this.width/e,i=this.height/r;if(this.bitDepth>1)for(let o=0;o<e;o++){const e=Math.floor((o+.5)*n);for(let n=0;n<r;n++){const r=Math.floor((n+.5)*i);for(let i=0;i<this.channels;i++)t.setValueXY(o,n,i,this.getValueXY(e,r,i))}}else for(let o=0;o<e;o++){const e=Math.floor((o+.5)*n);for(let n=0;n<r;n++){const r=Math.floor((n+.5)*i);this.getBitXY(e,r)&&t.setBitXY(o,n)}}}function ko(t={}){const{factor:e=1,interpolation:r=xo.nearestneighbor,preserveAspectRatio:n=!0}=t,i=_o(r);let o=t.width,a=t.height;if(o||(o=a&&n?Math.round(a*(this.width/this.height)):this.width),a||(a=n?Math.round(o*(this.height/this.width)):this.height),({width:o,height:a}=wo(e,o,a)),o===this.width&&a===this.height){const t=this.clone();return t.position=[0,0],t}let s=Math.round((this.width-o)/2),h=Math.round((this.height-a)/2);const l=Bh.createFrom(this,{width:o,height:a,position:[s,h]});switch(i){case xo.nearestneighbor:Mo.call(this,l,o,a);break;default:throw new Error("unsupported resize interpolation: "+i)}return l}function Ao(){this.checkProcessable("hsv",{bitDepth:[8,16],alpha:[0,1],colorModel:[qe]});let t=Bh.createFrom(this,{colorModel:Ze}),e=0,r=this.data;for(let n=0;n<r.length;n+=this.channels){let i=r[n],o=r[n+1],a=r[n+2],s=Math.min(i,o,a),h=Math.max(i,o,a),l=h-s,u=0,c=0===h?0:l/h,f=h;if(h!==s){switch(h){case i:u=(o-a)/l+(o<a?6:0);break;case o:u=(a-i)/l+2;break;case a:u=(i-o)/l+4;break;default:throw new Error("unreachable")}u/=6}t.data[e++]=u*this.maxValue,t.data[e++]=c*this.maxValue,t.data[e++]=f,this.alpha&&(t.data[e++]=r[n+3])}return t}function Eo(){this.checkProcessable("hsl",{bitDepth:[8,16],alpha:[0,1],colorModel:[qe]});let t=Bh.createFrom(this,{colorModel:We}),e=Math.floor(this.maxValue/2),r=0,n=this.data;for(let i=0;i<n.length;i+=this.channels){let o=n[i],a=n[i+1],s=n[i+2],h=Math.max(o,a,s),l=Math.min(o,a,s),u=0,c=0,f=(h+l)/2;if(h!==l){let t=h-l;switch(c=f>e?t/(2-h-l):t/(h+l),h){case o:u=(a-s)/t+(a<s?6:0);break;case a:u=(s-o)/t+2;break;case s:u=(o-a)/t+4;break;default:throw new Error("unreachable")}u/=6}t.data[r++]=u*this.maxValue,t.data[r++]=c*this.maxValue,t.data[r++]=f,this.alpha&&(t.data[r++]=n[i+3])}return t}function So(){this.checkProcessable("cmyk",{bitDepth:[8,16],alpha:[0,1],colorModel:[qe]});let t=Bh.createFrom(this,{components:4,colorModel:Ke}),e=0,r=this.data;for(let n=0;n<r.length;n+=this.channels){let i=r[n],o=r[n+1],a=r[n+2],s=Math.min(this.maxValue-i,this.maxValue-o,this.maxValue-a),h=(this.maxValue-i-s)/(1-s/this.maxValue),l=(this.maxValue-o-s)/(1-s/this.maxValue),u=(this.maxValue-a-s)/(1-s/this.maxValue);t.data[e++]=Math.round(h),t.data[e++]=Math.round(l),t.data[e++]=Math.round(u),t.data[e++]=Math.round(s),this.alpha&&(t.data[e++]=r[n+3])}return t}function To(){return new Bh(this.width,this.height,this.getRGBAData(),{kind:"RGBA",parent:this})}const Po={luma709(t,e,r){return 6966*t+23436*e+2366*r>>15},luma601(t,e,r){return 9798*t+19235*e+3735*r>>15},maximum(t,e,r){return Math.max(t,e,r)},minimum(t,e,r){return Math.min(t,e,r)},average(t,e,r){return(t+e+r)/3>>0},minmax(t,e,r){return(Math.max(t,e,r)+Math.min(t,e,r))/2},red(t){return t},green(t,e){return e},blue(t,e,r){return r},cyan(t,e,r,n){let i=Po.black(t,e,r,n);return(n.maxValue-t-i)/(1-i/n.maxValue)>>0},magenta(t,e,r,n){let i=Po.black(t,e,r,n);return(n.maxValue-e-i)/(1-i/n.maxValue)>>0},yellow(t,e,r,n){let i=Po.black(t,e,r,n);return(n.maxValue-r-i)/(1-i/n.maxValue)>>0},black(t,e,r,n){return Math.min(n.maxValue-t,n.maxValue-e,n.maxValue-r)},hue(t,e,r,n){let i=Po.min(t,e,r),o=Po.max(t,e,r);if(o===i)return 0;let a=0,s=o-i;switch(o){case t:a=(e-r)/s+(e<r?6:0);break;case e:a=(r-t)/s+2;break;case r:a=(t-e)/s+4;break;default:throw new Error("unreachable")}return a/6*n.maxValue>>0},saturation(t,e,r,n){let i=Po.min(t,e,r),o=Po.max(t,e,r),a=o-i;return 0===o?0:a/o*n.maxValue},lightness(t,e,r){let n=Po.min(t,e,r),i=Po.max(t,e,r);return(i+n)/2}};Object.defineProperty(Po,"luminosity",{enumerable:!1,value:Po.lightness}),Object.defineProperty(Po,"luminance",{enumerable:!1,value:Po.lightness}),Object.defineProperty(Po,"min",{enumerable:!1,value:Po.minimum}),Object.defineProperty(Po,"max",{enumerable:!1,value:Po.maximum}),Object.defineProperty(Po,"brightness",{enumerable:!1,value:Po.maximum});const Io={};function Do(t={}){let{algorithm:e="luma709",keepAlpha:r=!1,mergeAlpha:n=!0}=t;if("string"!==typeof e&&"function"!==typeof e)throw new TypeError("algorithm must be a string or a function");this.checkProcessable("grey",{bitDepth:[8,16],alpha:[0,1]}),1===this.components&&(e="red"),r&=this.alpha,n&=this.alpha,r&&(n=!1);let i,o=Un(this,t,{components:1,alpha:r,colorModel:He});if("function"===typeof e)i=e;else if(i=Po[e.toLowerCase()],!i)throw new Error("unsupported grey algorithm: "+e);let a=0;for(let s=0;s<this.data.length;s+=this.channels)n?o.data[a++]=ui(i(this.data[s],this.data[s+1],this.data[s+2],this)*this.data[s+this.components]/this.maxValue,this):(o.data[a++]=ui(i(this.data[s],this.data[s+1],this.data[s+2],this),this),o.alpha&&(o.data[a++]=this.data[s+this.components]));return o}function Co(t){let e=0;for(let u=0;u<t.length;u++)if(0!==t[u]){e=u;break}let r=t.length-1;for(let u=t.length-1;u>=e;u--)if(0!==t[u]){r=u;break}let n=1/(r-e),i=new Array(t.length),o=0,a=0;for(let u=e;u<t.length;u++)o+=u*t[u],a+=t[u],i[u]=o/a;let s=new Array(t.length);o=a=0;for(let u=r;u>0;u--)o+=u*t[u],a+=t[u],s[u-1]=o/a;let h=-1,l=Number.MAX_VALUE;for(let u=0;u<t.length;u++){let e,r=0;for(let o=0;o<=u;o++)e=1/(1+n*Math.abs(o-i[u])),e<1e-6||e>.999999||(r+=t[o]*(-e*Math.log(e)-(1-e)*Math.log(1-e)));for(let i=u+1;i<t.length;i++)e=1/(1+n*Math.abs(i-s[u])),e<1e-6||e>.999999||(r+=t[i]*(-e*Math.log(e)-(1-e)*Math.log(1-e)));r<l&&(l=r,h=u)}return h}function Ro(t){let e=t.slice(),r=0;while(!Bo(e)){let n=0,i=0,o=e[0];for(let r=0;r<t.length-1;r++)n=i,i=o,o=e[r+1],e[r]=(n+i+o)/3;if(e[t.length-1]=(i+o)/3,r++,r>1e4)throw new Error("Intermodes Threshold not found after 10000 iterations")}let n=0;for(let i=1;i<t.length-1;i++)e[i-1]<e[i]&&e[i+1]<e[i]&&(n+=i);return Math.floor(n/2)}function Bo(t){let e=!1,r=0;for(let n=1;n<t.length-1;n++)if(t[n-1]<t[n]&&t[n+1]<t[n]&&(r++,r>2))return!1;return 2===r&&(e=!0),e}function Oo(t){let e,r,n,i,o=0;for(let a=1;a<t.length;a++)if(t[a]>0){o=a+1;break}while(1){e=0,n=0;for(let r=0;r<o;r++)n+=t[r],e+=t[r]*r;i=0,r=0;for(let e=o+1;e<t.length;e++)r+=t[e],i+=t[e]*e;if(n>0&&r>0&&(e/=n,i/=r,o===Math.round((e+i)/2)))break;if(o++,o>t.length-2)throw new Error("Threshold not found")}return o}function Lo(t,e){let r,n,i,o,a,s,h,l,u,c,f,d;f=.5,c=0;for(let g=0;g<t.length;g++)c+=g*t[g];c/=e,h=c;do{s=h,r=s+.5|0,n=0,o=0;for(let e=0;e<=r;e++)n+=e*t[e],o+=t[e];l=0===o?0:n/o,i=0,a=0;for(let e=r+1;e<t.length;e++)i+=e*t[e],a+=t[e];u=0===a?0:i/a,d=(l-u)/(Math.log(l)-Math.log(u)),h=d<-Number.EPSILON?d-.5|0:d+.5|0}while(Math.abs(h-s)>f);return r}function Uo(t,e){let r=new Array(t.length);for(let f=0;f<t.length;f++)r[f]=t[f]/e;let n=new Array(t.length),i=new Array(t.length);n[0]=r[0],i[0]=1-n[0];for(let f=1;f<t.length;f++)n[f]=n[f-1]+r[f],i[f]=1-n[f];let o=0;for(let f=0;f<t.length;f++)if(Math.abs(n[f])>=Number.EPSILON){o=f;break}let a=t.length-1;for(let f=t.length-1;f>=o;f--)if(Math.abs(i[f])>=Number.EPSILON){a=f;break}let s,h,l,u=-1,c=Number.MIN_VALUE;for(let f=o;f<=a;f++){h=0;for(let e=0;e<=f;e++)0!==t[e]&&(h-=r[e]/n[f]*Math.log(r[e]/n[f]));l=0;for(let e=f+1;e<t.length;e++)0!==t[e]&&(l-=r[e]/i[f]*Math.log(r[e]/i[f]));s=h+l,c<s&&(c=s,u=f)}return u}function No(t,e){let r=0;for(let n=0;n<t.length;n++)r+=n*t[n];return Math.floor(r/e)}function zo(t,e){let r,n,i,o,a,s,h,l,u,c,f,d,g=-2,p=0;for(let m=0;m<t.length;m++)p+=m*t[m];p/=e,r=p;while(r!==g){let e=Fo(t,r),p=Fo(t,t.length-1),m=jo(t,r),w=jo(t,t.length-1),y=Yo(t,r),b=Yo(t,t.length-1);if(n=m/e,i=(w-m)/(p-e),o=e/p,a=(p-e)/p,s=y/e-n*n,h=(b-y)/(p-e)-i*i,l=1/s-1/h,u=n/s-i/h,c=n*n/s-i*i/h+Math.log10(s*(a*a)/(h*(o*o))),f=u*u-l*c,f<0)return r;g=r,d=(u+Math.sqrt(f))/l,r=isNaN(d)?g:Math.floor(d)}return r}function Fo(t,e){let r=0;for(let n=0;n<=e;n++)r+=t[n];return r}function jo(t,e){let r=0;for(let n=0;n<=e;n++)r+=n*t[n];return r}function Yo(t,e){let r=0;for(let n=0;n<=e;n++)r+=n*n*t[n];return r}function Vo(t){if(t.length<2)return 0;let e=0,r=-1,n=-1,i=new Array(t.length);for(let o=0;o<t.length;o++)i[o]=t[o],t[o]>0&&(n=o);while(!Go(i))if(i=Xo(i),e++,e>1e4)return r;return r=$o(i,n),r}function Xo(t){let e=new Array(t.length);for(let r=1;r<t.length-1;r++)e[r]=(t[r-1]+t[r]+t[r+1])/3;return e[0]=(t[0]+t[1])/3,e[t.length-1]=(t[t.length-2]+t[t.length-1])/3,e}function $o(t,e){let r;for(let n=1;n<e;n++)if(t[n-1]>t[n]&&t[n+1]>=t[n]){r=n;break}return r}function Go(t){let e=t.length,r=!1,n=0;for(let i=1;i<e-1;i++)if(t[i-1]<t[i]&&t[i+1]<t[i]&&(n++,n>2))return!1;return 2===n&&(r=!0),r}function Ho(t,e){let r,n,i,o,a,s,h=1,l=0,u=0,c=0,f=0,d=-1,g=t.length,p=new Array(g);for(let m=0;m<g;m++)p[m]=t[m]/e;for(let m=0;m<g;m++)l+=m*p[m],u+=m*m*p[m],c+=m*m*m*p[m];n=h*u-l*l,i=(-u*u+l*c)/n,o=(h*-c+u*l)/n,a=.5*(-o-Math.sqrt(o*o-4*i)),s=.5*(-o+Math.sqrt(o*o-4*i)),r=(s-l)/(s-a);for(let m=0;m<g;m++)if(f+=p[m],f>r){d=m;break}return d}function qo(t,e){let r=0,n=0,i=0,o=0,a=0;for(let s=0;s<t.length;s++)a+=s*t[s];for(let s=0;s<t.length;s++){n+=t[s];const h=e-n;if(0===n||0===h)continue;r+=s*t[s];const l=(a-r)/h,u=n*h*(r/n-l)*(r/n-l);u>=i&&(o=s,i=u)}return o}function Wo(t){let e=-1,r=.5,n=new Array(t.length),i=Zo(t,t.length-1),o=1;for(let a=0;a<t.length;a++)n[a]=Math.abs(Zo(t,a)/i-r),n[a]<o&&(o=n[a],e=a);return e}function Zo(t,e){let r=0;for(let n=0;n<=e;n++)r+=t[n];return r}function Ko(t,e){let r,n,i,o=new Array(t.length),a=new Array(t.length),s=new Array(t.length),h=0,l=0,u=0,c=0,f=0,d=0,g=.5,p=1/(1-g),m=2,w=1/(1-m);for(let x=0;x<t.length;x++)o[x]=t[x]/e;a[0]=o[0],s[0]=1-a[0];for(let x=1;x<t.length;x++)a[x]=a[x-1]+o[x],s[x]=1-a[x];n=0;for(let x=0;x<t.length;x++)if(Math.abs(a[x])>=Number.EPSILON){n=x;break}i=t.length-1;for(let x=t.length-1;x>=n;x--)if(Math.abs(s[x])>=Number.EPSILON){i=x;break}for(let x=n;x<=i;x++){let e=0,r=0,n=0;for(let s=0;s<=x;s++)0!==t[s]&&(e-=o[s]/a[x]*Math.log(o[s]/a[x])),r+=Math.sqrt(o[s]/a[x]),n+=o[s]*o[s]/(a[x]*a[x]);let i=0,g=0,m=0;for(let a=x+1;a<t.length;a++)0!==t[a]&&(i-=o[a]/s[x]*Math.log(o[a]/s[x])),g+=Math.sqrt(o[a]/s[x]),m+=o[a]*o[a]/(s[x]*s[x]);let y=e+i,b=p*(r*g>0?Math.log(r*g):0),v=w*(n*m>0?Math.log(n*m):0);y>c&&(c=y,h=x),b>f&&(f=b,l=x),v>d&&(d=v,u=x)}let y,b=[h,l,u];b.sort(qn["asc"]),y=Math.abs(b[0]-b[1])<=5?Math.abs(b[1]-b[2])<=5?[1,2,1]:[0,1,3]:Math.abs(b[1]-b[2])<=5?[3,1,0]:[1,2,1];let v=a[b[2]]-a[b[0]];return r=Math.round(b[0]*(a[b[0]]+.25*v*y[0])+.25*b[1]*v*y[1]+b[2]*(s[b[2]]+.25*v*y[2])),r}function Jo(t,e){let r=new Array(t.length);for(let d=0;d<t.length;d++)r[d]=t[d]/e;let n=new Array(t.length),i=new Array(t.length);n[0]=r[0],i[0]=1-n[0];for(let d=1;d<t.length;d++)n[d]=n[d-1]+r[d],i[d]=1-n[d];let o=0;for(let d=0;d<t.length;d++)if(Math.abs(n[d])>=Number.EPSILON){o=d;break}let a=t.length-1;for(let d=t.length-1;d>=o;d--)if(Math.abs(i[d])>=Number.EPSILON){a=d;break}let s,h,l,u,c=-1,f=Number.MAX_VALUE;for(let d=o;d<=a;d++){l=0,s=.5/n[d];for(let t=1;t<=d;t++)l-=r[t]*Math.log(1-s*n[t-1]);l*=s,u=0,s=.5/i[d];for(let e=d+1;e<t.length;e++)u-=r[e]*Math.log(1-s*i[e]);u*=s,h=Math.abs(l-u),h<f&&(f=h,c=d)}return c}function Qo(t){let e=0,r=0,n=0,i=0;for(let c=0;c<t.length;c++)if(t[c]>0){e=c;break}e>0&&e--;for(let c=t.length-1;c>0;c--)if(t[c]>0){i=c;break}i<t.length-1&&i++;for(let c=0;c<t.length;c++)t[c]>r&&(n=c,r=t[c]);let o,a,s,h=!1;if(n-e<i-n){h=!0;let r=0,o=t.length-1;while(r<o){let e=t[r];t[r]=t[o],t[o]=e,r++,o--}e=t.length-1-i,n=t.length-1-n}if(e===n)return e;o=t[n],a=e-n,s=Math.sqrt(o*o+a*a),o/=s,a/=s,s=o*e+a*t[e];let l=e,u=0;for(let c=e+1;c<=n;c++){let e=o*c+a*t[c]-s;e>u&&(l=c,u=e)}if(l--,h){let e=0,r=t.length-1;while(e<r){let n=t[e];t[e]=t[r],t[r]=n,e++,r--}return t.length-1-l}return l}function ta(t,e){let r=new Array(t.length);for(let l=0;l<t.length;l++)r[l]=t[l]/e;let n=new Array(t.length);n[0]=r[0];for(let l=1;l<t.length;l++)n[l]=n[l-1]+r[l];let i=new Array(t.length);i[0]=r[0]*r[0];for(let l=1;l<t.length;l++)i[l]=i[l-1]+r[l]*r[l];let o=new Array(t.length);o[t.length-1]=0;for(let l=t.length-2;l>=0;l--)o[l]=o[l+1]+r[l+1]*r[l+1];let a,s=-1,h=Number.MIN_VALUE;for(let l=0;l<t.length;l++)a=-1*(i[l]*o[l]>0?Math.log(i[l]*o[l]):0)+2*(n[l]*(1-n[l])>0?Math.log(n[l]*(1-n[l])):0),a>h&&(h=a,s=l);return s}Object.keys(Po).forEach(t=>{Io[t]=t});const ea={huang:Co,intermodes:Ro,isodata:Oo,li:Lo,maxentropy:Uo,mean:No,minerror:zo,minimum:Vo,moments:Ho,otsu:qo,percentile:Wo,renyientropy:Ko,shanbhag:Jo,triangle:Qo,yen:ta},ra={};function na(t={}){let{algorithm:e=ra.otsu}=t;this.checkProcessable("getThreshold",{components:1,bitDepth:[8,16]});let r=ea[e.toLowerCase()];if(r){let t=this.getHistogram();return r(t,this.size)}throw new Error("unknown thresholding algorithm: "+e)}Object.keys(ea).forEach(t=>{ra[t]=t});const ia="threshold";function oa(t={}){let{algorithm:e=ia,threshold:r=.5,useAlpha:n=!0,invert:i=!1}=t;this.checkProcessable("mask",{components:1,bitDepth:[8,16]}),r=e===ia?mo(r,this.maxValue):na.call(this,t);let o=new Bh(this.width,this.height,{kind:"BINARY",parent:this}),a=0;if(this.alpha&&n)for(let s=0;s<this.data.length;s+=this.channels){let t=this.data[s]+(this.maxValue-this.data[s])*(this.maxValue-this.data[s+1])/this.maxValue;(i&&t<=r||!i&&t>=r)&&o.setBit(a),a++}else for(let s=0;s<this.data.length;s+=this.channels)(i&&this.data[s]<=r||!i&&this.data[s]>=r)&&o.setBit(a),a++;return o}function aa(t,e,r,n){let i=t.width,o=t.height,a=e.width,s=t.channels;for(let h=0;h<i;h++)for(let l=0;l<o;l++)for(let o=0;o<s;o++){let u=(l*i+h)*s+o,c=((n+l)*a+r+h)*s+o;e.data[c]=t.data[u]}}function sa(t={}){let{size:e=0,algorithm:r="copy",color:n}=t;if(this.checkProcessable("pad",{bitDepth:[8,16]}),"set"===r){if(n.length!==this.channels)throw new Error("pad: the color array must have the same length as the number of channels. Here: "+this.channels);for(let t=0;t<n.length;t++)0===n[t]&&(n[t]=.001)}else n=xi()(this.channels,null);Array.isArray(e)||(e=[e,e]);let i=this.width+2*e[0],o=this.height+2*e[1],a=this.channels,s=Bh.createFrom(this,{width:i,height:o});aa(this,s,e[0],e[1]);for(let h=e[0];h<i-e[0];h++)for(let t=0;t<a;t++){let r=n[t]||s.data[(e[1]*i+h)*a+t];for(let n=0;n<e[1];n++)s.data[(n*i+h)*a+t]=r;r=n[t]||s.data[((o-e[1]-1)*i+h)*a+t];for(let n=o-e[1];n<o;n++)s.data[(n*i+h)*a+t]=r}for(let h=0;h<o;h++)for(let t=0;t<a;t++){let r=n[t]||s.data[(h*i+e[0])*a+t];for(let n=0;n<e[0];n++)s.data[(h*i+n)*a+t]=r;r=n[t]||s.data[(h*i+i-e[0]-1)*a+t];for(let n=i-e[0];n<i;n++)s.data[(h*i+n)*a+t]=r}return s}function ha(t=8){if(this.checkProcessable("colorDepth",{bitDepth:[1,8,16]}),![8,16].includes(t))throw Error("You need to specify the new colorDepth as 8 or 16");if(this.bitDepth===t)return this.clone();let e=Bh.createFrom(this,{bitDepth:t});switch(t){case 8:if(1===this.bitDepth)for(let t=0;t<this.size;t++)this.getBit(t)&&(e.data[t]=255);else for(let t=0;t<this.data.length;t++)e.data[t]=this.data[t]>>8;break;case 16:if(1===this.bitDepth)for(let t=0;t<this.size;t++)this.getBit(t)&&(e.data[t]=65535);else for(let t=0;t<this.data.length;t++)e.data[t]=this.data[t]<<8|this.data[t];break;default:throw new Error("colorDepth conversion unexpected case")}return e}function la(t,e={}){const{interpolation:r=xo.nearestneighbor,width:n=this.width,height:i=this.height}=e;if("number"!==typeof t)throw new TypeError("degrees must be a number");const o=_o(r),a=t*Math.PI/180,s=Math.floor(Math.abs(n*Math.cos(a))+Math.abs(i*Math.sin(a))),h=Math.floor(Math.abs(i*Math.cos(a))+Math.abs(n*Math.sin(a))),l=Bh.createFrom(this,{width:s,height:h}),u=Math.cos(-a),c=Math.sin(-a);let f=s/2,d=h/2;s%2===0?(f-=.5,h%2===0?d-=.5:d=Math.floor(d)):(f=Math.floor(f),h%2===0?d-=.5:d=Math.floor(d));const g=Math.floor(n/2-f),p=Math.floor(i/2-d);switch(o){case xo.nearestneighbor:return ua(this,l,g,p,f,d,u,c);case xo.bilinear:return ca(this,l,g,p,f,d,u,c);default:throw new Error("unsupported rotate interpolation: "+o)}}function ua(t,e,r,n,i,o,a,s){for(let h=0;h<e.width;h+=1)for(let l=0;l<e.height;l+=1)for(let u=0;u<t.channels;u++){let c=Math.round((h-i)*a-(l-o)*s+i)+r,f=Math.round((l-o)*a+(h-i)*s+o)+n;c<0||c>=t.width||f<0||f>=t.height?1===t.alpha&&u===t.channels-1?e.setValueXY(h,l,u,0):e.setValueXY(h,l,u,t.maxValue):e.setValueXY(h,l,u,t.getValueXY(c,f,u))}return e}function ca(t,e,r,n,i,o,a,s){let h=t.width*t.channels;for(let l=0;l<e.height;l++)for(let u=0;u<e.width;u++){let c=(u-i)*a-(l-o)*s+i+r,f=(l-o)*a+(u-i)*s+o+n,d=0|c,g=0|f,p=c-d,m=f-g;for(let r=0;r<t.channels;r++)if(c<0||c>=t.width||f<0||f>=t.height)1===t.alpha&&r===t.channels-1?e.setValueXY(u,l,r,0):e.setValueXY(u,l,r,t.maxValue);else{let n=(g*t.width+d)*t.channels+r,i=t.data[n],o=t.data[n+t.channels],a=t.data[n+h],s=t.data[n+h+t.channels],c=i+p*(o-i)+m*(a-i)+p*m*(i-o-a+s)|0;e.setValueXY(u,l,r,c)}}return e}function fa(t,e){if("number"!==typeof t)throw new TypeError("angle must be a number");switch(t<0&&(t=360*Math.ceil(-t/360)+t),t%360){case 0:return this.clone();case 90:return ga.call(this);case 180:return pa.call(this);case 270:return da.call(this);default:return la.call(this,t,e)}}function da(){const t=Bh.createFrom(this,{width:this.height,height:this.width}),e=t.height-1;for(let r=0;r<this.height;r++)for(let n=0;n<this.width;n++)for(let i=0;i<this.channels;i++)t.setValueXY(r,e-n,i,this.getValueXY(n,r,i));return t}function ga(){const t=Bh.createFrom(this,{width:this.height,height:this.width}),e=t.width-1;for(let r=0;r<this.height;r++)for(let n=0;n<this.width;n++)for(let i=0;i<this.channels;i++)t.setValueXY(e-r,n,i,this.getValueXY(n,r,i));return t}function pa(){const t=Bh.createFrom(this),e=t.width-1,r=t.height-1;for(let n=0;n<this.height;n++)for(let i=0;i<this.width;i++)for(let o=0;o<this.channels;o++)t.setValueXY(e-i,r-n,o,this.getValueXY(i,n,o));return t}function ma(t,e={}){const r=Ln(t);this.checkProcessable("insert",r);let{x:n=0,y:i=0}=e;const o=Nn(this,e,{copy:!0}),a=Math.min(o.height,i+t.height),s=Math.min(o.width,n+t.width);if(1===o.bitDepth)for(let h=i;h<a;h++)for(let e=n;e<s;e++){const r=t.getBitXY(e-n,h-i);r?o.setBitXY(e,h):o.clearBitXY(e,h)}else for(let h=i;h<a;h++)for(let e=n;e<s;e++)o.setPixelXY(e,h,t.getPixelXY(e-n,h-i));return o}function wa(t={}){let{size:e=0,algorithm:r="copy",color:n}=t;if(this.checkProcessable("setBorder",{bitDepth:[8,16,32,64]}),"set"===r){if(n.length!==this.channels)throw new Error("setBorder: the color array must have the same length as the number of channels. Here: "+this.channels);for(let t=0;t<n.length;t++)0===n[t]&&(n[t]=.001)}else n=xi()(this.channels,null);Array.isArray(e)||(e=[e,e]);let i=e[0],o=e[1],a=this.channels;for(let s=i;s<this.width-i;s++)for(let t=0;t<a;t++){let e=n[t]||this.data[(s+this.width*o)*a+t];for(let r=0;r<o;r++)this.data[(r*this.width+s)*a+t]=e;e=n[t]||this.data[(s+this.width*(this.height-o-1))*a+t];for(let r=this.height-o;r<this.height;r++)this.data[(r*this.width+s)*a+t]=e}for(let s=0;s<this.height;s++)for(let t=0;t<a;t++){let e=n[t]||this.data[(s*this.width+i)*a+t];for(let r=0;r<i;r++)this.data[(s*this.width+r)*a+t]=e;e=n[t]||this.data[(s*this.width+this.width-i-1)*a+t];for(let r=this.width-i;r<this.width;r++)this.data[(s*this.width+r)*a+t]=e}return this}function ya(t={}){let{preserveAlpha:e=!0}=t;if(this.checkProcessable("split",{bitDepth:[8,16]}),1===this.components)return new _n([this.clone()]);let r=new _n,n=this.data;if(this.alpha&&e)for(let i=0;i<this.components;i++){let t=Bh.createFrom(this,{components:1,alpha:!0,colorModel:He}),e=0;for(let r=0;r<n.length;r+=this.channels)t.data[e++]=n[r+i],t.data[e++]=n[r+this.components];r.push(t)}else for(let i=0;i<this.channels;i++){let t=Bh.createFrom(this,{components:1,alpha:!1,colorModel:He}),e=0;for(let r=0;r<n.length;r+=this.channels)t.data[e++]=n[r+i];r.push(t)}return r}function ba(t,e={}){let{keepAlpha:r=!1,mergeAlpha:n=!1}=e;r&=this.alpha,n&=this.alpha,this.checkProcessable("getChannel",{bitDepth:[8,16]}),t=Jn(this,t);let i=Bh.createFrom(this,{components:1,alpha:r,colorModel:He}),o=0;for(let a=0;a<this.data.length;a+=this.channels)n?i.data[o++]=this.data[a+t]*this.data[a+this.components]/this.maxValue:(i.data[o++]=this.data[a+t],r&&(i.data[o++]=this.data[a+this.components]));return i}function va(t=xa,e={}){let{mergeAlpha:r=!1,keepAlpha:n=!1}=e;r&=this.alpha,n&=this.alpha,this.checkProcessable("combineChannels",{bitDepth:[8,16]});let i=Bh.createFrom(this,{components:1,alpha:n,colorModel:He}),o=0;for(let a=0;a<this.size;a++){let e=t(this.getPixel(a));r?i.data[o++]=e*this.data[a*this.channels+this.components]/this.maxValue:(i.data[o++]=e,n&&(i.data[o++]=this.data[a*this.channels+this.components]))}return i}function xa(t){return(t[0]+t[1]+t[2])/3}function _a(t,e){if(this.checkProcessable("setChannel",{bitDepth:[8,16]}),e.checkProcessable("setChannel (image parameter check)",{bitDepth:[this.bitDepth],alpha:[0],components:[1]}),e.width!==this.width||e.height!==this.height)throw new Error("Images must have exactly the same width and height");t=Jn(this,t);let r=t;for(let n=0;n<e.data.length;n++)this.data[r]=e.data[n],r+=this.channels;return this}function Ma(t,e={}){let{shift:r=[0,0],average:n,channels:i,defaultAlpha:o,normalize:a,border:s=[0,0]}=e;if(this.checkProcessable("getSimilarity",{bitDepth:[8,16]}),Array.isArray(s)||(s=[s,s]),i=Wn(this,{channels:i,defaultAlpha:o}),this.bitDepth!==t.bitDepth)throw new Error("Both images must have the same bitDepth");if(this.channels!==t.channels)throw new Error("Both images must have the same number of channels");if(this.colorModel!==t.colorModel)throw new Error("Both images must have the same colorModel");"undefined"===typeof n&&(n=!0);let h=Math.max(s[0],-r[0]),l=Math.min(this.width-s[0],this.width-r[0]),u=Math.max(s[1],-r[1]),c=Math.min(this.height-s[1],this.height-r[1]),f=xi()(i.length,0);for(let d=0;d<i.length;d++){let e=i[d],n=a?this.sum[e]:Math.max(this.sum[e],t.sum[e]),o=a?t.sum[e]:Math.max(this.sum[e],t.sum[e]);if(0!==n&&0!==o)for(let i=h;i<l;i++)for(let a=u;a<c;a++){let s=i*this.multiplierX+a*this.multiplierY+e,h=s+r[0]*this.multiplierX+r[1]*this.multiplierY;f[d]+=Math.min(this.data[s]/n,t.data[h]/o)}}return n?f.reduce((t,e)=>t+e)/f.length:f}function ka(t={}){let{sampling:e=[10,10],painted:r=!1,mask:n}=t;this.checkProcessable("getPixelsGrid",{bitDepth:[8,16],channels:1}),Array.isArray(e)||(e=[e,e]);const i=e[0],o=e[1],a=[],s=[],h=this.width/i,l=this.height/o;let u=Math.floor(h/2);for(let f=0;f<i;f++){let t=Math.floor(l/2);for(let e=0;e<o;e++){let e=Math.round(u),r=Math.round(t);n&&!n.getBitXY(e,r)||(a.push([e,r]),s.push(this.getPixelXY(e,r))),t+=l}u+=h}const c={xyS:a,zS:s};return r&&(c.painted=this.rgba8().paintPoints(a)),c}function Aa(t,e,r){const n=new Array(t);for(let i=0;i<t;i++)n[i]=new Array(e);if(r)for(let i=0;i<t;i++)for(let t=0;t<e;t++)n[i][t]=r;return n.width=t,n.height=e,Object.setPrototypeOf(n,Aa.prototype),n}function Ea(t,e={}){let{border:r}=e;if(this.checkProcessable("getChannel",{bitDepth:[8,16]}),this.bitDepth!==t.bitDepth)throw new Error("Both images must have the same bitDepth");if(this.channels!==t.channels)throw new Error("Both images must have the same number of channels");if(this.colorModel!==t.colorModel)throw new Error("Both images must have the same colorModel");let n=new Aa(t.width,t.height,-1/0),i=Math.floor(t.width/2),o=Math.floor(t.height/2),a=i,s=o,h=!1;while(!h){let e=n.localSearch(i,o,-1/0);for(let i=0;i<e.length;i++){let o=e[i],h=this.getSimilarity(t,{border:r,shift:[a-o[0],s-o[1]]});n[o[0]][o[1]]=h}let l=n.localMax(i,o);l.position[0]!==i||l.position[1]!==o?(i=l.position[0],o=l.position[1]):h=!0}return[i-a,o-s]}function Sa(t,e=0){this.checkProcessable("getRow",{bitDepth:[8,16]}),yo(this,t),vo(this,e);let r=new Array(this.width),n=0,i=t*this.width*this.channels+e,o=i+this.width*this.channels;for(let a=i;a<o;a+=this.channels)r[n++]=this.data[a];return r}function Ta(t,e=0){this.checkProcessable("getColumn",{bitDepth:[8,16]}),bo(this,t),vo(this,e);let r=new Array(this.height),n=0,i=this.width*this.channels;for(let o=e+t*this.channels;o<this.data.length;o+=i)r[n++]=this.data[o];return r}function Pa(t={}){let{channel:e}=t;if(this.checkProcessable("getMatrix",{bitDepth:[8,16]}),void 0===e){if(this.components>1)throw new RangeError("You need to define the channel for an image that contains more than one channel");e=0}let r=new gi["default"](this.height,this.width);for(let n=0;n<this.height;n++)for(let t=0;t<this.width;t++)r.set(n,t,this.getValueXY(t,n,e));return r}function Ia(t,e={}){let{channel:r}=e;if(this.checkProcessable("getMatrix",{bitDepth:[8,16]}),void 0===r){if(this.components>1)throw new RangeError("You need to define the channel for an image that contains more than one channel");r=0}if(!t.length||!t[0].length||this.width!==t.columns||this.height!==t.rows)throw new RangeError("The size of the matrix must be equal to the size of the image");for(let n=0;n<this.height;n++)for(let e=0;e<this.width;e++)this.setValueXY(e,n,r,t.get(n,e))}function Da(){this.checkProcessable("getPixelsArray",{bitDepth:[8,16,32]});let t=new Array(this.size),e=0;for(let r=0;r<this.data.length;r+=this.channels){let n=new Array(this.components);for(let t=0;t<this.components;t++)n[t]=this.data[r+t];t[e++]=n}return t}function Ca(t){let e=this,r=e.getClosestCommonParent(t),n=e.getRelativePosition(r,{defaultFurther:!0}),i=Ra(e,n),o=t.getRelativePosition(r,{defaultFurther:!0}),a=Ra(t,o),s=Ba(i,a),h={whitePixelsMask1:[],whitePixelsMask2:[],commonWhitePixels:[]};for(let l=0;l<s.length;l++){let r=s[l],i=[r[0]-n[0],r[1]-n[1]],a=[r[0]-o[0],r[1]-o[1]],u=e.getBitXY(i[0],i[1]),c=t.getBitXY(a[0],a[1]);1===u&&1===c&&h.commonWhitePixels.push(r)}for(let l=0;l<i.length;l++){let t,r;0!==l&&(t=Math.floor(l/(e.width-1)),r=l%(e.width-1)),1===e.getBitXY(t,r)&&h.whitePixelsMask1.push(i[l])}for(let l=0;l<a.length;l++){let e=0,r=0;0!==l&&(e=Math.floor(l/(t.width-1)),r=l%(t.width-1)),1===t.getBitXY(e,r)&&h.whitePixelsMask2.push(a[l])}return h}function Ra(t,e){let r=[];for(let n=0;n<t.height;n++)for(let i=0;i<t.width;i++){let t=[n,i];r.push([t[0]+e[0],t[1]+e[1]])}return r}function Ba(t,e){let r=0,n=0,i=[];while(r<t.length&&n<e.length)t[r][0]===e[n][0]&&t[r][1]===e[n][1]?(i.push(t[r]),r++,n++):t[r][0]<e[n][0]||t[r][0]===e[n][0]&&t[r][1]<e[n][1]?r++:n++;return i}function Oa(t){let e,r=La(this),n=La(t);if(e=r>=n?Ua(this,r):Ua(t,n),0===r||0===n)return e;let i=this,o=t;while(r!==n)if(r>n){if(i=i.parent,null===i)return e;r-=1}else{if(o=o.parent,null===o)return e;n-=1}while(i!==o&&null!==i&&null!==o)if(i=i.parent,o=o.parent,null===i||null===o)return e;return i!==o?e:i}function La(t){let e=0,r=t;while(null!=r.parent)r=r.parent,e++;return e}function Ua(t,e){let r=t;while(e>0)r=r.parent,e-=1;return r}Aa.prototype.localMin=function(t,e){let r=this[t][e],n=[t,e];for(let i=Math.max(0,t-1);i<Math.min(this.length,t+2);i++)for(let t=Math.max(0,e-1);t<Math.min(this[0].length,e+2);t++)this[i][t]<r&&(r=this[i][t],n=[i,t]);return{position:n,value:r}},Aa.prototype.localMax=function(t,e){let r=this[t][e],n=[t,e];for(let i=Math.max(0,t-1);i<Math.min(this.length,t+2);i++)for(let t=Math.max(0,e-1);t<Math.min(this[0].length,e+2);t++)this[i][t]>r&&(r=this[i][t],n=[i,t]);return{position:n,value:r}},Aa.prototype.localSearch=function(t,e,r){let n=[];for(let i=Math.max(0,t-1);i<Math.min(this.length,t+2);i++)for(let t=Math.max(0,e-1);t<Math.min(this[0].length,e+2);t++)this[i][t]===r&&n.push([i,t]);return n};const Na={lowThreshold:10,highThreshold:30,gaussianBlur:1.1},za=[[-1,0,1],[-2,0,2],[-1,0,1]],Fa=[[-1,-2,-1],[0,0,0],[1,2,1]],ja={bitDepth:32,mode:"periodic"};function Ya(t,e){t.checkProcessable("Canny edge detector",{bitDepth:8,channels:1,components:1}),e=Object.assign({},Na,e);const r=t.width,n=t.height,i=t.maxValue,o={sigma:e.gaussianBlur,radius:3},a=t.gaussianFilter(o),s=a.convolution(Fa,ja),h=a.convolution(za,ja),l=h.hypotenuse(s),u=t.constructor,c=new u(r,n,{kind:"GREY",bitDepth:32}),f=new u(r,n,{kind:"GREY",bitDepth:32}),d=new u(r,n,{kind:"GREY"});for(var g=1;g<r-1;g++)for(var p=1;p<n-1;p++){var m=(Math.round(Math.atan2(h.getValueXY(g,p,0),s.getValueXY(g,p,0))*(5/Math.PI))+5)%5;0===m&&(l.getValueXY(g,p,0)<=l.getValueXY(g,p-1,0)||l.getValueXY(g,p,0)<=l.getValueXY(g,p+1,0))||1===m&&(l.getValueXY(g,p,0)<=l.getValueXY(g-1,p+1,0)||l.getValueXY(g,p,0)<=l.getValueXY(g+1,p-1,0))||2===m&&(l.getValueXY(g,p,0)<=l.getValueXY(g-1,p,0)||l.getValueXY(g,p,0)<=l.getValueXY(g+1,p,0))||3===m&&(l.getValueXY(g,p,0)<=l.getValueXY(g-1,p-1,0)||l.getValueXY(g,p,0)<=l.getValueXY(g+1,p+1,0))||c.setValueXY(g,p,0,l.getValueXY(g,p,0))}for(g=0;g<r*n;++g){var w=c.data[g],y=0;w>e.highThreshold&&(y++,d.data[g]=i),w>e.lowThreshold&&y++,f.data[g]=y}var b=[];for(g=1;g<r-1;++g)for(p=1;p<n-1;++p)if(1===f.getValueXY(g,p,0))t:for(var v=g-1;v<g+2;++v)for(var x=p-1;x<p+2;++x)if(2===f.getValueXY(v,x,0)){b.push([g,p]),d.setValueXY(g,p,0,i);break t}while(b.length>0){var _=[];for(g=0;g<b.length;++g)for(p=-1;p<2;++p)for(v=-1;v<2;++v)if(0!==p||0!==v){var M=b[g][0]+p,k=b[g][1]+v;1===f.getValueXY(M,k,0)&&0===d.getValueXY(M,k,0)&&(_.push([M,k]),d.setValueXY(M,k,0,i))}b=_}return d}function Va(t){return Ya(this,t)}function Xa(t,e={}){let{position:r}=e;if(this.checkProcessable("extract",{bitDepth:[1,8,16]}),!r&&(r=t.getRelativePosition(this),!r))throw new Error("extract : can not extract an image because the relative position can not be determined, try to specify manually the position as an array of 2 elements [x,y].");if(this.bitDepth>1){let e=Bh.createFrom(this,{width:t.width,height:t.height,alpha:1,position:r,parent:this});for(let n=0;n<t.width;n++)for(let i=0;i<t.height;i++){for(let t=0;t<this.channels;t++){let o=this.getValueXY(n+r[0],i+r[1],t);e.setValueXY(n,i,t,o)}t.getBitXY(n,i)||e.setValueXY(n,i,this.components,0)}return e}{let e=Bh.createFrom(this,{width:t.width,height:t.height,position:r,parent:this});for(let n=0;n<t.height;n++)for(let i=0;i<t.width;i++)t.getBitXY(i,n)&&this.getBitXY(i+r[0],n+r[1])&&e.setBitXY(i,n);return e}}var $a=r("abc2"),Ga=r.n($a);function Ha(t={}){const{x:e=0,y:r=0,inPlace:n=!0}=t,i=n?this:Bh.createFrom(this);if(this.checkProcessable("floodFill",{bitDepth:1}),1===this.bitDepth){const t=this.getBitXY(e,r);if(t)return i;const n=new Ga.a;n.push(new qa(e,r));while(n.length>0){const t=n.shift();i.setBitXY(t.x,t.y);for(let e=t.x+1;e<this.width;e++){if(i.getBitXY(e,t.y)||this.getBitXY(e,t.y))break;i.setBitXY(e,t.y),t.y+1<this.height&&!this.getBitXY(e,t.y+1)&&n.push(new qa(e,t.y+1)),t.y-1>=0&&!this.getBitXY(e,t.y-1)&&n.push(new qa(e,t.y-1))}for(let e=t.x-1;e>=0;e++){if(i.getBitXY(e,t.y)||this.getBitXY(e,t.y))break;i.setBitXY(e,t.y),t.y+1<this.height&&!this.getBitXY(e,t.y+1)&&n.push(new qa(e,t.y+1)),t.y-1>=0&&!this.getBitXY(e,t.y-1)&&n.push(new qa(e,t.y-1))}}}return i}function qa(t,e){this.x=t,this.y=e}function Wa(t,e,r){e/=100,r/=100;var n=[],i=r*e,o=t/60,a=i*(1-Math.abs(o%2-1)),s=r-i;switch(parseInt(o,10)){case 0:n=[i,a,0];break;case 1:n=[a,i,0];break;case 2:n=[0,i,a];break;case 3:n=[0,a,i];break;case 4:n=[a,0,i];break;case 5:n=[i,0,a];break}return{r:Math.round(255*(n[0]+s)),g:Math.round(255*(n[1]+s)),b:Math.round(255*(n[2]+s))}}function Za(t,e,r){return e*=(r<50?r:100-r)/100,{h:t,s:2*e/(r+e)*100,v:r+e}}function Ka(t,e,r){var n=Za(t,e,r);return Wa(n.h,n.s,n.v)}function Ja(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qa(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),n.forEach((function(e){Ja(t,e,r[e])}))}return t}var ts={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]};function es(t){return rs(t)||as(t)||os(t)||ns(t)||is(t)||ss(t)||hs(t)}function rs(t){var e=ts[t.toLowerCase()];if(e)return{r:e[0],g:e[1],b:e[2],a:100}}function ns(t){var e=t.match(/rgb\(([^)]+)\)/);if(e){var r=e[1].split(/ *, */).map(Number);return{r:r[0],g:r[1],b:r[2],a:100}}}function is(t){var e=t.match(/rgba\(([^)]+)\)/);if(e){var r=e[1].split(/ *, */).map(Number);return{r:r[0],g:r[1],b:r[2],a:100*r[3]}}}function os(t){if("#"===t[0]&&7===t.length)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:100}}function as(t){if("#"===t[0]&&4===t.length)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:100}}function ss(t){var e=t.match(/hsl\(([^)]+)\)/);if(e){var r=e[1].split(/ *, */),n=parseInt(r[0],10),i=parseInt(r[1],10),o=parseInt(r[2],10),a=Ka(n,i,o);return Qa({},a,{a:100})}}function hs(t){var e=t.match(/hsla\(([^)]+)\)/);if(e){var r=e[1].split(/ *, */),n=parseInt(r[0],10),i=parseInt(r[1],10),o=parseInt(r[2],10),a=parseInt(100*parseFloat(r[3]),10),s=Ka(n,i,o);return Qa({},s,{a:a})}}function ls(t){let e=es(t);return[e.r,e.g,e.b,Math.round(255*e.a/100)]}function us(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function cs(t,e,r){let n,i,o,a,s,h;return e/=100,r/=100,0===e?a=s=h=255*r:(i=r<=.5?r*(e+1):r+e-r*e,n=2*r-i,o=t/360,a=us(n,i,o+1/3),s=us(n,i,o),h=us(n,i,o-1/3)),{r:a,g:s,b:h}}function fs(t){let e=new Array(t),r=0;for(let n=0;n<360;n+=360/t){r++;let t=cs(n,100,30+r%4*15);e[r-1]=[Math.round(255*t.r),Math.round(255*t.g),Math.round(255*t.b)]}return e}function ds(){return[Math.floor(256*Math.random()),Math.floor(256*Math.random()),Math.floor(256*Math.random())]}function gs(t){let{color:e,colors:r,randomColors:n,numberColors:i=50}=t;if(e&&!Array.isArray(e)&&(e=ls(e)),e)return[e];if(r)return r=r.map((function(t){return Array.isArray(t)?t:ls(t)})),r;if(n){r=new Array(i);for(let t=0;t<i;t++)r[t]=ds()}return fs(i)}function ps(t,e,r={}){let{color:n="blue",colors:i,font:o="12px Helvetica",rotate:a=0}=r;if(this.checkProcessable("paintMasks",{channels:[3,4],bitDepth:[8,16],colorModel:qe}),!Array.isArray(t))throw Error("paintLabels: labels must be an array");if(!Array.isArray(e))throw Error("paintLabels: positions must be an array");if(n&&!Array.isArray(n)&&(n=ls(n)),i=i?i.map((function(t){return Array.isArray(t)?t:ls(t)})):[n],t.length!==e.length)throw Error("paintLabels: positions and labels must be arrays from the same size");Array.isArray(o)||(o=[o]),Array.isArray(a)||(a=[a]);let s=this.getCanvas(),h=s.getContext("2d");for(let l=0;l<t.length;l++){h.save();let r=i[l%i.length];h.fillStyle=`rgba(${r[0]},${r[1]},${r[2]},${r[3]/this.maxValue})`,h.font=o[l%o.length];let n=e[l];h.translate(n[0],n[1]),h.rotate(a[l%a.length]/180*Math.PI),h.fillText(t[l],0,0),h.restore()}return this.data=Uint8Array.from(h.getImageData(0,0,this.width,this.height).data),this}function ms(t,e={}){let{alpha:r=255,labels:n=[],labelsPosition:i=[],labelColor:o="blue",labelFont:a="12px Helvetica"}=e;this.checkProcessable("paintMasks",{channels:[3,4],bitDepth:[8,16],colorModel:qe});let s=gs(Object.assign({},e,{numberColors:t.length}));Array.isArray(t)||(t=[t]);for(let h=0;h<t.length;h++){let e=t[h],n=s[h%s.length];for(let t=0;t<e.width;t++)for(let i=0;i<e.height;i++)if(e.getBitXY(t,i))for(let o=0;o<Math.min(this.components,n.length);o++)if(255===r)this.setValueXY(t+e.position[0],i+e.position[1],o,n[o]);else{let a=this.getValueXY(t+e.position[0],i+e.position[1],o);a=Math.round((a*(255-r)+n[o]*r)/255),this.setValueXY(t+e.position[0],i+e.position[1],o,a)}}if(Array.isArray(n)&&n.length>0){let e=this.getCanvas(),r=e.getContext("2d");r.fillStyle=o,r.font=a;for(let o=0;o<Math.min(t.length,n.length);o++){let e=i[o]?i[o]:t[o].position;r.fillText(n[o],e[0],e[1])}this.data=Uint8Array.from(r.getImageData(0,0,this.width,this.height).data)}return this}const ws=[[0,0,1,0,0],[0,0,1,0,0],[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0]],ys=[[0,1,0],[1,1,1],[0,1,0]];class bs{constructor(t={}){let{kind:e="cross",shape:r,size:n,width:i,height:o,filled:a=!0}=t;if(n&&(i=n,o=n),r)switch(r.toLowerCase()){case"square":case"rectangle":this.matrix=vs(i,o,{filled:a});break;case"circle":case"ellipse":this.matrix=xs(i,o,{filled:a});break;case"triangle":this.matrix=_s(i,o,{filled:a});break;default:throw new Error("Shape: unexpected shape: "+r)}else{if(!e)throw new Error("Shape: expected a kind or a shape option");switch(e.toLowerCase()){case"cross":this.matrix=ws;break;case"smallcross":this.matrix=ys;break;default:throw new Error("Shape: unexpected kind: "+e)}}this.height=this.matrix.length,this.width=this.matrix[0].length,this.halfHeight=this.height/2>>0,this.halfWidth=this.width/2>>0}getPoints(){let t=this.matrix,e=[];for(let r=0;r<t.length;r++)for(let n=0;n<t[0].length;n++)t[r][n]&&e.push([n-this.halfWidth,r-this.halfHeight]);return e}getMask(){let t=new Bh(this.width,this.height,{kind:ar});for(let e=0;e<this.matrix.length;e++)for(let r=0;r<this.matrix[0].length;r++)this.matrix[e][r]&&t.setBitXY(r,e);return t}}function vs(t,e,r){const n=gi["default"].zeros(e,t);if(r.filled)for(let i=0;i<e;i++)for(let e=0;e<t;e++)n.set(i,e,1);else{for(let r of[0,e-1])for(let e=0;e<t;e++)n.set(r,e,1);for(let r=0;r<e;r++)for(let e of[0,t-1])n.set(r,e,1)}return n}function xs(t,e,r){const n=gi["default"].zeros(e,t,r);let i=1-e%2,o=1-t%2,a=Math.floor((t-1)/2),s=Math.floor((e-1)/2),h=a*a,l=s*s;if(r.filled)for(let u=0;u<=s;u++){let e=Math.floor(Math.sqrt(h-h*u*u/l));for(let r=a-e;r<=a;r++)n.set(s-u,r,1),n.set(s+u+i,r,1),n.set(s-u,t-r-1,1),n.set(s+u+i,t-r-1,1)}else{for(let e=0;e<=s;e++){let r=Math.floor(Math.sqrt(h-h*e*e/l)),o=a-r;n.set(s-e,o,1),n.set(s+e+i,o,1),n.set(s-e,t-o-1,1),n.set(s+e+i,t-o-1,1)}for(let t=0;t<=a;t++){let r=Math.floor(Math.sqrt(l-l*t*t/h)),i=s-r;n.set(i,a-t,1),n.set(i,a+t+o,1),n.set(e-i-1,a-t,1),n.set(e-i-1,a+t+o,1)}}return n}function _s(t,e,r){if(!r.filled)throw new Error("Non filled triangle is not implemented");const n=gi["default"].zeros(e,t,r);for(let i=0;i<e;i++){let r=Math.floor((1-i/e)*t/2);for(let e=r;e<t-r;e++)n.set(i,e,1)}return n}function Ms(t,e={}){let{shape:r}=e;this.checkProcessable("paintPoints",{bitDepth:[8,16]});let n=gs(Object.assign({},e,{numberColors:t.length})),i=new bs(r).getPoints(),o=Math.min(this.channels,n[0].length);for(let a=0;a<t.length;a++){let e=n[a%n.length],r=t[a][0],s=t[a][1];for(let t=0;t<i.length;t++){let n=i[t][0],a=i[t][1];if(r+n>=0&&s+a>=0&&r+n<this.width&&s+a<this.height){let t=(r+n+(s+a)*this.width)*this.channels;for(let r=0;r<o;r++)this.data[t+r]=e[r]}}}return this}function ks(t,e={}){let{color:r=[this.maxValue,0,0],closed:n=!1}=e;this.checkProcessable("paintPoints",{bitDepth:[8,16]});let i=Math.min(this.channels,r.length);for(let o=0;o<t.length-1+n;o++){let e=t[o],n=t[(o+1)%t.length],a=n[0]-e[0],s=n[1]-e[1],h=Math.max(Math.abs(a),Math.abs(s)),l=a/h,u=s/h,c=e[0],f=e[1];for(let t=0;t<=h;t++){let t=Math.round(c),e=Math.round(f);if(t>=0&&e>=0&&t<this.width&&e<this.height){let n=(t+e*this.width)*this.channels;for(let t=0;t<i;t++)this.data[n+t]=r[t]}c+=l,f+=u}}return this}function As(t,e={}){let r=Object.assign({},e);this.checkProcessable("paintPolylines",{bitDepth:[8,16]});let n=gs(Object.assign({},e,{numberColors:t.length}));for(let i=0;i<t.length;i++)r.color=n[i%n.length],this.paintPolyline(t[i],r);return this}function Es(t){let e=[];for(let r=0;r<t.length;r++)t[r][0]===t[(r+1)%t.length][0]&&t[r][1]===t[(r+1)%t.length][1]||t[r][0]===t[(r-1+t.length)%t.length][0]&&t[r][1]===t[(r-1+t.length)%t.length][1]||t[(r+1)%t.length][0]===t[(r-1+t.length)%t.length][0]&&t[(r-1+t.length)%t.length][1]===t[(r+1)%t.length][1]||e.push(t[r]);return e}function Ss(t,e){if(t[0]===e[0])return{a:0,b:t[0],vertical:!0};{const r=(e[1]-t[1])/(e[0]-t[0]),n=t[1]-r*t[0];return{a:r,b:n,vertical:!1}}}function Ts(t,e,r,n){if(!0===r.vertical)return r.b<=t;if(0===r.a)return!1;{const i=(e-r.b)/r.a;return i<t&&i>=0&&i<=n}}function Ps(t,e={}){let{color:r=[this.maxValue,0,0],filled:n=!1}=e;this.checkProcessable("paintPoints",{bitDepth:[8,16]}),e.closed=!0;let i=Es(t);if(!1===n)return this.paintPolyline(t,e);{let n=Array(this.height);for(let t=0;t<this.height;t++){n[t]=[];for(let e=0;e<this.width;e++)n[t].push(0)}for(let t=0;t<i.length;t++){const e=Ss(i[t],i[(t+1)%i.length]);for(let t=0;t<this.height;t++)for(let r=0;r<this.width;r++)Ts(r,t,e,this.height)&&(n[t][r]=0===n[t][r]?1:0)}for(let t=0;t<this.height;t++)for(let e=0;e<this.width;e++)if(1===n[t][e]){let n=Math.min(this.channels,r.length),i=(e+t*this.width)*this.channels;for(let t=0;t<n;t++)this.data[i+t]=r[t]}return this.paintPolyline(t,e)}}function Is(t,e={}){let r=Object.assign({},e);this.checkProcessable("paintPolygons",{bitDepth:[8,16]});let n=gs(Object.assign({},e,{numberColors:t.length}));for(let i=0;i<t.length;i++)r.color=n[i%n.length],this.paintPolygon(t[i],r);return this}function Ds(t={}){let{maxSlots:e=256,channel:r,useAlpha:n=!0}=t;if(this.checkProcessable("getHistogram",{bitDepth:[1,8,16]}),void 0===r){if(this.components>1)throw new RangeError("You need to define the channel for an image that contains more than one channel");r=0}return Rs.call(this,r,{useAlpha:n,maxSlots:e})}function Cs(t={}){const{maxSlots:e=256,useAlpha:r=!0}=t;this.checkProcessable("getHistograms",{bitDepth:[8,16]});let n=new Array(r?this.components:this.channels);for(let i=0;i<n.length;i++)n[i]=Rs.call(this,i,{useAlpha:r,maxSlots:e});return n}function Rs(t,e){let{useAlpha:r,maxSlots:n}=e;if(1===this.bitDepth){let t=[0,0];for(let e=0;e<this.height;e++)for(let r=0;r<this.width;r++){let n=this.getBitXY(e,r);0===n?t[0]+=1:1===n&&(t[1]+=1)}return t}let i=Math.log2(n);if(!hi()(i))throw new RangeError("maxSlots must be a power of 2, for example: 64, 256, 1024");let o=0;this.bitDepth>i&&(o=this.bitDepth-i);let a=this.data,s=xi()(Math.pow(2,Math.min(this.bitDepth,i)),0);if(r&&this.alpha){let e=this.channels-t-1;for(let r=t;r<a.length;r+=this.channels)s[a[r]>>o]+=a[r+e]/this.maxValue}else for(let h=t;h<a.length;h+=this.channels)s[a[h]>>o]++;return s}function Bs(t={}){let{useAlpha:e=!0,nbSlots:r=512}=t;this.checkProcessable("getColorHistogram",{bitDepth:[8,16],components:[3]});let n=Math.log(r)/Math.log(8);if(n!==Math.floor(n))throw new RangeError("nbSlots must be a power of 8. Usually 8, 64, 512 or 4096");let i=this.bitDepth-n,o=this.data,a=xi()(Math.pow(8,n),0),s=Math.pow(2,2*n),h=Math.pow(2,n);for(let l=0;l<o.length;l+=this.channels){let t=(o[l]>>i)*s+(o[l+1]>>i)*h+(o[l+2]>>i);e&&this.alpha?a[t]+=o[l+this.channels-1]/this.maxValue:a[t]++}return a}function Os(){this.checkProcessable("min",{bitDepth:[8,16,32]});let t=xi()(this.channels,1/0);for(let e=0;e<this.data.length;e+=this.channels)for(let r=0;r<this.channels;r++)this.data[e+r]<t[r]&&(t[r]=this.data[e+r]);return t}function Ls(){this.checkProcessable("max",{bitDepth:[8,16,32]});let t=xi()(this.channels,-1/0);for(let e=0;e<this.data.length;e+=this.channels)for(let r=0;r<this.channels;r++)this.data[e+r]>t[r]&&(t[r]=this.data[e+r]);return t}function Us(){this.checkProcessable("sum",{bitDepth:[8,16]});let t=xi()(this.channels,0);for(let e=0;e<this.data.length;e+=this.channels)for(let r=0;r<this.channels;r++)t[r]+=this.data[e+r];return t}function Ns(t=0,e=0){this.checkProcessable("getMoment",{bitDepth:[1]});let r=0;for(let n=0;n<this.width;n++)for(let i=0;i<this.height;i++)1===this.getBitXY(n,i)&&(r+=n**t*i**e);return r}function zs(t={}){let{mask:e,region:r=3,removeClosePoints:n=0,invert:i=!1,maxEquals:o=2}=t,a=this;this.checkProcessable("localMaxima",{bitDepth:[8,16],components:1}),r*=4;let s=i?0:1,h=[1,0,-1,0,1,1,-1,-1,2,0,-2,0,2,2,-2,-2],l=[0,1,0,-1,1,-1,1,-1,0,2,0,-2,2,-2,2,-2],u=r<=8?1:2,c=[];for(let f=u;f<a.height-u;f++)for(let t=u;t<a.width-u;t++){if(e&&e.getBitXY(t,f)!==s)continue;let n=0,u=0,d=a.data[t+f*a.width];for(let e=0;e<r;e++)i?a.data[t+h[e]+(f+l[e])*a.width]>d&&n++:a.data[t+h[e]+(f+l[e])*a.width]<d&&n++,a.data[t+h[e]+(f+l[e])*a.width]===d&&u++;n+u===r&&u<=o&&c.push([t,f])}if(n>0)for(let f=0;f<c.length;f++)for(let t=f+1;t<c.length;t++)Math.sqrt(Math.pow(c[f][0]-c[t][0],2)+Math.pow(c[f][1]-c[t][1],2))<n&&(c[f][0]=c[f][0]+c[t][0]>>1,c[f][1]=c[f][1]+c[t][1]>>1,c.splice(t,1),t--);return c}function Fs(){let t=this.getHistograms({maxSlots:this.maxValue+1}),e=new Array(t.length);for(let r=0;r<t.length;r++){let n=t[r];e[r]=dn(n)}return e}function js(){let t=this.getHistograms({maxSlots:this.maxValue+1}),e=new Array(t.length);for(let r=0;r<t.length;r++){let n=t[r];e[r]=fn(n)}return e}function Ys(){this.checkProcessable("points",{bitDepth:[1]});const t=[];for(let e=0;e<this.width;e++)for(let r=0;r<this.height;r++)1===this.getBitXY(e,r)&&t.push([e,r]);return t}function Vs(t,e={}){if(this===t)return[0,0];let r=[0,0],n=this;while(n){if(n===t)return r;n.position&&(r[0]+=n.position[0],r[1]+=n.position[1]),n=n.parent}return!!e.defaultFurther&&r}function Xs(t={}){let{alpha:e=1}=t;this.checkProcessable("countAlphaPixels",{bitDepth:[8,16],alpha:1});let r=0;if(void 0!==e){for(let t=this.components;t<this.data.length;t+=this.channels)this.data[t]===e&&r++;return r}return this.size}function $s(t,e={}){e.sorted||t.sort(Hs);const r=t.length,n=new Array(2*r);for(var i=0,o=0;o<r;o++){const e=t[o];while(i>=2&&Gs(n[i-2],n[i-1],e)<=0)i--;n[i++]=e}const a=i+1;for(o=r-2;o>=0;o--){const e=t[o];while(i>=a&&Gs(n[i-2],n[i-1],e)<=0)i--;n[i++]=e}return n.slice(0,i-1)}function Gs(t,e,r){return(e[1]-t[1])*(r[0]-t[0])-(e[0]-t[0])*(r[1]-t[1])}function Hs(t,e){return t[0]===e[0]?t[1]-e[1]:t[0]-e[0]}function qs(){const t=this;t.checkProcessable("monotoneChainConvexHull",{bitDepth:1});const e=t.getPoints();return $s(e,{sorted:!0})}function Ws(t,e){return[t[0]-e[0],t[1]-e[1]]}function Zs(t){let e=Math.sqrt(t[0]**2+t[1]**2);return[t[0]/e,t[1]/e]}function Ks(t,e,r){void 0===r&&(r=new Array(e.length));let n=Math.cos(t),i=Math.sin(t);for(let o=0;o<r.length;++o)r[o]=[n*e[o][0]-i*e[o][1],i*e[o][0]+n*e[o][1]];return r}function Js(t={}){const{originalPoints:e=qs.call(this)}=t;if(0===e.length)return[];if(1===e.length)return[e[0],e[0],e[0],e[0]];const r=new Array(e.length);let n,i=1/0,o=0;for(let a=0;a<r.length;a++){let t=Qs(e[a],e[(a+1)%r.length]);Ks(-t,e,r);let s=r[a][0],h=r[a][1],l=r[(a+1)%r.length][0],u=r[(a+1)%r.length][1],c=!0,f=0,d=0,g=0;for(let e=0;e<r.length;e++){let t=r[e][0],n=r[e][1],i=(t-s)/(l-s);!0===c?(c=!1,f=i,d=i):(i<f&&(f=i),i>d&&(d=i));let o=(-(l-s)*n+l*h-u*s)/(l-s);Math.abs(o)>Math.abs(g)&&(g=o)}let p=[s+f*(l-s),h],m=[s+d*(l-s),h],w=Math.abs(g*(f-d)*(l-s));w<i&&(o=t,i=w,n=[p,m,[m[0],m[1]-g],[p[0],p[1]-g]])}return Ks(o,n,n),n}function Qs(t,e){let r=Ws(e,t),n=Zs(r),i=Math.acos(n[0]);return n[1]<0?-i:i}function th(t){let e={inPlace:!0};t.extendMethod("invert",Yn),t.extendMethod("abs",zn),t.extendMethod("level",_i,e),t.extendMethod("add",Si,e),t.extendMethod("subtract",Ti,e),t.extendMethod("subtractImage",Pi),t.extendMethod("multiply",Di,e),t.extendMethod("divide",Ci,e),t.extendMethod("hypotenuse",Ii),t.extendMethod("background",zi),t.extendMethod("flipX",$n),t.extendMethod("flipY",Gn),t.extendMethod("blurFilter",Hn),t.extendMethod("medianFilter",Qn),t.extendMethod("gaussianFilter",ti),t.extendMethod("sobelFilter",yi),t.extendMethod("gradientFilter",wi),t.extendMethod("scharrFilter",bi),t.extendMethod("dilate",Fi),t.extendMethod("erode",$i),t.extendMethod("open",Zi),t.extendMethod("close",Ki),t.extendMethod("topHat",Ji),t.extendMethod("blackHat",Qi),t.extendMethod("morphologicalGradient",to),t.extendMethod("warpingFourPoints",so),t.extendMethod("crop",ho),t.extendMethod("cropAlpha",lo),t.extendMethod("resize",ko).extendMethod("scale",ko),t.extendMethod("hsv",Ao),t.extendMethod("hsl",Eo),t.extendMethod("cmyk",So),t.extendMethod("rgba8",To),t.extendMethod("grey",Do).extendMethod("gray",Do),t.extendMethod("mask",oa),t.extendMethod("pad",sa),t.extendMethod("colorDepth",ha),t.extendMethod("setBorder",wa,e),t.extendMethod("rotate",fa),t.extendMethod("rotateLeft",da),t.extendMethod("rotateRight",ga),t.extendMethod("insert",ma),t.extendMethod("getRow",Sa),t.extendMethod("getColumn",Ta),t.extendMethod("getMatrix",Pa),t.extendMethod("setMatrix",Ia),t.extendMethod("getPixelsArray",Da),t.extendMethod("getIntersection",Ca),t.extendMethod("getClosestCommonParent",Oa),t.extendMethod("getThreshold",na),t.extendMethod("split",ya),t.extendMethod("getChannel",ba),t.extendMethod("combineChannels",va),t.extendMethod("setChannel",_a),t.extendMethod("getSimilarity",Ma),t.extendMethod("getPixelsGrid",ka),t.extendMethod("getBestMatch",Ea),t.extendMethod("cannyEdge",Va),t.extendMethod("convolution",mi),t.extendMethod("extract",Xa),t.extendMethod("floodFill",Ha),t.extendMethod("paintLabels",ps,e),t.extendMethod("paintMasks",ms,e),t.extendMethod("paintPoints",Ms,e),t.extendMethod("paintPolyline",ks,e),t.extendMethod("paintPolylines",As,e),t.extendMethod("paintPolygon",Ps,e),t.extendMethod("paintPolygons",Is,e),t.extendMethod("countAlphaPixels",Xs),t.extendMethod("monotoneChainConvexHull",qs),t.extendMethod("minimalBoundingRectangle",Js),t.extendMethod("getHistogram",Ds).extendProperty("histogram",Ds),t.extendMethod("getHistograms",Cs).extendProperty("histograms",Cs),t.extendMethod("getColorHistogram",Bs).extendProperty("colorHistogram",Bs),t.extendMethod("getMin",Os).extendProperty("min",Os),t.extendMethod("getMax",Ls).extendProperty("max",Ls),t.extendMethod("getSum",Us).extendProperty("sum",Us),t.extendMethod("getMoment",Ns).extendProperty("moment",Ns),t.extendMethod("getLocalMaxima",zs),t.extendMethod("getMedian",js).extendProperty("median",js),t.extendMethod("getMean",Fs).extendProperty("mean",Fs),t.extendMethod("getPoints",Ys).extendProperty("points",Ys),t.extendMethod("getRelativePosition",Vs)}function eh(t){let e=t.data,r=[1,0,-1,0],n=[0,1,0,-1],i=t.minMax,o=-i.min,a=i.max+o,s=[];for(let l=0;l<=a;l++)s.push(Object.create(null));for(let l=0;l<t.width;l++)for(let i=0;i<t.height;i++){let a=l+i*t.width,h=e[a];if(0!==h){let a=Object.create(null),u=!1;for(let c=0;c<4;c++){let f=l+r[c],d=i+n[c];if(f>=0&&d>=0&&f<t.width&&d<t.height){let r=e[f+d*t.width];h!==r&&(u=!0,0!==r&&void 0===a[r]&&(a[r]=!0,s[r+o][h]?s[r+o][h]++:s[r+o][h]=1))}else u=!0}u&&(s[h+o][h]?s[h+o][h]++:s[h+o][h]=1)}}let h={};for(let l=0;l<s.length;l++)Object.keys(s[l]).length>0&&(h[l-o]=s[l]);return h}function rh(t={}){const{algorithm:e="commonBorderLength",minCommonBorderLength:r=5,maxCommonBorderLength:n=100,minCommonBorderRatio:i=.3,maxCommonBorderRatio:o=1}=t;let a=function(t,e,i){return t[i]>=r&&t[i]<=n};"function"===typeof e&&(a=e),"commonborderratio"===e.toLowerCase()&&(a=function(t,e,r){let n=Math.min(t[r]/t[e],1);return n>=i&&n<=o});const s=this,h=s.commonBorderLength;let l={},u={};for(let m of Object.keys(h)){let t=h[m],e=Object.keys(t);for(let r of e)if(r!==m&&a(t,m,r)){let t=r;u[r]&&(t=u[r]);let e=m;if(u[m]&&(e=u[m]),Number(t)!==e){let r=Math.min(t,e),n=Math.max(t,e);if(l[r]||(l[r]={}),l[r][n]=!0,u[n]=r,l[n]){for(let t of Object.keys(l[n]))l[r][t]=!0,u[t]=r;delete l[n]}}}}let c=s.minMax,f=-c.min,d=c.max+f,g=new Array(d+1).fill(0);for(let m of Object.keys(u))g[Number(m)+f]=u[m];let p=s.data;for(let m=0;m<p.length;m++){let t=p[m];if(0!==t){let e=g[t+f];0!==e&&(p[m]=e)}}return s.computed={},s}class nh{constructor(t,e){this.parent=t,this.width=t.width,this.height=t.height,this.data=e,this.negative=0,this.positive=0}get total(){return this.negative+this.positive}get minMax(){let t=Number.MAX_SAFE_INTEGER,e=Number.MIN_SAFE_INTEGER;for(let r=0;r<this.data.length;r++)this.data[r]<t&&(t=this.data[r]),this.data[r]>e&&(e=this.data[r]);return{min:t,max:e}}get commonBorderLength(){return eh(this)}mergeRoi(t={}){return rh.call(this,t)}mergeRois(t){const e=t[0],r=t.slice(1);for(let n=0;n<this.data.length;n++)r.includes(this.data[n])&&(this.data[n]=e)}rowsInfo(){let t=new Array(this.height),e=0;for(let r=0;r<this.data.length;r+=this.width){let n={row:e,positivePixel:0,negativePixel:0,zeroPixel:0,positiveRoi:0,negativeRoi:0,medianChange:0};t[e++]=n;let i={},o={},a=[],s=this.data[r],h=0;for(let t=r;t<r+this.width;t++){let e=this.data[t];s!==e&&(s=e,a.push(h),h=0),h++,e>0?(n.positivePixel++,i[e]||(i[e]=!0)):e<0?(n.negativePixel++,o[e]||(o[e]=!0)):n.zeroPixel++}a.push(h),n.medianChange=a.sort((t,e)=>t-e)[Math.floor(a.length/2)],n.positiveRoiIDs=Object.keys(i),n.negativeRoiIDs=Object.keys(o),n.positiveRoi=n.positiveRoiIDs.length,n.negativeRoi=n.negativeRoiIDs.length}return t}colsInfo(){let t=new Array(this.width),e=0;for(let r=0;r<this.width;r++){let n={col:e,positivePixel:0,negativePixel:0,zeroPixel:0,positiveRoi:0,negativeRoi:0,medianChange:0};t[e++]=n;let i={},o={},a=[],s=this.data[r],h=0;for(let t=r;t<r+this.data.length;t+=this.width){let e=this.data[t];s!==e&&(s=e,a.push(h),h=0),h++,e>0?(n.positivePixel++,i[e]||(i[e]=!0)):e<0?(n.negativePixel++,o[e]||(o[e]=!0)):n.zeroPixel++}a.push(h),n.medianChange=a.sort((t,e)=>t-e)[Math.floor(a.length/2)],n.positiveRoiIDs=Object.keys(i),n.negativeRoiIDs=Object.keys(o),n.positiveRoi=n.positiveRoiIDs.length,n.negativeRoi=n.negativeRoiIDs.length}return t}}function ih(t,e={}){const{allowCorners:r=!1}=e,n=65535;let i=new Int16Array(t.size),o=0,a=0,s=new Uint16Array(n+1),h=new Uint16Array(n+1);for(let u=0;u<t.width;u++)for(let e=0;e<t.height;e++)0===i[e*t.width+u]&&l(u,e);function l(e,l){let u=0,c=0,f=t.getBitXY(e,l),d=f?++o:--a;if(o>32767||a<-32768)throw new Error("Too many regions of interest");s[0]=e,h[0]=l;while(u<=c){let e=s[u&n],o=h[u&n];if(i[o*t.width+e]=d,e>0&&0===i[o*t.width+e-1]&&t.getBitXY(e-1,o)===f&&(c++,s[c&n]=e-1,h[c&n]=o,i[o*t.width+e-1]=-32768),o>0&&0===i[(o-1)*t.width+e]&&t.getBitXY(e,o-1)===f&&(c++,s[c&n]=e,h[c&n]=o-1,i[(o-1)*t.width+e]=-32768),e<t.width-1&&0===i[o*t.width+e+1]&&t.getBitXY(e+1,o)===f&&(c++,s[c&n]=e+1,h[c&n]=o,i[o*t.width+e+1]=-32768),o<t.height-1&&0===i[(o+1)*t.width+e]&&t.getBitXY(e,o+1)===f&&(c++,s[c&n]=e,h[c&n]=o+1,i[(o+1)*t.width+e]=-32768),r&&(e>0&&o>0&&0===i[(o-1)*t.width+e-1]&&t.getBitXY(e-1,o-1)===f&&(c++,s[c&n]=e-1,h[c&n]=o-1,i[(o-1)*t.width+e-1]=-32768),e<t.width-1&&o>0&&0===i[(o-1)*t.width+e+1]&&t.getBitXY(e+1,o-1)===f&&(c++,s[c&n]=e+1,h[c&n]=o-1,i[(o-1)*t.width+e+1]=-32768),e>0&&o<t.height-1&&0===i[(o+1)*t.width+e-1]&&t.getBitXY(e-1,o+1)===f&&(c++,s[c&n]=e-1,h[c&n]=o+1,i[(o+1)*t.width+e-1]=-32768),e<t.width-1&&o<t.height-1&&0===i[(o+1)*t.width+e+1]&&t.getBitXY(e+1,o+1)===f&&(c++,s[c&n]=e+1,h[c&n]=o+1,i[(o+1)*t.width+e+1]=-32768)),u++,c-u>n)throw new Error("analyseMask can not finish, the array to manage internal data is not big enough.You could improve mask by changing MAX_ARRAY")}}return new nh(t,i)}var oh=r("c2d9"),ah=r.n(oh);const sh=[-1,0],hh=[0,-1],lh=[null,null],uh=[-1,-1,0,1],ch=[0,-1,-1,-1],fh=[null,null,null,null];function dh(t,e={}){const{allowCorners:r=!1}=e;let n,i,o,a=4;if(r&&(a=8),8===a)n=uh,i=ch,o=fh;else{if(4!==a)throw new RangeError("unsupported neighbours count: "+a);n=sh,i=hh,o=lh}const s=t.size,h=t.width,l=t.height,u=new Array(s),c=new Uint32Array(s),f=new ah.a;let d=1;for(let g=0;g<l;g++)for(let e=0;e<h;e++){const r=e+g*h;if(t.getBit(r)){let t=null;for(let r=0;r<o.length;r++){const a=e+n[r],s=g+i[r];if(a>=0&&s>=0&&a<h&&s<l){const e=a+s*h;let n=u[e];n?(o[r]=n,(!t||o[r].value<t.value)&&(t=o[r])):o[r]=null}}if(t){u[r]=t;for(let e=0;e<o.length;e++)o[e]&&o[e]!==t&&f.union(t,o[e])}else u[r]=f.add(d++)}}for(let g=0;g<l;g++)for(let e=0;e<h;e++){const r=e+g*h;t.getBit(r)&&(c[r]=f.find(u[r]).value)}return new nh(t,c)}function gh(t={}){let{allowCorner:e=!0,onlyTop:r=!1,invert:n=!1}=t,i=this;i.checkProcessable("fromMaxima",{components:[1]});const o=1,a=2;let s=0,h=0,l=new Int16Array(i.size),u=new Int8Array(i.size),c=new Float32Array(i.size),f=1048575,d=new Uint16Array(f+1),g=new Uint16Array(f+1),p=0,m=0,w=new Uint16Array(f+1),y=new Uint16Array(f+1),b=0,v=0;x(i,{maxima:!n});while(p<m){let t=d[p&f],e=g[p&f];M(t,e,a),p++}return new nh(i,l);function x({maxima:t=!0}){for(let r=1;r<i.height-1;r++)for(let n=1;n<i.width-1;n++){let a=n+r*i.width;if(0===u[a]){let u=t?i.data[a]:-i.data[n+r*i.width];if(i.data[r*i.width+n-1]>u)continue;if(i.data[r*i.width+n+1]>u)continue;if(i.data[(r-1)*i.width+n]>u)continue;if(i.data[(r+1)*i.width+n]>u)continue;if(e){if(i.data[(r-1)*i.width+n-1]>u)continue;if(i.data[(r-1)*i.width+n+1]>u)continue;if(i.data[(r+1)*i.width+n-1]>u)continue;if(i.data[(r+1)*i.width+n+1]>u)continue}l[a]=t?++s:--h;let c=_(n,r,o);c||(t?--s:++h)}}}function _(t,e){let r=m;b=0,v=1,w[0]=t,y[0]=e;let n=!0;while(b<v){let t=w[b&f],e=y[b&f];n&=M(t,e,o),b++}if(!n){for(let t=0;t<v;t++){let e=w[t&f],r=y[t&f],n=r*i.width+e;l[n]=0}m=r}return n}function M(t,e,n){let s=l[e*i.width+t],h=i.data[e*i.width+t];for(let p=e-1;p<=e+1;p++)for(let e=t-1;e<=t+1;e++){let t=p*i.width+e;if(0===u[t])switch(u[t]=1,c[t]=i.data[t]-h,n){case o:if(0===c[t]){if(0===e||0===p||e===i.width-1||p===i.height-1)return!1;l[t]=s,w[v&f]=e,y[v&f]=p,v++}else{if(c[t]>0)return!1;r||(l[t]=s,d[m&f]=e,g[m&f]=p,m++)}break;case a:c[t]<=0&&(l[t]=s,d[m&f]=e,g[m&f]=p,m++);break;default:throw new Error("unreachable")}}return!0}}var ph=r("6b83"),mh=r.n(ph);const wh=[1,0,-1,0,1,1,-1,-1],yh=[0,1,0,-1,1,-1,1,-1];function bh(t={}){let{points:e,mask:r,image:n,fillMaxValue:i=this.maxValue,invert:o=!1}=t,a=n||this;a.checkProcessable("fromWaterShed",{bitDepth:[8,16],components:1}),o=!o,e||(e=a.getLocalMaxima({invert:o,mask:r}));let s=o?0:1,h=new Int16Array(a.size),l=a.width,u=a.height,c=new mh.a({comparator:(t,e)=>t[2]-e[2],strategy:mh.a.BinaryHeapStrategy});for(let f=0;f<e.length;f++){let t=e[f][0]+e[f][1]*l;h[t]=f+1;let r=a.data[t];(o&&r<=i||!o&&r>=i)&&c.queue([e[f][0],e[f][1],r])}while(c.length>0){let t=c.dequeue(),e=t[0]+t[1]*l;for(let n=0;n<4;n++){let f=t[0]+wh[n],d=t[1]+yh[n];if(f>=0&&d>=0&&f<l&&d<u){let u=f+d*l;if(!r||r.getBit(u)===s){let r=a.data[u];(o&&r<=i||!o&&r>=i)&&0===h[u]&&(h[u]=h[e],c.queue([t[0]+wh[n],t[1]+yh[n],r]))}}}}return new nh(a,h)}function vh(t,e={}){let r=new bs(e),n=new Int16Array(this.size),i=0,o=r.getPoints();for(let a=0;a<t.length;a++){i++;let e=t[a][0],r=t[a][1];for(let t=0;t<o.length;t++){let a=o[t][0],s=o[t][1];e+a>=0&&r+s>=0&&e+a<this.width&&r+s<this.height&&(n[e+a+(r+s)*this.width]=i)}}return new nh(this,n)}var xh=r("705b"),_h=r.n(xh);class Mh{constructor(t,e){this.map=t,this.id=e,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY,this.meanX=0,this.meanY=0,this.surface=0,this.computed={}}getMask(t={}){const{scale:e=1,kind:r=""}=t;let n;switch(r){case"contour":n=this.contourMask;break;case"box":n=this.boxMask;break;case"filled":n=this.filledMask;break;case"center":n=this.centerMask;break;case"hull":n=this.hullMask;break;case"mbr":n=this.mbrMask;break;default:n=this.mask}return e<1&&(n=n.resize({factor:e}),n.parent=this.mask.parent,n.position[0]+=this.minX,n.position[1]+=this.minY),n}get mean(){throw new Error("Roi mean not implemented yet")}get center(){return this.computed.center||(this.computed.center=[this.width/2>>0,this.height/2>>0]),this.computed.center}get ratio(){return this.width/this.height}get width(){return this.maxX-this.minX+1}get height(){return this.maxY-this.minY+1}_computExternalIDs(){let t=this.borderIDs,e=this.borderLengths;this.computed.externalIDs=[],this.computed.externalLengths=[];let r=this.internalIDs;for(let n=0;n<t.length;n++)r.includes(t[n])||(this.computed.externalIDs.push(t[n]),this.computed.externalLengths.push(e[n]))}get externalIDs(){return this.computed.externalIDs||this._computExternalIDs(),this.computed.externalIDs}get externalLengths(){return this.computed.externalLengths||this._computExternalIDs(),this.computed.externalLengths}_computeBorderIDs(){let t=kh(this);this.computed.borderIDs=t.ids,this.computed.borderLengths=t.lengths}get borderIDs(){return this.computed.borderIDs||this._computeBorderIDs(),this.computed.borderIDs}get borderLengths(){return this.computed.borderLengths||this._computeBorderIDs(),this.computed.borderLengths}get boxIDs(){return this.computed.boxIDs||(this.computed.boxIDs=Ah(this)),this.computed.boxIDs}get internalIDs(){return this.computed.internalIDs||(this.computed.internalIDs=Ph(this)),this.computed.internalIDs}get box(){return this.computed.box||(this.computed.box=Eh(this)),this.computed.box}get external(){return this.computed.external||(this.computed.external=Th(this)),this.computed.external}get border(){return this.computed.border||(this.computed.border=Sh(this)),this.computed.border}get contourMask(){if(!this.computed.contourMask){let t=new Bh(this.width,this.height,{kind:ar,position:[this.minX,this.minY],parent:this.map.parent});for(let e=0;e<this.width;e++)for(let r=0;r<this.height;r++)this.map.data[e+this.minX+(r+this.minY)*this.map.width]===this.id&&(e>0&&e<this.width-1&&r>0&&r<this.height-1&&this.map.data[e-1+this.minX+(r+this.minY)*this.map.width]===this.id&&this.map.data[e+1+this.minX+(r+this.minY)*this.map.width]===this.id&&this.map.data[e+this.minX+(r-1+this.minY)*this.map.width]===this.id&&this.map.data[e+this.minX+(r+1+this.minY)*this.map.width]===this.id||t.setBitXY(e,r));this.computed.contourMask=t}return this.computed.contourMask}get boxMask(){if(!this.computed.boxMask){let t=new Bh(this.width,this.height,{kind:ar,position:[this.minX,this.minY],parent:this.map.parent});for(let e=0;e<this.width;e++)t.setBitXY(e,0),t.setBitXY(e,this.height-1);for(let e=0;e<this.height;e++)t.setBitXY(0,e),t.setBitXY(this.width-1,e);this.computed.boxMask=t}return this.computed.boxMask}get mask(){if(!this.computed.mask){let t=new Bh(this.width,this.height,{kind:ar,position:[this.minX,this.minY],parent:this.map.parent});for(let e=0;e<this.width;e++)for(let r=0;r<this.height;r++)this.map.data[e+this.minX+(r+this.minY)*this.map.width]===this.id&&t.setBitXY(e,r);this.computed.mask=t}return this.computed.mask}get filledMask(){if(!this.computed.filledMask){let t=new Bh(this.width,this.height,{kind:ar,position:[this.minX,this.minY],parent:this.map.parent});for(let e=0;e<this.width;e++)for(let r=0;r<this.height;r++){let n=e+this.minX+(r+this.minY)*this.map.width;this.internalIDs.includes(this.map.data[n])&&t.setBitXY(e,r)}this.computed.filledMask=t}return this.computed.filledMask}get centerMask(){if(!this.computed.centerMask){let t=new bs({kind:"smallCross"}).getMask();t.parent=this.map.parent,t.position=[this.minX+this.center[0]-1,this.minY+this.center[1]-1],this.computed.centerMask=t}return this.computed.centerMask}get hullMask(){if(!this.computed.hullMask){const t=new Bh(this.width,this.height,{kind:ar,position:[this.minX,this.minY],parent:this.map.parent}),e=this.contourMask.monotoneChainConvexHull();for(let r=0;r<this.width;r++)for(let n=0;n<this.height;n++)1!==_h()(e,[r,n])&&t.setBitXY(r,n);this.computed.hullMask=t}return this.computed.hullMask}get mbrMask(){if(!this.computed.mbrMask){const t=new Bh(this.width,this.height,{kind:ar,position:[this.minX,this.minY],parent:this.map.parent}),e=this.mask.minimalBoundingRectangle();for(let r=0;r<this.width;r++)for(let n=0;n<this.height;n++)1!==_h()(e,[r,n])&&t.setBitXY(r,n);this.computed.mbrMask=t}return this.computed.mbrMask}get points(){if(!this.computed.points){let t=[];for(let e=0;e<this.height;e++)for(let r=0;r<this.width;r++){let n=(e+this.minY)*this.map.width+r+this.minX;this.map.data[n]===this.id&&t.push([r,e])}this.computed.points=t}return this.computed.points}get maxLengthPoints(){if(!this.computed.maxLengthPoints){let t,e=0;const r=this.points;for(let n=0;n<r.length;n++)for(let i=n+1;i<r.length;i++){let o=Math.pow(r[n][0]-r[i][0],2)+Math.pow(r[n][1]-r[i][1],2);o>=e&&(e=o,t=[r[n],r[i]])}this.computed.maxLengthPoints=t}return this.computed.maxLengthPoints}get maxLength(){if(!this.computed.maxLength){let t=Math.sqrt(Math.pow(this.maxLengthPoints[0][0]-this.maxLengthPoints[1][0],2)+Math.pow(this.maxLengthPoints[0][1]-this.maxLengthPoints[1][1],2));this.computed.maxLength=t}return this.computed.maxLength}get angle(){if(!this.computed.angle){let t=this.maxLengthPoints,e=180*-Math.atan2(t[0][1]-t[1][1],t[0][0]-t[1][0])/Math.PI;this.computed.angle=e}return this.computed.angle}toJSON(){return{id:this.id,minX:this.minX,maxX:this.maxX,minY:this.minY,maxY:this.maxY,meanX:this.meanX,meanY:this.meanY,height:this.height,width:this.width,surface:this.surface}}}function kh(t){let e=t.map,r=e.data,n=new Set,i=new Map,o=new Set,a=[1,0,-1,0],s=[0,1,0,-1];for(let u=t.minX;u<=t.maxX;u++)for(let h=t.minY;h<=t.maxY;h++){let l=u+h*e.width;if(r[l]===t.id)for(let c=0;c<4;c++){let l=u+a[c],f=h+s[c];if(l>=0&&f>=0&&l<e.width&&f<e.height){let a=l+f*e.width;if(r[a]!==t.id&&!o.has(a)){o.add(a),n.add(r[a]);let t=i.get(r[a]);t?i.set(r[a],++t):i.set(r[a],1)}}}}let h=Array.from(n),l=h.map((function(t){return i.get(t)}));return{ids:h,lengths:l}}function Ah(t){let e=new Set,r=t.map,n=r.data;for(let i of[0,t.height-1])for(let o=0;o<t.width;o++){let a=(i+t.minY)*r.width+o+t.minX;if(o-t.minX>0&&n[a]===t.id&&n[a-1]!==t.id){let t=n[a-1];e.add(t)}if(r.width-o-t.minX>1&&n[a]===t.id&&n[a+1]!==t.id){let t=n[a+1];e.add(t)}}for(let i of[0,t.width-1])for(let o=0;o<t.height;o++){let a=(o+t.minY)*r.width+i+t.minX;if(o-t.minY>0&&n[a]===t.id&&n[a-r.width]!==t.id){let t=n[a-r.width];e.add(t)}if(r.height-o-t.minY>1&&n[a]===t.id&&n[a+r.width]!==t.id){let t=n[a+r.width];e.add(t)}}return Array.from(e)}function Eh(t){let e=0,r=t.map,n=r.data,i=[0];t.height>1&&(i[1]=t.height-1);for(let a of i)for(let i=1;i<t.width-1;i++){let o=(a+t.minY)*r.width+i+t.minX;n[o]===t.id&&e++}let o=[0];t.width>1&&(o[1]=t.width-1);for(let a of o)for(let i=0;i<t.height;i++){let o=(i+t.minY)*r.width+a+t.minX;n[o]===t.id&&e++}return e}function Sh(t){let e=0,r=t.map,n=r.data;for(let i=1;i<t.width-1;i++)for(let o=1;o<t.height-1;o++){let a=(o+t.minY)*r.width+i+t.minX;n[a]===t.id&&(n[a-1]===t.id&&n[a+1]===t.id&&n[a-r.width]===t.id&&n[a+r.width]===t.id||e++)}return e+t.box}function Th(t){let e=0,r=t.map,n=r.data;for(let i=1;i<t.width-1;i++)for(let o=1;o<t.height-1;o++){let a=(o+t.minY)*r.width+i+t.minX;n[a]===t.id&&(t.externalIDs.includes(n[a-1])||t.externalIDs.includes(n[a+1])||t.externalIDs.includes(n[a-r.width])||t.externalIDs.includes(n[a+r.width]))&&e++}return e+t.box}function Ph(t){let e=[t.id],r=t.map,n=r.data;if(t.height>2)for(let o=0;o<t.width;o++){let i=t.minY*r.width+o+t.minX;if(e.includes(n[i])){let o=n[i+r.width];e.includes(o)||t.boxIDs.includes(o)||e.push(o)}}let i=new Array(4);for(let o=1;o<t.width-1;o++)for(let a=1;a<t.height-1;a++){let s=(a+t.minY)*r.width+o+t.minX;if(e.includes(n[s])){i[0]=n[s-1],i[1]=n[s+1],i[2]=n[s-r.width],i[3]=n[s+r.width];for(let r=0;r<4;r++){let n=i[r];e.includes(n)||t.boxIDs.includes(n)||e.push(n)}}}return e}class Ih{constructor(t,e){this.roiMap=t,this.options=e,this.roi=this.createRoi()}createRoi(){let t=this.roiMap.data,e={};this.roiMap.positive=0,this.roiMap.negative=0;for(let a=0;a<t.length;a++)t[a]&&!e[t[a]]&&(e[t[a]]=!0,t[a]>0?this.roiMap.positive++:this.roiMap.negative++);let r={};for(let a in e)r[a]=new Mh(this.roiMap,1*a);let n=this.roiMap.width,i=this.roiMap.height;for(let a=0;a<i;a++)for(let e=0;e<n;e++){let i=a*n+e;if(0!==t[i]){const n=t[i],o=r[n];e<o.minX&&(o.minX=e),e>o.maxX&&(o.maxX=e),a<o.minY&&(o.minY=a),a>o.maxY&&(o.maxY=a),o.meanX+=e,o.meanY+=a,o.surface++}}let o=[];for(let a in e)r[a].meanX/=r[a].surface,r[a].meanY/=r[a].surface,o.push(r[a]);return o}}class Dh{constructor(t,e={}){this._image=t,this._options=e,this._options.label||(this._options.label="default"),this._layers={},this._painted=null}fromMaxima(t={}){let e=Object.assign({},this._options,t),r=gh.call(this._image,t);this._layers[e.label]=new Ih(r,e)}fromPoints(t,e={}){let r=Object.assign({},this._options,e),n=vh.call(this._image,t,e);return this._layers[r.label]=new Ih(n,r),this}putMap(t,e={}){let r=new nh(this._image,t),n=Object.assign({},this._options,e);return this._layers[n.label]=new Ih(r,n),this}fromWaterShed(t={}){let e=Object.assign({},this._options,t),r=bh.call(this._image,t);this._layers[e.label]=new Ih(r,e)}fromMask(t,e={}){let r=Object.assign({},this._options,e),n=ih.call(this._image,t,e);return this._layers[r.label]=new Ih(n,r),this}fromMaskConnectedComponentLabelingAlgorithm(t,e={}){let r=Object.assign({},this._options,e),n=dh.call(this._image,t,e);return this._layers[r.label]=new Ih(n,r),this}getMap(t={}){let e=Object.assign({},this._options,t);return this._assertLayerWithLabel(e.label),this._layers[e.label].roiMap}rowsInfo(t={}){return this.getMap(t).rowsInfo()}colsInfo(t={}){return this.getMap(t).rowsInfo()}getRoiIds(t={}){let e=this.getRois(t);if(e){let t=new Array(e.length);for(let r=0;r<e.length;r++)t[r]=e[r].id;return t}throw new Error("ROIs not found")}getRois(t={}){let{label:e=this._options.label,positive:r=!0,negative:n=!0,minSurface:i=0,maxSurface:o=Number.POSITIVE_INFINITY,minWidth:a=0,maxWidth:s=Number.POSITIVE_INFINITY,minHeight:h=0,maxHeight:l=Number.POSITIVE_INFINITY,minRatio:u=0,maxRatio:c=Number.POSITIVE_INFINITY}=t;if(!this._layers[e])throw new Error(`this Roi layer (${e}) does not exist`);const f=this._layers[e].roi,d=[];for(const g of f)(g.id<0&&n||g.id>0&&r)&&g.surface>=i&&g.surface<=o&&g.width>=a&&g.width<=s&&g.height>=h&&g.height<=l&&g.ratio>=u&&g.ratio<=c&&d.push(g);return d}getRoi(t,e={}){const{label:r=this._options.label}=e;if(!this._layers[r])throw new Error(`this Roi layer (${r}) does not exist`);const n=this._layers[r].roi.find(e=>e.id===t);if(!n)throw new Error("found no Roi with id "+t);return n}getMasks(t={}){let e=this.getRois(t),r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n].getMask(t);return r}getData(t={}){let e=Object.assign({},this._options,t);return this._assertLayerWithLabel(e.label),this._layers[e.label].roiMap.data}paint(t={}){let{labelProperty:e}=t;this._painted||(this._painted=this._image.rgba8());let r=this.getMasks(t);if(e){let r=this.getRois(t);t.labels=r.map(t=>t[e]),t.labelsPosition=r.map(t=>[t.meanX,t.meanY])}return this._painted.paintMasks(r,t),this._painted}getMask(t={}){let e=new Bh(this._image.width,this._image.height,{kind:"BINARY"}),r=this.getMasks(t);for(let n=0;n<r.length;n++){let t=r[n];for(let r=0;r<t.width;r++)for(let n=0;n<t.height;n++)t.getBitXY(r,n)&&e.setBitXY(r+t.position[0],n+t.position[1])}return e}resetPainted(t={}){const{image:e}=t;this._painted=e?this.image.rgba8():this._image.rgba8()}mergeRoi(t={}){const e=this.getMap(t);return e.mergeRoi(t),this.putMap(e.data,t),this}mergeRois(t,e={}){if(!Array.isArray(t)||t.some(t=>!Number.isInteger(t)))throw new Error("Roi ids must be an array of integers");if(t.length<2)throw new Error("Roi ids must have at least two elements");if(new Set(t).size!==t.length)throw new Error("Roi ids must be all different");t.forEach(t=>this.getRoi(t));const r=this.getMap(e);return r.mergeRois(t),this.putMap(r.data,e),this}findCorrespondingRoi(t,e={}){let r=this.getRois(e),n=[];for(let i=0;i<r.length;i++){let e=r[i],o=e.minX,a=e.minY,s=e.points,h=Math.sign(e.id),l=Ch(o,a,s,t,h);n.push(l)}return n}_assertLayerWithLabel(t){if(!this._layers[t])throw new Error("no layer with label "+t)}}function Ch(t,e,r,n,i){let o={id:[],surface:[],roiSurfaceCovered:[],same:0,opposite:0,total:0};for(let a=0;a<r.length;a++){let i=r[a],s=i[0],h=i[1],l=s+t+(h+e)*n.width,u=n.data[l];(u>0||u<0)&&(o.id.includes(u)?o.surface[o.id.indexOf(u)]+=1:(o.id.push(u),o.surface.push(1)))}for(let a=0;a<o.id.length;a++){let t=Math.sign(o.id[a]);t===i?o.same+=o.surface[a]:o.opposite+=o.surface[a],o.roiSurfaceCovered[a]=o.surface[a]/r.length}return o.total=o.opposite+o.same,o}const Rh=Object.prototype.toString;class Bh{constructor(t,e,r,n){if(1===arguments.length?(n=t,({width:t,height:e,data:r}=n)):r&&!r.length&&(n=r,({data:r}=n)),void 0===t&&(t=1),void 0===e&&(e=1),void 0===n&&(n={}),"object"!==typeof n||null===n)throw new TypeError("options must be an object");if(!Number.isInteger(t)||t<=0)throw new RangeError("width must be a positive integer");if(!Number.isInteger(e)||e<=0)throw new RangeError("height must be a positive integer");const{kind:i=ur}=n;if("string"!==typeof i)throw new TypeError("kind must be a string");const o=gr(i),a=Object.assign({},n);for(const g in o)void 0===a[g]&&(a[g]=o[g]);mr(a);const{components:s,bitDepth:h,colorModel:l}=a,u=a.alpha+0,c=t*e,f=s+u,d=32===h?Number.MAX_VALUE:2**h-1;if(void 0===r)r=yr(c,s,u,f,h,d);else{const t=wr(c,f,h);if(r.length!==t)throw new RangeError(`incorrect data size: ${r.length}. Should be ${t}`)}this.width=t,this.height=e,this.data=r,this.size=c,this.components=s,this.alpha=u,this.bitDepth=h,this.maxValue=d,this.colorModel=l,this.channels=f,this.meta=n.meta||{},Object.defineProperty(this,"parent",{enumerable:!1,writable:!0,configurable:!0,value:n.parent||null}),this.position=n.position||[0,0],this.computed=null,this.sizes=[this.width,this.height],this.multiplierX=this.channels,this.multiplierY=this.channels*this.width,this.isClamped=this.bitDepth<32,this.borderSizes=[0,0]}get[Symbol.toStringTag](){return"IJSImage"}static isImage(t){return"[object IJSImage]"===Rh.call(t)}static fromCanvas(t){const e=t.getContext("2d"),r=e.getImageData(0,0,t.width,t.height);return new Bh(r.width,r.height,r.data)}static createFrom(t,e){const r=Ln(t);return Object.assign(r,{parent:t,position:[0,0]},e),new Bh(r)}getRoiManager(t){return new Dh(this,t)}clone(){const t=this.data.slice();return new Bh(this.width,this.height,t,this)}apply(t){for(let e=0;e<this.height;e++)for(let r=0;r<this.width;r++){let n=(e*this.width+r)*this.channels;t.call(this,n)}}}On(Bh),Rt(Bh),je(Bh),Bh.prototype.checkProcessable=Bt,Bh.prototype.getRGBAData=Je,Bh.load=kn,Bh.extendMethod=$e,Bh.extendProperty=Ge,th(Bh);var Oh=r("77b0"),Lh=r.n(Oh);const Uh={regression:{kernelType:"polynomial",kernelOptions:{degree:2,constant:1}},threshold:.02,roi:{minSurface:100,positive:!1},sampling:20,include:[]};function Nh(t,e,r){e=Object.assign({},Uh,e);const n=this.manager;return Array.isArray(t)?Promise.all(t.map((function(t){const i=zh(n,t,e);return"function"===typeof r&&i.then(r),i}))):zh(n,t,e)}function zh(t,e,r){return t.post("data",[e,r]).then((function(t){for(let e in t)t[e]=new Bh(t[e]);return t}))}function Fh(){worker.on("data",(function(t,e,r){e=new IJS(e);const n={},i=[],o=e.grey(),a=o.sobelFilter();d("sobel",a);const s=a.level().mask({threshold:r.threshold});d("mask",s);const h=a.getRoiManager();h.fromMask(s);const l=h.getMask(r.roi);d("realMask",l);const u=o.getPixelsGrid({sampling:r.sampling,mask:l}),c=e.getBackground(u.xyS,u.zS,r.regression);d("background",c);const f=e.subtract(c);function d(t,e){r.include.includes(t)&&(n[t]=e,i.push(e.data.buffer))}n.result=f,i.push(f.data.buffer),t(n,i)}))}const jh={run:Nh,work:Fh};var Yh=jh;function Vh(t){t.extendMethod("background",Yh)}class Xh{constructor(){this._url=null,this._deps=[null]}checkUrl(){if(null===this._url)throw new Error("image worker must be initialized with an URL")}get url(){return this._url}set url(t){if("string"!==typeof t)throw new TypeError("worker URL must be a string");this._url=t,this._deps[0]=t}static extendMethod(t,e){let r,n,i={};function o(...t){return r||(this.checkUrl(),n=this.url,r=new Lh.a(e.work,{deps:n}),i.manager=r),e.run.call(i,...t)}o.reset=function(){r&&(r.terminate(),r=new Lh.a(e.work,{deps:n}),i.manager=r)},Xh.prototype[t]=o}}Vh(Xh);new Xh;var $h={name:"TDragPicture",props:{border:{type:Boolean,default:!1},src:String,alt:String,noticeSrc:String,noticePosition:{type:String,default:"bottom-right"}},data:function(){return{loading:!1,hasMove:!1,locate:{x:"",y:""},canvasText:null,image:{data:null,currentX:0,currentY:0,width:0,height:0,size:1},notice:{display:!0}}},computed:{noticePositionClassName:function(){var t=this.noticePosition;return"top-left"===t?"t-top-left":"top-right"===t?"t-top-right":"bottom-left"===t?"t-bottom-left":"t-bottom-right"}},watch:{src:function(t){this.loadImage(t),this.locate.x="",this.locate.y="",this.image.currentX=0,this.image.currentY=0,this.image.width=0,this.image.height=0,this.image.size=1}},mounted:function(){var t=this;this.$nextTick((function(){var e=t.src,r=t.$refs.dragPanel,n=t.$refs.canvas;n.width=r.offsetWidth,n.height=r.offsetHeight,t.canvasText=n.getContext("2d"),t.loadImage(e)}))},methods:{handleImageMousedown:function(t){var e=t.screenX,r=t.screenY;this.hasMove=!0,this.locate.x=e,this.locate.y=r},handleImageMouseup:function(t){if(this.hasMove){var e=t.screenX,r=t.screenY,n=this.locate,i=n.x,o=n.y;this.hasMove=!1,this.image.currentX+=e-i,this.image.currentY+=r-o,this.locate.x="",this.locate.y=""}},handleImageMousemove:function(t){if(this.hasMove){var e=this.$refs.dragPanel,r=this.locate,n=r.x,i=r.y,o=t.screenX,a=t.screenY,s=this.image.data,h=this.image,l=h.currentX,u=h.currentY,c=h.width,f=h.height,d=h.size,g=l+o-n,p=u+a-i,m=c*d,w=f*d,y=e.offsetWidth/2-m/2,b=e.offsetHeight/2-w/2;this.canvasText.clearRect(0,0,e.offsetWidth,e.offsetHeight);var v={x:y+g,y:b+p};this.canvasText.drawImage(s,v.x,v.y,m,w)}},handleImageMouseout:function(t){if(this.hasMove){var e=t.screenX,r=t.screenY,n=this.locate,i=n.x,o=n.y;this.hasMove=!1,this.image.currentX+=e-i,this.image.currentY+=r-o,this.locate.x="",this.locate.y=""}},handleImageMounseScroll:function(t){var e=this.$refs.dragPanel,r=t.deltaY,n=this.image,i=n.data,o=n.currentX,a=n.currentY,s=n.width,h=n.height,l=r/1e3;this.image.size=Math.round(10*(this.image.size-l))/10,this.image.size<.4&&(this.image.size=.4),this.image.size>3&&(this.image.size=3);var u=s*this.image.size,c=h*this.image.size,f=(e.offsetWidth-u)/2,d=(e.offsetHeight-c)/2;this.canvasText.clearRect(0,0,e.offsetWidth,e.offsetHeight);var g={x:f+o,y:d+a};this.canvasText.drawImage(i,g.x,g.y,u,c)},handleImageRefreshChick:function(){var t=this.$refs.dragPanel,e=this.image,r=e.data,n=e.width,i=e.height;this.image.currentX=0,this.image.currentY=0,this.image.size=1;var o=n*this.image.size,a=i*this.image.size,s=t.offsetWidth/2-o/2,h=t.offsetHeight/2-a/2;this.canvasText.clearRect(0,0,t.offsetWidth,t.offsetHeight),this.canvasText.drawImage(r,s,h,n,i)},handleNoticeCloseClick:function(){this.notice.display=!this.notice.display},loadImage:function(t){var e=this,r=this.$refs.dragPanel;if(t){this.loading=!0;var n=Bh.load(t);n.then((function(t){var n=r.offsetWidth,i=t.width,o=t.height;n/2*3<i&&(i=i/3*2,o=o/3*2);var a=e.image.data=t.getCanvas();e.image.width=i,e.image.height=o;var s=r.offsetWidth/2-i/2,h=r.offsetHeight/2-o/2;e.canvasText.clearRect(0,0,r.offsetWidth,r.offsetHeight),e.canvasText.drawImage(a,s,h,i,o),e.loading=!1}))}else this.canvasText.clearRect(0,0,r.offsetWidth,r.offsetHeight)}}},Gh=$h,Hh=v(Gh,Tt,Pt,!1,null,null,null),qh=Hh.exports;qh.install=function(t){t.component(qh.name,qh)};var Wh=qh,Zh=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-dialog",{ref:"dialog",staticClass:"t-dialog",attrs:{visible:t.display,title:t.title,width:t.width,fullscreen:t.fullscreen,top:t.top,modal:t.modal,"modal-append-to-body":t.modalAppendToBody,"lock-scroll":t.lockScroll,"custom-class":t.customClass,"close-on-click-modal":t.closeOnClickModal,"close-on-press-escape":t.closeOnPressEscape,"show-close":t.showClose,"before-close":t.beforeClose,center:t.center,"destroy-on-close":t.destroyOnClose},on:{"update:visible":function(e){t.display=e},open:t.handleDialogOpen,opened:t.handleDialogOpened,close:t.handleDialogClose,closed:t.handleDialogClosed},scopedSlots:t._u([{key:"title",fn:function(){return[t._t("title")]},proxy:!0},{key:"footer",fn:function(){return[t._t("footer")]},proxy:!0}],null,!0)},[t._t("default")],2)},Kh=[],Jh={name:"TDialog",props:{visible:Boolean,title:String,width:String,fullscreen:Boolean,top:String,modal:{type:Boolean,default:!0},modalAppendToBody:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},customClass:String,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},beforeClose:Function,center:Boolean,destroyOnClose:Boolean},data:function(){return{display:!1,className:{dialog:".el-dialog",header:".el-dialog__header"},position:{flag:!1,x:"",y:"",top:"",left:""}}},computed:{topNumber:function(){return this.toNumber(this.position.top)},leftNumber:function(){return this.toNumber(this.position.left)}},watch:{display:function(t){this.$listeners["update:visible"]&&this.$emit("update:visible",t)},visible:function(t){this.display=t}},mounted:function(){this.display=this.visible,this.hasCloseClickModal=this.closeOnClickModal},methods:{handleDialogOpen:function(){this.$listeners["open"]&&this.$emit("open")},handleDialogOpened:function(){var t=this;this.$listeners["opened"]&&this.$emit("opened"),this.$nextTick((function(){t.dialogHeaderEvent()}))},handleDialogClose:function(){this.$listeners["close"]&&this.$emit("close")},handleDialogClosed:function(){this.$listeners["closed"]&&this.$emit("closed"),this.dialogHeaderEvent("remove"),this.dragMoveRemoveStyle("clear")},handleHeaderMousedown:function(t){var e=t.pageX,r=t.pageY,n=this.$refs["dialog"].$el.querySelector(".el-dialog");n.style.position||(n.style.position="relative"),this.position.x=e,this.position.y=r,this.position.flag=!0,this.dragMoveAddStyle()},handleHeaderMouseup:function(){if(this.position.flag){var t=this.className.dialog;this.position.flag=!1,this.position.x="",this.position.y="";var e=this.$refs["dialog"].$el.querySelector(t),r=e.style,n=r.top,i=r.left;this.position.top=parseInt(n),this.position.left=parseInt(i),this.dragMoveRemoveStyle()}},handleHeaderMousemove:function(t){var e=this.position,r=e.flag,n=e.x,i=e.y;if(r){var o=t.pageX,a=t.pageY,s=this.className.dialog,h=this.topNumber,l=this.leftNumber,u=this.$refs["dialog"].$el.querySelector(s);u.style.top=h+a-i+"px",u.style.left=l+o-n+"px"}},dialogHeaderEvent:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"add",e=this.className.header,r=this.handleHeaderMousedown,n=this.handleHeaderMouseup,i=this.handleHeaderMousemove,o=document.body,a=this.$refs["dialog"].$el.querySelector(e);"add"===t?(a.addEventListener("mousedown",r,!1),o.addEventListener("mousemove",i,!1),o.addEventListener("mouseup",n,!1)):"remove"===t&&(a.removeEventListener("mousedown",r,!1),o.removeEventListener("mousemove",i,!1),o.removeEventListener("mouseup",n,!1))},dragMoveAddStyle:function(){var t=this.className.header,e=this.$refs["dialog"].$el.querySelector(t);e.style.cursor="move",e.style.userSelect="none"},dragMoveRemoveStyle:function(t){var e=this.className.header,r=this.$refs["dialog"].$el.querySelector(e);r.style.cursor="",r.style.userSelect="","clear"===t&&(this.position.flag=!1,this.position.x="",this.position.y="",this.position.top="",this.position.left="")},toNumber:function(t){return t?parseInt(t):0}}},Qh=Jh,tl=v(Qh,Zh,Kh,!1,null,null,null),el=tl.exports;el.install=function(t){t.component(el.name,el)};var rl=el,nl=[M,nt,dt,vt,St,Wh,rl],il=function(t){nl.forEach((function(e){t.component(e.name,e)}))},ol=f({install:il},nl);e["default"]=ol},fc6a:function(t,e,r){var n=r("44ad"),i=r("1d80");t.exports=function(t){return n(i(t))}},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(t,e,r){var n=r("4930");t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},ff9d:function(t,e,r){"use strict";const n=r("3d78"),i=new Set(["jpg","png","gif","webp","flif","cr2","tif","bmp","jxr","psd","ico","bpg","jp2","jpm","jpx","heic","cur","dcm"]),o=t=>{const e=n(t);return i.has(e&&e.ext)?e:null};t.exports=o,t.exports.default=o,Object.defineProperty(o,"minimumBytes",{value:n.minimumBytes})}})}));
//# sourceMappingURL=index.umd.min.js.map